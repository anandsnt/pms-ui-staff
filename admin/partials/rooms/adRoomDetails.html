<section class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()"><!-- Edit Room -->
	<div>
		<div class="data-holder">
			<header class="content-title float">
				<h2>
					<span ng-show="editMode">{{ 'EDIT_ROOM' | translate }}</span>
					<span ng-hide="editMode">{{ 'ADD_ROOM' | translate }}</span>
					<span>
						{{roomNumber}}
					</span>
				</h2>
				<a ng-click="goBack()" id="go_back" data-type="load-details" class="action back">{{ 'BACK_TO_ROOMS' | translate }}</a>
			</header>
			<section class="content-scroll" id="room-detail-content">
			<div ng-include="'/assets/partials/common/notification_message.html'"></div>
			<form name="edit-room" id="edit-room" data-room-id="{{data.room_id}}" class="form float">
				<fieldset class="holder left">
					<div class="form-title">
						<h3>
							<span>{{ 'ROOM' | translate }}</span>
							{{ 'DETAILS' | translate }}
						</h3>
					</div>

				<ad-textbox value="data.room_number" name="room-number" id="room-number" label="Number" placeholder="{{ 'ENTER_ROOM_NUMBER' | translate }}"required="" maxlength=10>
				</ad-textbox>

				<ad-textbox value="data.max_occupancy" name="max-occupancy" id="max-occupancy" label="Max Occupancy " placeholder="Enter Max Occupancy" required=""></ad-textbox>

				<ad-dropdown div-class='full-width' label-in-drop-down="{{ 'SELECT_FLOOR' | translate }}"label="{{ 'SELECT_FLOOR' | translate }}" sel-class='placeholder'  list='floors' required='yes' selected-Id='data.selected_floor'></ad-dropdown>



				<ad-dropdown div-class='full-width' label-in-drop-down="{{ 'SELECT_ROOM_TYPE' | translate }}"label='Select room type' sel-class='placeholder' id='room-type' name='room-type' list='data.room_types' required='yes' selected-Id='data.room_type_id' on-change="roomTypeChanged"></ad-dropdown>
				
				<div class="entry full-width" ng-show="shouldShowAddSuiteRooms()">
					<ul class="entry-list">
						<li ng-repeat="componentRooms in availableComponentRooms">
							<label class="entry-list-label">{{componentRooms.room_type_name}} [Total configurable count: {{componentRooms.total_configurable_rooms}}]</label>
							<div class="select entry-list-input">								
								<select ng-change="selectedConfiguredRoom(componentRooms.selected_room_number, componentRooms.id, componentRooms.room_type_name )" ng-model="componentRooms.selected_room_number">
									<option value="">Room No</option>
									<option value="{{rooms.room_no}}" ng-repeat="rooms in componentRooms.rooms">{{rooms.room_no}}</option>		
								</select>
							</div>
						</li>						
					</ul>

					<label for="select-option1">
						{{'ROOM_NUMBERS' |translate}}
					</label>
					<div class="boxes">
						<div class="room-box room-box-large" ng-repeat="number in data.suite_rooms">
							<input type="hidden" name="radio-option" class="box ng-pristine ng-valid" >
							{{number.room_number}}
							<span class="room-no-type">{{number.room_type_name}}</span>
							<div class="del-no-box" ng-click="deleteRoomNumber($index)" ng-show="option.name != ''">
								<a class="icons icon-delete"></a>
							</div>
						</div>
					</div>
				</div>

				<div class="entry full-width">
					<label for="room-picture">
						{{ 'IMAGE' | translate }}
					</label>
					<div class="file-upload with-preview">
						<span class="input">{{fileName}}</span>
						<input ng-model="data.room_image" type="file" accept="image/*" name="room-picture" id="room-picture" value="{{data.room_image}}" app-filereader>
						<button type="button" class="button brand-colors" >{{ 'REPLACE_IMAGE' | translate }}</button>
					</div>
					<span class="file-preview">
						<img ng-src="{{data.room_image}}" id="file-preview" alt="">
					</span>
				</div>
				<div ng-hide="isStandAlone">
					<ad-checkbox is-checked="data.is_exclude_from_manual_room_assignment" label="{{ 'EXCLUDE_FROM_MANUAL_ROOM_ASSIGNMENT' | translate}}" div-class="full-width" ></ad-checkbox>
					<ad-checkbox is-checked="data.is_exclude_from_auto_room_assignment" label="{{ 'EXCLUDE_FROM_AUTO_ROOM_ASSIGNMENT' | translate}}" div-class="full-width" ></ad-checkbox>
					<ad-checkbox is-checked="data.is_exclude_from_manual_checkin" label="{{ 'EXCLUDE_FROM_MANUAL_CHECK_IN' | translate}}" div-class="full-width" ></ad-checkbox>
					<ad-checkbox is-checked="data.is_exclude_from_auto_checkin" label="{{ 'EXCLUDE_FROM_AUTO_CHECK_IN' | translate}}" div-class="full-width"></ad-checkbox>
					<ad-checkbox is-checked="data.is_exclude_from_housekeeping" label="{{ 'EXCLUDE_FROM_HOUSEKEEPING' | translate}}" div-class="full-width"></ad-checkbox>
				</div>
			</fieldset>
			<fieldset class="holder right">
				<!-- Room Features -->
				<div class="form-title">
					<h3>
						<span>{{ 'ROOM' | translate }}</span>
						{{ 'FEATURES' | translate }}
					</h3>
					<em class="status">
						<span>{{ 'ROOM_FEATURES_TEXT' | translate }}</span>
					</em>
				</div>

				<div class="entry full-width">
					<div id="room-features" class="boxes col2">
						<ad-checkbox ng-repeat="room_feature in data.room_features" is-checked="room_feature.selected" label="{{room_feature.name}}" parent-label-class="room-likes" span-class="checkbox-background"></ad-checkbox>

					</div>
				</div>
			</fieldset>
			<fieldset class="holder right">
				<div class="form-title">
					<h3>
						<span>{{ 'ROOM' | translate }}</span>
						{{ 'LIKES' | translate }}
					</h3>
					<em class="status">
						<span>{{ 'ROOM_LIKE_TEXT' | translate }}</span>
					</em>
				</div>
				<div class="entry full-width">
					<div class="boxes">
						<fieldset ng-repeat="like in likeCopy" class="holder full-width">
							<div class="form-title">
								<h3><span>{{ like.group_name }}</span></h3>
								<em class="status" ng-if="'dropdown' == like.type || 'radio' == like.type"><span>Choose a like</span></em>
								<em class="status" ng-if="'dropdown' != like.type && 'radio' != like.type"><span>Choose any likes</span></em>
							</div>

							<div ng-if="'dropdown' == like.type" class="entry full-width">
								<div class="select">
									<select ng-model="like.selected" ng-options="option.value as option.name for option in like.options" iscroll-stop-propagation>
										<option value="">Select a like</option>
									</select>
								</div>
							</div>

							<div ng-if="'radio' == like.type" class="entry full-width">
								<label class="radio" ng-repeat="option in like.options">
									<span class="icon-form icon-radio" ng-class="{ checked : like.selected == option.value }"></span>
									<input type="radio" name="like.group_name" ng-model="like.selected" ng-value="option.value">
									{{ option.name }}
								</label>
							</div>

							<div ng-if="'dropdown' != like.type && 'radio' != like.type" class="entry full-width">
								<label class="checkbox room-likes" ng-class="{}" ng-repeat="option in like.options">
									<span class="icon-form icon-checkbox" ng-class="{ 'checked' : option.selected, 'checkbox-background' : !option.selected }"></span>
									<input type="checkbox" ng-model="option.selected">
									{{ option.name }}
								</label>
							</div>
						</fieldset>
					</div>

				</div>
			</fieldset>
			<div class="actions float">
				<button type="button" id="cancel" ng-click="goBack()" class="button blank add-data-inline">{{ 'CANCEL' | translate }}</button>
				<button type="button" id="update" class="button green add-data-inline" ng-click="updateRoomDetails()">{{ 'SAVE_CHANGES' | translate }}</button>
			</div>
		</form>
		</section>
	</div>
</div>
</section>