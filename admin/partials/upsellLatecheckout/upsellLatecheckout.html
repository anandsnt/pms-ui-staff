<section id="replacing-div-first" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
	<div data-view="UpsellLateCheckoutView">
		<section>
			<header class="content-title float">
				<h2 translate>LATE_CHECKOUT_UPSELL</h2>
				<a id="go_back" data-type="load-details" class="action back" ng-click="goBackToPreviousState()" translate>BACK</a>
			</header>
			<section class="content-scroll">
				<div ng-include="'/assets/partials/common/notification_message.html'"></div>
				<div ng-include="'/assets/partials/common/notification_success_message.html'"></div>
				<div id="new-form-holder" ng-show="isAddmode" ng-include="getTemplateUrl()"></div>
				<form class="form float">
					<div class="form-title full-width">
						<h3><span translate>LATE_CHECKOUT</span> {{'UPSELL' | translate}} </h3>
					</div>
					<fieldset class="holder left">
						<div></div>

						<!-- Switch -->
						<div class="entry">
							<label for="late-checkout-upsell" translate>LATE_CHECKOUT_UPSELL</label>
							<div id="div-late-checkout-upsell" class="switch-button single" ng-class="{ on : upsellData.is_late_checkout_set === 'true' }"  ng-click="switchClicked()">
								<input type="checkbox" value="10" name="late-checkout-upsell" id="late-checkout-upsell">
								<span class="switch-icon"></span>

							</div>
						</div>

						<!-- Checkbox -->
						<div class="entry radio-check">
							<label class="checkbox"> <span class="icon-form icon-checkbox" ng-class="{ checked : upsellData.is_exclude_guests === 'true' }"></span> <label for="exclude-guest-pre-allocated-room" translate>EXCULUDE_GUEST_IN_PRE_ALLOCATED_ROOMS</label>
								<input type="checkbox" value="testing" name="exclude-guest-pre-allocated-room" id="exclude-guest-pre-allocated-room" ng-click="checkBoxClicked()">
							</label>
						</div>

						<!-- Search available charge codes -->
						<charge-code-search charge-code="upsellData.selected_charge_code" is-billing-group="{{isBillingGroup}}" charge-code-name="upsellData.selected_charge_code_name"></charge-code-search>

						<!-- Hiding the field  according to CICO-9841 -->
						<div class="entry" ng-show="false">
							<label translate> SEND_UPSELL_ALERT_TO_ALL_GUESTS</label>
							<div class="entry full-width float">

								<!-- alert hour -->
								<div class="select select-col col1-3">

									<select ng-options="hour for hour  in hours" ng-model="upsellData.alert_hour">
										<option style="display:none" value="" translate>HH</option>
									</select>

								</div>
								<!-- alert minute -->
								<div class="select select-col col1-3">
									<select ng-options="minute for minute  in minutes" ng-model="upsellData.alert_minute">
										<option style="display:none" value="" translate>MM</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
										<option value="AM" selected="" translate>AM</option>
										<option value="PM" translate>PM</option>
									</select>
								</div>
							</div>

						</div>
						<ad-textbox value="upsellData.allowed_late_checkout"   label = "{{'NUMBER_OF_LATE_CHECKOUTS_PER_DAY' | translate}}" placeholder = "{{'TYPE_NUMBER' | translate}}" ></ad-textbox>

					</fieldset>
					<fieldset class="holder full-width">
						<div></div>
						<div class="entry upsell-late-checkout-entry">
							<label translate> CHECKOUT_TIME_EXTENDED_TO </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">

									<select ng-options="hour for hour  in hours" ng-model="upsellData.extended_checkout_charge_0.time">
										<option style="display:none" value="" translate>HH</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" disabled="disabled" class="styled">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>

						<ad-textbox styleclass="upsell-late-checkout-entry" value="upsellData.extended_checkout_charge_0.charge"   label = "{{'CHARGE' | translate}}" placeholder = "Enter charge"  label-suffix="[{{currency_code}}]"></ad-textbox>

						<ad-select-number
								label="{{'EARLY_CHECKIN_ADDON' | translate}}"
								label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}"
								items="addons"
								selected-id='upsellData.extended_checkout_charge_0.addon_id'
								required='no'
								selbox-class='placeholder'
								div-class="upsell-late-checkout-entry">
						</ad-select-number>

						<div class="entry upsell-late-checkout-entry">
							<label translate> CHECKOUT_TIME_EXTENDED_TO </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">

									<select ng-options="hour for hour  in hours" ng-model="upsellData.extended_checkout_charge_1.time" ng-disabled="disableSecondOption">
										<option style="display:none" value="" translate>HH</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" disabled="disabled" class="styled">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>
						<ad-textbox styleclass="upsell-late-checkout-entry" value="upsellData.extended_checkout_charge_1.charge"   label = "{{'CHARGE' | translate}}" placeholder = "Enter charge" disabled="disableSecondOption" label-suffix="[{{currency_code}}]"></ad-textbox>

						<ad-select-number
								label="{{'EARLY_CHECKIN_ADDON' | translate}}"
								label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}"
								items="addons"
								selected-id='upsellData.extended_checkout_charge_1.addon_id'
								required='no'
								selbox-class='placeholder'
								div-class="upsell-late-checkout-entry">
						</ad-select-number>

						<div class="entry upsell-late-checkout-entry">
							<label translate> CHECKOUT_TIME_EXTENDED_TO </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">
									<select ng-options="hour for hour  in hours" ng-model="upsellData.extended_checkout_charge_2.time" ng-disabled="disableThirdOption">
										<option style="display:none" value="" translate >HH</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" disabled="disabled" class="styled">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>

						<ad-textbox styleclass="upsell-late-checkout-entry" value="upsellData.extended_checkout_charge_2.charge"   label = "{{'CHARGE' | translate}}" placeholder = "Enter charge" disabled="disableThirdOption" label-suffix="[{{currency_code}}]"></ad-textbox>

						<ad-select-number
								label="{{'EARLY_CHECKIN_ADDON' | translate}}"
								label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}"
								items="addons"
								selected-id='upsellData.extended_checkout_charge_2.addon_id'
								required='no'
								selbox-class='placeholder'
								div-class="upsell-late-checkout-entry">
						</ad-select-number>

					</fieldset>

					<fieldset class='holder column full-width'>
						<ad-toggle-button is-checked="upsellData.is_sell_late_checkout_as_addon" label="{{ 'OFFER_LCO_AS_ADDON_AT_CHECKIN' | translate}}"></ad-toggle-button>
						<ad-toggle-button is-checked="upsellData.is_allow_additional_late_checkout_offers" label="{{ 'SELL_ADDITIONAL_LCO' | translate}}"></ad-toggle-button>

						<div class="entry half-width" ng-show="upsellData.is_sell_late_checkout_as_addon">
							<label for="hotel-logo">Late Checkout Add-on image (900*600 px)</label>
							<div class="file-upload with-preview">
								<span class="input">{{upsellData.late_checkout_addon_image}}</span>
								<a id="deleteLogo" class="icons icon-delete large-icon delete_item" ng-if="upsellData.late_checkout_addon_image.length > 0" ng-click="upsellData.late_checkout_addon_image = ''"></a>
								<input type="file" ng-model="upsellData.late_checkout_addon_image" accept="image/*" app-filereader />
								<button type="button" class="button brand-colors">
								Choose file
								</button>
							</div>
							<span class="file-preview"> <img src="{{upsellData.late_checkout_addon_image}}" alt="" height="112" width="auto"> </span>
						</div>
					</fieldset>

					<fieldset class='holder column full-width'>

						<ad-dropdown label="{{'LIMITED_LATE_CHECK_OUTS_BY_ROOM_TYPE' | translate}}" label-in-drop-down="{{'SELECT_ROOM_TYPE' | translate}}" list="upsellData.room_types_list" selected-Id='upsellData.selected_room_type' selbox-class="placeholder"></ad-dropdown>

						<div class='entry'>
							<div class='add-room-type'>
								<button class='button green' id='add-room-type' ng-click="clickAddRoomType()" translate>
									ADD_ROOM_TYPE
								</button>
							</div>
						</div>
						<div class='entry full-width' id='room-type-header'>
							<div class='entry' ng-show="upsellData.isRoomTypesSelectedFlag">
								<label> <h4 translate>ROOM_TYPE</h4> </label>
							</div>
							<div class='entry' ng-show="upsellData.isRoomTypesSelectedFlag">
								<label> <h4 translate>MAX_PER_DAY </h4> </label>
							</div>
							<div id='room-type-details' ng-repeat="roomType in upsellData.room_types">

								<div class="entry full-width room-type-details" ng-show="roomType.max_late_checkouts !=='' && roomType.max_late_checkouts !== null">
									<div class="entry">
										<span class="align-text-center"> {{roomType.name}} </span>
									</div>
									<div class="entry">
										<span class="entry">
											<ad-textbox value="roomType.max_late_checkouts" inputtype="number"></ad-textbox>
										</span>
										<span class="entry">
											<a class="icons icon-delete large-icon align-text-center" ng-click="deleteRoomType(roomType.id,roomType.name)"></a>
										</span>
									</div>
								</div>

							</div>
						</div>
					</fieldset>

					<div class="actions float">
						<button type="button" id="cancel" class="button blank" ng-click="goBackToPreviousState()" translate>
							CANCEL
						</button>
						<button type="button" id="save" class="button green" ng-click="saveClick()" translate>
							SAVE_CHANGES
						</button>
					</div>
				</form>
			</section>
		</section>
	</div>
</section>