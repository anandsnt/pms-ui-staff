<section id="replacing-div-first" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
	<div>
		<header class="content-title float">
			<h2 translate>
				CHARGE_CODE_SUBGROUP_MAPPING_TITLE
			</h2>
			<span class="count">
				({{totalCount}})
			</span>
			<a id="go_back" data-type="load-details" class="action back" ng-click="goBackToPreviousState()">Back</a>
		</header>
		<section class="content-scroll">
			<div ng-include="'/assets/partials/common/notification_message.html'"></div>
			<div ng-include="'/assets/partials/common/notification_success_message.html'"></div>

			<div id="add-new">
				<div class="data-holder">
					<form class="form float">
						<div class="form-title">
							<h3>{{ 'DEFAULT_CHARGE_GROUP_TITLE' | translate}}</h3>
						</div>
						<fieldset class="holder left float" >
							<div class="entry full-width">
								<label>
									{{ 'DEFAULT_CHARGE_GROUP_DESCRIPTION' | translate}}
								</label>
								<div class="select">
									<select ng-model="snapshotData.default_charge_group">
										<option value="">&lt;none&gt;</option>
										<option ng-repeat="chargeGroup in subgroups" value="{{chargeGroup}}" ng-bind="chargeGroup"></option>
									</select>
								</div>
							</div>
						</fieldset>
						<div class="actions float">
							<button type="button" class="button blank add-data-inline" ng-click="goBackToPreviousState()">
								Cancel
							</button>
							<button type="button" class="button green" ng-click="saveSettings()">
								Save changes
							</button>
						</div>
					</form>
				</div>
				<br/>
				<div class="data-holder">
					<div id="new-form-holder" ng-if="isAdd" ng-include="getTemplateUrl()"></div>

					<span class="count-show">Show</span>
					<div class="select table-count rates-table-count">
						<select ng-model="displyCount"	ng-options="opt for opt in displayCountList"></select>
					</div>
					<span class="count-entries">entries</span>

					<div class="entry table-search">
						<span class="search-text">Search</span>
						<span class="icons icon-search" name="submit" type="submit"></span>
						<input placeholder="" autocomplete="off" type="text" ad-delay-textbox ng-model="searchTerm" delay="1000" function-to-fire="searchEntered" />
					</div>

					<div id="new-form-holder"></div>
					<table class="grid datatable" ng-table="tableParams" template-pagination="custom/pager">
						<tbody>
							<tr ng-repeat="item in $data">
								<td header-class="text-left width-20" data-title="'Code'" sortable="'charge_code'" >
									<a data-colspan="1" class="edit-data-inline">
										{{item.charge_code}}
									</a>
								</td>
								<td header-class="text-left width-20"   header-class="text-left" data-title="'Description'" >
									{{item.description}}
								</td>
								<td header-class="text-left width-20" data-title="'SNAPSHOT SUBGROUP'"  class="delete" >
									<div class="select">
										<select ng-model="item.snapshot_subgroup">
												<option value="">&lt;default&gt;</option>
												<option value="FB">FB</option>
												<option value="AUX">AUX</option>
												<option value="ACC">ACC</option>
											</select>
									</div>
								</td>

							</tr>
						</tbody>
					</table>
					<div class="form">
						<div class="actions float">
							<button type="button" class="button blank add-data-inline" ng-click="goBackToPreviousState()">
								Cancel
							</button>
							<button type="button" class="button green" ng-click="saveMapping()">
								Save changes
							</button>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!--Custom pagination footer goes here-->
		<script type="text/ng-template" id="custom/pager">
			<div class = "pager">
				<span ng-show="totalCount>0">Showing {{startCount}} to {{endCount}} of {{totalCount}} items</span>
				<span ng-show="totalCount==0">Showing 0 items</span>
				<ul class="ng-cloak">
					<li ng-repeat="page in pages"
						ng-class="{'previous': page.type == 'prev', 'next': page.type == 'next'}"
						ng-show="page.type == 'prev' || page.type == 'next'" ng-switch="page.type">

						<a ng-switch-when="prev" ng-click="params.page(1)" class="page" ng-class="{'disabled': !page.active}">First</a>
						<a ng-switch-when="prev" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">Previous</a>
						<a ng-switch-when="prev" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">{{page.number}}</a>

						<a ng-switch-when="next" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">{{page.number}}</a>
						<a ng-switch-when="next" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">Next</a>
						<a ng-switch-when="next" ng-click="params.page(totalPage)" class="page" ng-class="{'disabled': !page.active}">Last</a>
					</li>
				</ul>
			</div>
		</script>
		<!--end-->
	</div>
</div>
