<div id="wrapper" class="content current" ng-click="clearErrorMessage()">
    <header class="content-title float">
        <h2 translate>SITEMINDER_SETUP_HEADER</h2>
        <a ng-click ="goBackToPreviousState()" class="action back" translate>BACK</a>

    </header>
    <section class="content-scroll">
        <div ng-include="'/assets/partials/common/notification_err_message_basic.html'"></div>
        <div ng-include="'/assets/partials/common/notification_success_message.html'"></div> 
        <form class="form float" >
            <!--TODO: Mike needs to take a look this part. This seems making duplicate api call and not display on the screen.-->
            <!--<fieldset class="holder left" ng-show="!isHotelAdmin">-->
                <!--<ad-textbox value="data.data.product_cross_customer.tracker_user_name"  name="user-name" id="user-name" label="{{'SITEMINDER_USERNAME_LABEL'| translate}}" styleclass="full-width" ></ad-textbox>-->
                <!--<ad-textbox value="data.data.product_cross_customer.tracker_pass_word" inputtype="password" name="pass-word" id="pass-word" label="{{'SITEMINDER_PASSWORD_LABEL'| translate}}" styleclass="full-width"></ad-textbox>-->
                <!--<ad-dropdown-name value="data.data.product_cross_customer.default_origin" name="default-origin" id="default-origin" valueproperty="value" valfor="default-origin" ng-controller="ADOriginsCtrl" property="name" list="data.booking_origins" label="{{'SITEMINDER_DEFAULT_BOOKING_ORIGIN'| translate}}" styleclass="full-width"></ad-dropdown-name>-->
                <!--<ad-dropdown-name value="data.data.product_cross_customer.default_payment_id" name="default-payment" id="default-payment" valueproperty="id" valfor="default-payment" ng-controller="ADPaymentMethodsCtrl" property="description" list="data.payments" label="{{'SITEMINDER_DEFAULT_PAYMENT_METHOD'| translate}}" styleclass="full-width"  style="padding-left: 15px;"></ad-dropdown-name>-->
            <!--</fieldset>-->
            <!--<fieldset class="holder left" ng-show="isHotelAdmin">-->
            <fieldset class="holder left">
                <div class="form-title full-width">
                    <h3><span translate>SITEMINDER_SUB_TITLE</span> </h3>
                </div>

                
                <table>
                    <tbody>
                        <tr>
                            <th>
                                <label><span translate>MAPPINGS_ACTIVATE_INACTIVATE</span></label>
                            </th>
                            <th>
                            </th>
                            <th>
                                <label><span translate>SITEMINDER_FULL_REFRESH</span></label> 
                            </th>
                        </tr>
                        <tr>
                            <td>
                                <div style="top: -25px;" name="active-inactive-toggle" class="switch-button single" ng-class="{ on: data.data.product_cross_customer.active }" ng-click="toggleSMClicked()">
                                    <input type="checkbox" name="siteminder-setup-active" id="siteminder-setup-active">
                                    <span class="switch-icon"></span>
                                </div>
                            </td>
                            <td style="width:30%"></td>
                            <td>
                                <button type="button" like-type="common" id="test-connection" class="button ng-binding blue sm-refresh-btn" ng-class="{'overlay': refreshButtonEnabled === 'disabled'}"" ng-click="runFullRefresh()" translate>
                                RUN_REFRESH_BUTTON
                                </button>
                                <br>
                                <label style="font-size:smaller"><span translate>SITEMINDER_LAST_REFRESH</span>: {{lastRefreshedTimeMark}}<br> at {{lastRefreshedTimeRef}}</label> 
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <br>

                <ad-textbox value="data.data.product_cross_customer.tracker_user_name" name="user-name" id="user-name" label="{{'SITEMINDER_USERNAME_LABEL'| translate}}" styleclass="full-width"></ad-textbox>
                <ad-textbox value="data.data.product_cross_customer.tracker_pass_word" inputtype="password" name="pass-word" id="pass-word" label="{{'SITEMINDER_PASSWORD_LABEL'| translate}}" styleclass="full-width"></ad-textbox>
                <ad-dropdown-name name="default-origin" id="default-origin" valueproperty="value" valfor="default-origin" ng-controller="ADOriginsCtrl" property="name" list="data.booking_origins" label="{{'SITEMINDER_DEFAULT_BOOKING_ORIGIN'| translate}}" styleclass="full-width"></ad-dropdown-name>
                <ad-dropdown-name name="default-payment" id="default-payment" valueproperty="id" valfor="default-payment" ng-controller="ADPaymentMethodsCtrl" property="description" list="data.payments" label="{{'SITEMINDER_DEFAULT_PAYMENT_METHOD'| translate}}" styleclass="full-width"  style="padding-left: 15px;"></ad-dropdown-name>
            </fieldset>

            <div class="actions float">
                <button type="button" id="cancel" class="button blank add-data-inline" ng-click="goBackToPreviousState()" translate>
                    CANCEL
                </button>
                <button type="button" like-type="common" id="update" class="button ng-binding green" ng-click="saveSiteminderSetup()" translate>
                    SAVE_CHANGES
                </button>
                <button type="button" like-type="common" id="test-connection" class="button ng-binding blue" ng-click="testSiteminderSetup()" translate>
                    TEST_CONNECTION
                </button>
            </div>

        </form>
    </section>
</div>