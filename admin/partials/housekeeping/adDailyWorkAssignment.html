<section id="daily-work-assignment" class="content current" style="display: block;" ng-click="clearErrorMessage()" div-touch-move-stop-propogate>
	<div>
		<div ng-include="'/assets/partials/common/notification_message.html'"></div>

		<!-- Task management section -->

		<header class="content-title float" style="position:static;margin:0;">
			<h2 translate>Task Management</h2>
		</header>
		<form name="" method="post" id="" class="form float" action="" style="background: none; margin-bottom: 0; box-shadow: none;">
            <fieldset class="holder column">
                <div class="entry">
                    <label for="" translate>SHOW IN HK MENU</label>
                    <div id="" class="switch-button single" ng-class="{ on :is_show_task_management_in_hk_menu}">
                        <input type="checkbox" name="" id="" ng-click="setTaskManagementShowInHKMenu()">
                        <span class="switch-icon"></span>
                     </div>
                </div>
            </fieldset>
         </form>


		<!-- Work type list section -->

		<header class="content-title float" style="position:static;margin:0;">
			<h2 translate>Work Type</h2>
			<span class="count">({{ workType.length }})</span>
			<a id="add-new-button" class="action add ng-scope" ng-click="openWorkTypeForm('new')" translate="">Add Work Type</a>
		</header>
		<div id="new-form-holder-work-type" ng-show="workTypeClickedElement == 'new'" ng-include="'/assets/partials/housekeeping/adHKAddWorkType.html'"></div>
		<table id="task-types" class="grid datatable table" ng-table="tableParams" template-pagination="myOwnPaginationTemplate.html">
			<tbody>
				<tr ng-repeat="item in workType">

					<td header-class="width-30" data-title="'Work Type'" ng-click="openWorkTypeForm($index, item.is_system)" ng-hide="workTypeClickedElement == $index">
						<a>{{ item.name }}</a>
						<!-- <span  class="bold">{{ item.name }}</span> -->
						<em ng-if="item.is_system">&nbsp;{{ 'SYSTEM_DEFINED' | translate }}</em>
					</td>
					<!-- <td header-class="width-30 text-center-important" data-title="'Task'" class="delete" ng-hide="workTypeClickedElement == $index">
					<div class="select" ng-show="item.is_default">
					<select ng-model="defaultData.defaultTask" class="placeholder" ng-change="updateDefaultTask()">
						<option value=""> Select </option>
						<option ng-repeat="task in item.tasks" value="{{task.id}}" ng-selected="task.is_default"> {{task.name}} </option>

					</select>

				</div>
					</td> -->

					<td header-class="width-20 text-center-important" data-title="'On Stay Card'" class="delete" ng-hide="workTypeClickedElement == $index">
						<div class="entry" ng-if="item.is_system">
							<label></label>
							<div class="switch-button single"  ng-class="{ on : item.is_show_on_stay_card}" ng-click="setShowOnStayCard()">
								<input type="checkbox" is_system="item.system_defined" value="" name="" id="" ng-disable="item.is_system">
								<span class="switch-icon"></span>
							</div>
						</div>
					</td>

					<td header-class="width-10" data-title="'Active'" class="activate" ng-hide="workTypeClickedElement == $index">
						<div class="entry" ng-if="!item.is_system">
							<label></label>
							<div class="switch-button single"  ng-class="{ on : item.is_active}" ng-click="toggleActive()">
								<input type="checkbox" is_system="item.system_defined" value="" name="" id="">
								<span class="switch-icon"></span>
							</div>
						</div>
					</td>

					<td header-class="width-10" data-title="'Delete'" class="delete" ng-hide="workTypeClickedElement == $index">
						<a ng-if="!item.is_system" ng-click="deleteWorkType()" class="icons icon-delete large-icon delete_item"></a>
					</td>

					<td colspan="5" ng-show="workTypeClickedElement == $index" ng-include="'/assets/partials/housekeeping/adHKAddWorkType.html'"></td>

				</tr>
			</tbody>
		</table>


		<!-- task list section -->

		<header class="content-title float" style="position:static;margin:0;">
			<h2 translate>Task List</h2>
			<span class="count">({{ taskList.length }})</span>
			<a id="add-new-button" class="action add ng-scope" ng-click="openTaskListForm('new')" translate="">Add Task</a>
		</header>
		<div id="new-form-holder-task-list" ng-show="taskListClickedElement == 'new'" ng-include="'/assets/partials/housekeeping/adHKAddToTaskList.html'"></div>
		<table id="task-types" class="grid datatable table" ng-table="tableParams" template-pagination="myOwnPaginationTemplate.html">
			<tbody>
				<tr ng-repeat="item in taskList">

					<td header-class="width-25" data-title="'Task'" ng-click="openTaskListForm($index, item.is_system)" ng-hide="taskListClickedElement == $index">
						<a ng-class="{'bold' : item.is_system}">{{ item.name }}</a>
						<em ng-if="item.is_system">&nbsp;{{'SYSTEM_DEFINED' | translate }}</em>
					</td>

					<td header-class="width-15 text-center-important" data-title="'Default Task'" class="activate" ng-hide="taskListClickedElement == $index">
							<label class="checkbox inline position-absolute" ng-show="item.is_show_on_stay_card">
					            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.is_default}"></span>
					            <input type="checkbox" ng-disabled="item.is_default"  ng-model="defaultData.defaultTask"  ng-click="clickedDefaultTaskChekbox(item)">
					        </label>
					</td>

					<td header-class="width-20 text-center-important" data-title="'Work Type'" class="delete" ng-hide="taskListClickedElement == $index">
						<span>{{ item.work_type_name }}</span>
					</td>


					<td header-class="width-20 text-center-important" data-title="'Time'" class="delete" ng-hide="taskListClickedElement == $index">
						<span>{{ item.completion_time }}</span>
					</td>

					<td header-class="width-10" data-title="'Active'" class="activate" ng-hide="taskListClickedElement == $index">
						<div class="entry" ng-if="!item.is_system">
							<label></label>
							<div class="switch-button single"  ng-class="{ on : item.is_active}" ng-click="toggleActiveInactiveTask()">
								<input type="checkbox" is_system="item.system_defined" value="" name="" id="">
								<span class="switch-icon"></span>
							</div>
						</div>
					</td>


					<td header-class="width-10" data-title="'Delete'" ng-hide="taskListClickedElement == $index" class="delete">
						<a ng-if="!item.is_system" ng-click="deleteTaskListItem()" class="icons icon-delete large-icon delete_item"></a>
					</td>

					<td colspan="6" ng-show="taskListClickedElement == $index" ng-include="'/assets/partials/housekeeping/adHKAddToTaskList.html'"></td>

				</tr>
			</tbody>
		</table>


		<!-- Employee working shift section -->

		<header class="content-title float" style="position:static;margin:0;">
			<h2 translate>Employee Working Shifts</h2>
			<span class="count">({{ workShift.length }})</span>
			<a id="add-new-button" class="action add ng-scope" ng-click="openWorkShiftForm('new')" translate="">Add Shift</a>
		</header>
		<div id="new-form-holder-work-shift" ng-show="workShiftClickedElement == 'new'" ng-include="'/assets/partials/housekeeping/adHKAddWorkShift.html'"></div>
		<table id="task-types" class="grid datatable table" ng-table="tableParams" template-pagination="myOwnPaginationTemplate.html">
			<tbody>
				<tr ng-repeat="item in workShift">

					<td header-class="width-60" data-title="'Name'" ng-click="openWorkShiftForm($index)" ng-hide="workShiftClickedElement == $index">
						<a ng-class="{'bold' : item.is_system}">{{ item.name }}</a>
						<em ng-if="item.is_system">&nbsp;{{ 'SYSTEM_DEFINED' | translate }}</em>
					</td>

					<td header-class="width-30 text-center-important" data-title="'Duration'" class="delete" ng-hide="workShiftClickedElement == $index">
						<span>{{ item.time }}</span>
					</td>

					<td header-class="width-10 " data-title="'Delete'" class="delete" ng-hide="workShiftClickedElement == $index">
						<a ng-if="!item.is_system" ng-click="deleteWorkShift()" class="icons icon-delete large-icon delete_item"></a>
					</td>

					<td colspan="3" ng-show="workShiftClickedElement == $index" ng-include="'/assets/partials/housekeeping/adHKAddWorkShift.html'"></td>

				</tr>
			</tbody>
		</table>

	</div>
</section>