<!--</ad-common-parts-in-form-dir>-->
<div id="wrapper" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
    <header class="content-title float">
        <h2 translate>GUEST_WEB_ID_COLLECTION_SETUP</h2>
        <a ng-click ="goBackToPreviousState()" class="action back" translate>BACK</a>
    </header>
    <section class="content-scroll">
        <div ng-include="'/assets/partials/common/notification_message.html'" class="error-notification-dashboard ng-scope"></div>
        <form class="form float">
            <fieldset class="holder full-width" ng-show="MODE == 'CONFIGURED'">
                <div class="form-title">
                    <h3><span>Archive</span> Activation</h3>
                </div>
                <div class="entry">
                    <label>Activate / Inactivate</label>
                    <!-- Add .on when active -->
                    <div name="active-inactive-toggle" class="switch-button single" ng-class="{ on: config.guest_id_archive_enabled}"
                         ng-click="toggleEnabled()">
                        <input type="checkbox">
                        <span class="switch-icon"></span>
                    </div>
                </div>

                <!-- Remove .hidden when disclaimer is accepted -->
                <div class="entry" ng-show="MODE =='CONFIGURED'">
                    <label>Disclaimer Acknowleged by</label>
                    <strong>{{config.guest_id_archive_first_name}} {{config.guest_id_archive_last_name}}</strong>, {{config.guest_id_archive_position}}
                    <!--<span class="entry-description disclaimer">{ Date & Time of acknowlegement | exp. 01-11-2019 1:23PM }</span>-->
                </div>
                <div class="archive-storage-option notice { success | error }">
                    <img ng-src="{{connctedDetails.iconUrl}}" alt="" />
                    <div class="option-content">
                        <strong>Connect to {{config.guest_id_archive_platform}}</strong>
                        <p></p>
                    </div>
                    <button class="button white red-text" ng-click="disConnect()">
                        <span class="icons" ng-class="{'error': !connctedDetails.isConnected, 'succes': connctedDetails.isConnected}"></span>
                        {{connctedDetails.isConnected? 'DISCONNECT': 'CONNECT'}}
                    </button>
                </div>

            </fieldset>
            <div class="actions float" ng-show="MODE == 'CONFIGURED'" >
                <button type="button" class="button blank" ng-click="goBackToPreviousState()">Cancel</button>
                <button type="button" class="button green" ng-click = "saveConfig()">Save</button>
            </div>

            <fieldset class="holder full-width" ng-show="MODE=='DISCONNECTED'">
                <div class="form-title">
                    <h3><span>Archive</span> Activation</h3>
                </div>
                <div class="entry">
                    <label>Activate / Inactivate</label>
                    <!-- Add .on when active -->
                    <div name="active-inactive-toggle" class="switch-button single" ng-class="{ on: config.guest_id_archive_enabled }"
                         ng-click="toggleEnabled()">
                        <input type="checkbox">
                        <span class="switch-icon"></span>
                    </div>
                </div>
            </fieldset>
            <div class="actions float" ng-show="MODE=='DISCONNECTED'" >
                <button type="button" class="button blank" ng-click="goBackToPreviousState()">Cancel</button>
                <button type="button" class="button green" ng-click = "saveConfig()">Save</button>
            </div>

            <fieldset class="holder full-width" ng-show ="MODE =='CONFIGURE'">
                <div class="form-title">
                    <h3><span>Archive</span> Activation</h3>
                </div>
                <div class="entry">
                    <label>Activate / Inactivate</label>
                    <!-- Add .on when active -->
                    <div name="active-inactive-toggle" class="switch-button single" ng-class="{ on: config.guest_id_archive_enabled || isAccepted }"
                         ng-click="toggleEnabled()">
                        <input type="checkbox">
                        <span class="switch-icon"></span>
                    </div>
                </div>
            </fieldset>

            <fieldset class="holder full-width" ng-show ="MODE =='CONFIGURE_ON'">
                <div class="form-title">
                    <h3><span>Archive</span> Activation</h3>
                </div>
                <div class="entry">
                    <label>Activate / Inactivate</label>
                    <!-- Add .on when active -->
                    <div name="active-inactive-toggle" class="switch-button single" ng-class="{ on: config.guest_id_archive_enabled || isAccepted }"
                         ng-click="toggleEnabled()">
                        <input type="checkbox">
                        <span class="switch-icon"></span>
                    </div>
                </div>
                <!-- Remove hidden to show disclaimer when the switch was activated -->
                <div class="entry full-width">
                    <label>Disclaimer</label>
                    <div class="notice disclaimer">
                        <span class="icons icon-action-notice"></span>
                        <p><strong>Files will be copied daily, in unencrypted format on your external drive.</strong></p>
                        <p><strong>Rover will use its internal, encrypted, and temporary storage to display information in Rover, during, and for a limited period of time, after the guest's stay.</strong></p>
                        <p><strong>Hotel is responsible to adhere to and enforce PCI-DSS, GDPR, and any other legal requirements related to the security and the retention of banking and personal guest information.</strong></p>
                        <hr/>
                        <p>I acknowledge understanding the implications of long term storage. StayNTouch, Shijigroup, or any of their affiliates are NOT responsible for any breaches of confidentiality linked to the external ID archive. To proceed, please enter your name and position, and click “Accept and Continue”</p>
                    </div>
                </div>

                <!-- Remove hidden to show disclaimer when the switch was activated -->
                <div class="entry full-width">
                    <div class="entry">
                        <label for="first-name">First name <strong>*</strong></label>
                        <input type="text" ng-model='config.guest_id_archive_first_name' name="first-name" id="first-name" placeholder="Enter first name" value="" required="">
                    </div>
                    <div class="entry">
                        <label for="last-name">Last name <strong>*</strong></label>
                        <input type="text" ng-model='config.guest_id_archive_last_name' name="last-name" id="last-name" placeholder="Enter last name" value="" required="">
                    </div>
                    <div class="entry">
                        <label for="position-name">Position <strong>*</strong></label>
                        <input type="text" ng-model='config.guest_id_archive_position' name="position-name" id="position-name" placeholder="Enter Position" value="" required="">
                    </div>
                </div>
            </fieldset>
            <div class="actions float" ng-show ="MODE =='CONFIGURE_ON'">
                <button type="button" class="button blank" ng-click="goBackToPreviousState()">Cancel</button>
                <button type="button" class="button" ng-click = "acceptTerms()"
                        ng-class="{'green': enableAcceptButton()}" ng-disabled="enableAcceptButton()">Accept and Continue</button>
            </div>

            <fieldset class="holder full-width" ng-show ="MODE =='ACCESS_TOKEN'">
                <div class="entry full-width">
                    <div class="entry">
                        <label for="token">Access Token <strong>*</strong></label>
                        <input type="text" ng-model='config.guest_id_archive_platform_token' name="token" id="token" placeholder="Enter token" value="" required="">
                    </div>
                </div>
            </fieldset>
            <div class="actions float" ng-show="MODE == 'ACCESS_TOKEN'" >
                <button type="button" class="button blank" ng-click="goBackToPreviousState()">Cancel</button>
                <button type="button" class="button" ng-click = "saveConfig()" ng-class="{'green': validateToken()}" ng-disabled="validateToken()">Save</button>
            </div>


            <!-- Remove .hidden when the disclaimer was acknowleged -->
            <fieldset class="holder full-width" ng-show="MODE=='CHOOSE_PLATFORM'">
                <div class="form-title">
                    <h3><span>Archive</span> Storage</h3>
                </div>
                <!-- If Success on connection, add .hidden -->
                <!-- If error, show only those options that are not current -->
                <div class="archive-storage-options">
                    <button type="button" class="archive-storage-option" ng-click="gapiSignIn()">
                        <img src="/assets/images/archive-option-gdrive.png" alt="" />
                        <strong>Google Drive </strong>
                    </button>
                    <!--<button type="button" class="archive-storage-option" ng-click="dropBoxSignIn()">-->
                        <!--<img src="/assets/images/archive-option-aws.png" alt="" />-->
                        <!--<strong>Connect to Amazone S3</strong>-->
                    <!--</button>-->
                    <button type="button" geclass="archive-storage-option" ng-click="dropBoxSignIn()">
                        <img src="/assets/images/archive-option-dropbox.png" alt="" />
                        <strong>Connect to Drop Box</strong>
                    </button>
                </div>
            </fieldset>
        </form>
    </section>
</div>


