<section class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click='clearErrorMessage()'>
    <div>
        <header class="content-title float">
            <h2> Edit&nbsp;<font class="h2-grey">{{selectedInterface.description}}</font></h2>
            <a ng-click="goBackToPreviousState()" class="action back">Back to Channel Managers</a>
            <a id="import-channel-rates" class="action import ng-binding" ng-click="importChannelRates($event)" ng-show="is_import_available" style="float:right">IMPORT ALL CHANNEL RATES</a>
        </header>
        <section class="content-scroll">
            <div ng-include="'/assets/partials/common/notification_message.html'"></div>
            <div ng-include="'/assets/partials/common/notification_success_message.html'"></div>

            <!--ng-table component -->
            <table ng-repeat="rate in data" >
                <tbody ng-if='data.length > 0'>
                    <tr>
                        <td>
                            <table class="grid smaller-spacing inline-channel-editing" ng-class="{'inline-editing':rate.rate.editing}">
                                <tbody>
                                    <tr>
                                        <td>
                                            <a class="edit-data" ng-click="editChannelManagerRate(rate)">
                                                <div class="arrow-up-icon"><img src="/assets/cssimg/arrow-up.png" ng-hide='!rate.rate.editing' ng-show='rate.rate.editing'></div>
                                                <div class="arrow-down-icon"><img src="/assets/cssimg/arrow-down.png" ng-hide='rate.rate.editing' ng-show='!rate.rate.editing'></div>
                                                <strong> {{rate.rate.rate_name}} </strong>
                                            </a>
                                        </td>

                                        <td ng-class = "{'green': rate.active}">
                                            <div class="entry" ng-click="toggleActive(rate)">
                                                <div class="switch-button single right-float" ng-class="{'on': rate.active}">
                                                    <input type="checkbox"  ng-checked="rate.active">
                                                    <span class="switch-icon"></span>
                                                </div>
                                            </div>
                                        </td>
                                        <td class="delete">
                                            <a class="icons icon-delete large-icon delete_item" ng-click="deleteItem(rate.id)" style="float:right"> </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td  ng-hide='!rate.rate.editing' ng-show='rate.rate.editing'>
                            <table class='smaller-spacing inline-channel-editing inline-editing' ng-hide='!rate.rate.editing' ng-show='rate.rate.editing'>
                                <tr  ng-hide='!rate.rate.editing' ng-show='rate.rate.editing'>
                                    <div ng-include="'/assets/partials/common/addRemoveSection.html'" class='' ></div>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </tbody>
            </table>
            <table>
                <tbody ng-hide='!showMainAddRemove' ng-show='showMainAddRemove'>
                    <tr>
                        <div style='position: relative' ng-include="'/assets/partials/common/addRemoveSection.html'"
                             ng-hide='!showMainAddRemove'
                             ng-show='showMainAddRemove'>
                        </div>
                    </tr>
                </tbody>
            </table>
            <div ng-click="addRateToChannel(selectedInterface)" class="nowrap center_align add_new_date_range_container newset-container" ng-hide='showMainAddRemove' ng-show='!showMainAddRemove'>
                <a class="icons icon-add green">
                    <span style="margin-left:5px;">ADD RATE TO CHANNEL MANAGER</span>
                </a>
            </div>
        </section>
    </div>
</section>