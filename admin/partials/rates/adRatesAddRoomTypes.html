<!-- Collapse View -->
<div ng-hide="rateMenu ==='Room types'">
	<em class="rate_step_title">Room</em>&nbsp;<span class="italic_text">Types</span>
	<div ng-click="$emit('changeMenu','Room types')" style="float:right" class="cursor_pointer"><img src="/assets/arrow-down.png"></div>
</div>

<!-- Expanded View -->
<div ng-show="rateMenu ==='Room types'" ng-controller="ADAddRateRoomTypeCtrl">
	<form user="2"  class="form float form_add_new_rate">
		<fieldset class="holder full-width">
			<div class="form-title">
				<h3>
					<span>Room</span>
					Types
				</h3>
				<em class="status">
					<span>Assign at least 1 room type</span>
				</em>
			</div>
			<div class="entry has-sortable">
				<label class="center_align"><em class="rate_roomtype_text">Available Room Types</em></label>

				<ul class="boxes sortable ui-sortable short-list" data-type="source" data-drop="true" ng-model="nonAssignedroomTypes" style="overflow-y: scroll !important;" jqyoui-droppable="{multiple:true}">

					<li ng-repeat = "roomtype in nonAssignedroomTypes" 

						data-drag = "true"
						ng-model = "nonAssignedroomTypes"
						jqyoui-draggable ="{index: {{$index}}, placeholder: false, animate: 'true', onOver: 'reachedUnAssignedRoomTypes'}"

						ng-click = "unAssignedRoomSelected($event, $index)"
						ng-class = '{selected: selectedUnAssignedRoomIndex === $index}' 
						>

					<span class="icons icon-handle"></span>
					<span class="icons icon-handle"></span>
					{{roomtype.name}}
				</li>
			</ul>
		</div>
		<div class="entry movers rates_mover" >
			<span class="top_mover" >
				<span class="icons icon-mover-right to-target" data-type="target" ng-click="topMoverightClicked()"
				ng-class="{active: selectedUnAssignedRoomIndex!=-1}" data-type="source">unassign room(s)</span>
				<span class="icons icon-mover-left to-source" data-type="source"
				ng-click="topMoveleftClicked()"ng-class="{active: selectedAssignedRoomIndex!=-1}">Assign room(s)</span>
			</span>
			<span>
				<div class="green_gradient icons">
					<span class="to-source green_mover icons_rates" data-type="source" ng-click="bottomMoverightClicked()">Assign room(s)</span>
				</div>
				<div class="red_gradient icons">
					<span class="to-target  red_mover icons_rates" data-type="target" ng-click="bottomMoveleftClicked()"
					>unassign room(s)</span>
				</div>
				
			</span>
		</div>
		<div class="entry has-sortable">
			<label class="center_align">
				<span class="assigned_room_text">Assigned Room Types</span></label>
				<ul class="boxes sortable ui-sortable short-list" 
					data-type="target" 
					data-drop="true" 
					ng-model="assignedRoomTypes"  
					style="overflow-y: scroll !important;" 
					jqyoui-droppable="{multiple:true, onOver: 'reachedAssignedRoomTypes'}">
					<li ng-repeat="roomtype in assignedRoomTypes"
					ng-click="assignedRoomSelected($event,$index)"
					ng-class='{selected: selectedAssignedRoomIndex === $index}'
					
					data-drag = "true"
					ng-model = "assignedRoomTypes"
					jqyoui-draggable ="{index: {{$index}}, placeholder: false, animate: 'true'}">
						<span class="icons icon-handle"></span>
						<span class="icons icon-handle"></span>
						{{roomtype.name}}
					</li> 
				</ul>
		</div>
	</fieldset>
	<div class="actions float">
		<button type="button" id="cancel" class="button blank add-data-inline" ui-sref="admin.rates">Cancel</button>
		<button type="button" id="send-email"  class="button grey" ng-hide="anyRoomSelected()" ng-disabled="true" >Step 3 - Set date range</button>
		<button type="button" ng-click="saveRoomTypes()" class="button  brand-colors" ng-show="anyRoomSelected()">
			Step 3 - Set date range
		</button>
	</div>
</form>
</div>
