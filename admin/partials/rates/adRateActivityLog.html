<div ng-show="showActivityLog">
    <div ng-include="'/assets/partials/common/notification_message.html'"></div>
    <div ng-include="'/assets/partials/rates/adRateActivityLogFilter.html'"></div>
    
    <table class="activity-log" ng-table="tableParams" template-pagination="custom/pager">
        <col>
        <col>
        <col>
        <col class="details">
        <thead>
            <tr>
                <th><span ng-class="{'sort': true,'sorting-asc':sortOrderOfUserASC,'sorting-desc':sortOrderOfUserDSC}" ng-click="sortByUserName()" translate>ACTIONS_USERNAME</span></th>
                <th><span ng-class="{'sort': true,'sorting-asc':sortOrderOfDateASC,'sorting-desc':sortOrderOfDateDSC}" ng-click="sortByDate()" translate>ACTIONS_DATETIME</span></th>
                <th><span ng-class="{'sort': true,'sorting-asc':sortOrderOfActionASC,'sorting-desc':sortOrderOfActionDSC}" ng-click="sortByAction()" translate>ACTIONS_ACTION_TYPE</span></th>
                <th><span translate>ACTIONS_ACTION_DETAILS</span></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="log in $data" >
                <td>{{log.user_name}}</td>
                <td> {{log.date }}, {{log.time}}</td>
                <td>{{log.action}}</td>
                <td class="details">
                    <span ng-repeat="details in log.details">
                        <span class="old" ng-show="isOldValue(details.old_value)">{{ details.key }}
                            <strong>{{ details.old_value }}</strong>
                        </span>
                        {{details.key}}
                        <strong>{{details.new_value}}</strong>
                    </span>
                </td>
            </tr>
            <tr>
                <td colspan="4">                    
                    <script type="text/ng-template" id="custom/pager">
                        <div class = "pager">
                            <span ng-show="totalCount>0">Showing {{startCount}} to {{endCount}} of {{totalCount}} items</span>
                            <span ng-show="totalCount==0">Showing 0 items</span>
                            <ul class="ng-cloak">
                                <li ng-repeat="page in pages"
                                    ng-class="{'previous': page.type == 'prev', 'next': page.type == 'next'}"
                                    ng-show="page.type == 'prev' || page.type == 'next'" ng-switch="page.type">

                                    <a ng-switch-when="prev" ng-click="params.page(1)" class="page" ng-class="{'disabled': !page.active}">First</a>
                                    <a ng-switch-when="prev" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">Previous</a>
                                    <a ng-switch-when="prev" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">{{page.number}}</a>

                                    <a ng-switch-when="next" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">{{page.number}}</a>
                                    <a ng-switch-when="next" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">Next</a>
                                    <a ng-switch-when="next" ng-click="params.page(totalPage)" class="page" ng-class="{'disabled': !page.active}">Last</a>
                                </li>
                            </ul>
                        </div>
                    </script>
                </td>
            </tr>
        </tbody>
    </table>

</div>