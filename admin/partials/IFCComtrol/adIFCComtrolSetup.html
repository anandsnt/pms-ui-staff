<div id="wrapper" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
    <header class="content-title float">
        <h2 translate>IFC_COMTROL_SETUP_HEADER</h2>
        <a ng-click ="goBackToPreviousState()" class="action back" translate>BACK</a>

    </header>
    <section class="content-scroll">
        <div ng-include="'/assets/partials/common/notification_message.html'"></div>
        <div ng-include="'/assets/partials/common/notification_success_message.html'"></div> 
        <form class="form float" >

            <fieldset class="holder full-width">
                <div class="form-title full-width">
                    <h3><span translate>IFC_COMTROL_SUB_TITLE</span></h3>
                </div>
                <div class="entry">
                    <label><span translate>IFC_COMTROL_ACTIVATE_INACTIVATE</span></label>
                    <div name="active-inactive-toggle" class="switch-button single" ng-class="{ on: ifc_comtrol.enabled }" ng-click="toggleIFCComtrolEnabled()">
                    <input type="checkbox" name="ifc-comtrol-setup-active" id="ifc-comtrol-setup-active">
                        <span class="switch-icon"></span>
                    </div>
                </div>
                <div class="entry">
                    <label><span translate>ENABLE_ORACODE</span></label>
                    <div name="active-inactive-toggle" class="switch-button single" ng-class="{ on: ifc_comtrol.oracode_enabled }" ng-click="toggleOracodeEnabled()">
                    <input type="checkbox" name="ifc-comtrol-setup-active" id="ifc-comtrol-setup-active">
                        <span class="switch-icon"></span>
                    </div>
                </div>
                <div ng-if="ifc_comtrol.enabled">
                    <fieldset class="holder full-width">
                        <ad-textbox inputtype="text" value="ifc_comtrol.authentication_token" name="authentication-token" id="authentication-token" label="{{'IFC_COMTROL_AUTHENTICATION_TOKEN' | translate}}"
                                    readonly="yes">
                        </ad-textbox>
                        <button type="button" style="margin: 24px 0 0 10px" class="button blue sm-refresh-btn" ng-click="onClickRegenerate()">
                            REGENERATE
                        </button>
                    </fieldset>
                    <div class="form-title full-width">
                        <h3><span translate>IFC_COMTROL_KEY_SYSTEM_SETTINGS</span></h3>
                    </div>
                    <fieldset class="holder left">
                        <ad-textbox inputtype="text" value="ifc_comtrol.site_name" name="name" id="name" label="{{'IFC_COMTROL_KEY_SYSTEM_NAME' | translate}}" styleclass="full-width" ng-if="ifc_comtrol.enabled"></ad-textbox>
                    </fieldset>
                    <fieldset class="holder left">
                        <ad-textbox inputtype="text" value="ifc_comtrol.operator_id" label="{{'IFC_COMTROL_KEY_SYSTEM_LOGIN' | translate}}" styleclass="full-width" ng-if="ifc_comtrol.enabled" ></ad-textbox>
                    </fieldset>
                    <fieldset class="holder left">
                        <ad-textbox inputtype="text" value="ifc_comtrol.password" label="{{'IFC_COMTROL_KEY_SYSTEM_PASSWORD' | translate}}" styleclass="full-width" ng-if="ifc_comtrol.enabled"></ad-textbox>
                        <p><em>Key system password (if required) to use when creating any key</em></p>
                    </fieldset>
                    <fieldset class="holder left">
                        <ad-textbox inputtype="text" value="ifc_comtrol.keys_password" label="Keys Password" styleclass="full-width" ng-if="ifc_comtrol.enabled"></ad-textbox>
                        <p><em>Password to be used for all Key Create Request messages that do not otherwise supply a key creation password</em></p>
                        <p><em>For VingCard, input license here</em></p>
                    </fieldset>
                    <fieldset class="holder left">
                        <ad-textbox inputtype="text" value="ifc_comtrol.access_level" label="{{'IFC_COMTROL_KEY_SYSTEM_ACCESS_LEVEL' | translate}}" styleclass="full-width" ng-if="ifc_comtrol.enabled"></ad-textbox>
                    </fieldset>
                    <fieldset class="holder left">
                        <ad-textbox inputtype="text" value="ifc_comtrol.room_type" label="{{'IFC_COMTROL_DEFAULT_ROOM_TYPE' | translate}}" styleclass="full-width" ng-if="ifc_comtrol.enabled"></ad-textbox>
                        <p><em>Type of room for which this key is being made. (Defaults to Single)</em></p>
                    </fieldset>
                    <fieldset class="holder left">
                        <ad-dropdown-name ng-if="ifc_comtrol.enabled"
                                          savemodel="ifc_comtrol.language"
                                          valueproperty="id"
                                          property="name"
                                          list="languages"
                                          label="{{'IFC_COMTROL_LANGUAGE' | translate}}"
                                          div-class="full-width">
                        </ad-dropdown-name>
                    </fieldset>
                </div>
            </fieldset>

            <div class="actions float">
                <button type="button" id="cancel" class="button blank add-data-inline" ng-click="goBackToPreviousState()" translate>
                    CANCEL
                </button>
                <button type="button" like-type="common" id="update" class="button ng-binding green" ng-click="saveIFCComtrolSetup()" translate>
                    SAVE_CHANGES
                </button>
            </div>

        </form>
    </section>
</div>
