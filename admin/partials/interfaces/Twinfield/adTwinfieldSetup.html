<ad-common-parts-in-form-dir on-save-button-click="saveSetup"
                             header-caption="{{interface + '_HEADER' | translate}}">
    <div class="entry full-width">
        <fieldset class="holder left">
            <div class="entry full-width">
                <label><span translate>ACTIVATE_INACTIVATE</span></label>
                <div name="active-inactive-toggle"
                     class="switch-button single"
                     ng-class="{ on: config.enabled }"
                     ng-click="toggleEnabled()">
                    <input type="checkbox">
                    <span class="switch-icon"></span>
                </div>
            </div>
        </fieldset>
        <fieldset class="holder right">
            <div class="entry full-width">
                <label>
                    TWINFIELD OAUTH
                    <span class="oauth-status success" ng-if="config.authorized">
                            {{'EXACT_ONLINE_AUTHORIZED' | translate}}
                        </span>
                    <span class="oauth-status" ng-if="!config.authorized">
                            {{'EXACT_ONLINE_UNAUTHORIZED' | translate}}
                        </span>
                </label>
                <div target="_self" class="button blue" ng-click="authorize()">
                    {{'EXACT_ONLINE_OAUTH' | translate}}
                </div>
            </div>
        </fieldset>
    </div>

    <fieldset class="holder full-width">
        <div class="form-title">
            <h3>API Access<span> Configuration</span></h3>
        </div>

        <fieldset class="holder left">
            <ad-textbox inputtype="text" value="config.process_url"
                        label="{{'PROCESS_URL'| translate}}"
                        styleclass="full-width"></ad-textbox>
        </fieldset>

        <fieldset class="holder right">
            <ad-textbox inputtype="text" value="config.finder_url"
                        label="{{'FINDER_URL'| translate}}"
                        styleclass="full-width"></ad-textbox>
        </fieldset>
    </fieldset>

    <fieldset class="holder full-width">
        <div class="form-title">
            <h3>Settings</h3>
        </div>

        <fieldset class="holder left">
            <ad-textbox inputtype="text" value="config.hotel_code"
                        label="{{'OFFICE_CODE'| translate}}"
                        styleclass="full-width"></ad-textbox>
            <ad-textbox inputtype="text" value="config.suspended_account_code"
                        label="{{'SUSPENSE_ACCOUNT_CODE'| translate}}"
                        styleclass="full-width"></ad-textbox>
        </fieldset>

        <fieldset class="holder right">
            <ad-textbox inputtype="text" value="config.balancing_ledger_account_number"
                        label="{{'LEDGER_ACCOUNT_NUMBER'| translate}}"
                        styleclass="full-width"></ad-textbox>
        </fieldset>
    </fieldset>

    <fieldset class="holder full-width">
        <div class="form-title">
            <h3>
                CC Payment<span> Charge Codes</span>
            </h3>
            <em class="status">
                <span>Select at least one Charge Code</span>
            </em>
        </div>
        <div class="entry has-sortable">
            <label class="center_align"><em class="rate_roomtype_text">Available Charge Codes</em></label>
            <ul class="boxes sortable ui-sortable short-list" data-type="source" data-drop="true"
                ng-model="meta.available_charge_groups" style="overflow-y: scroll !important;"
                jqyoui-droppable="{multiple:true, onOver: 'onUnSelectChargeGroup'}" data-j
                qyoui-options="{accept:'.selected_reports'}">
                <li ng-repeat="chargeGroup in meta.available_charge_groups" data-drag="true"
                    ng-model="meta.available_charge_groups"
                    jqyoui-draggable="{index: {{$index}}, animate:false, onStart:'hideCurrentDragItem', onStop:'showCurrentDragItem' }"
                    data-jqyoui-options="{revert: 'invalid', helper:'clone',appendTo: 'body'}"
                    class="available-reports li-draggable" ng-click="chooseAvailableChargeGroup($index)"
                    ng-class='{selected: chosenAvailableChargeGroups.indexOf($index) > -1}'>
                    <span class="icons icon-handle"></span>
                    <span class="icons icon-handle"></span> {{ chargeGroup.description }}
                </li>
            </ul>
        </div>
        <div class="entry movers rates_mover">
            <span class="top_mover">
            <span class="icons icon-mover-right to-target"
                  data-type="target"
                  ng-click="selectChosen()"
                  ng-class="{active: chosenAvailableChargeGroups.length >= 1}"
                  data-type="source">
            Select Charge Code(s)
            </span>
            <span class="icons icon-mover-left to-source" data-type="source" ng-click="unSelectChosen()"
                  ng-class="{active: chosenSelectedChargeGroups.length >= 1}">
            Un-select Charge Code(s)
            </span>
            </span>
            <span>
               <div class="green_gradient icons">
                  <span class="active to-source green_mover icons_rates"
                        data-type="source"
                        ng-click="selectAll()">
                  Select Charge Code(s)
                  </span>
               </div>
               <div class="red_gradient icons">
                  <span class="active to-target  red_mover icons_rates" data-type="target" ng-click="unSelectAll()">
                  Un-select Charge Code(s)
                  </span>
               </div>
            </span>
        </div>
        <div class="entry has-sortable">
            <label class="center_align">
                <span class="assigned_room_text">Selected Charge Codes</span></label>
            <ul class="boxes sortable ui-sortable short-list" data-type="target" data-drop="true"
                ng-model="meta.selected_charge_groups"
                jqyoui-droppable="{multiple:true, onOver: 'onSelectChargeGroup'}"
                data-jqyoui-options="{accept:'.available-reports'}">
                <li ng-repeat="chargeGroup in meta.selected_charge_groups"
                    ng-click="chooseSelectedChargeGroup($index)"
                    ng-class='{selected: chosenSelectedChargeGroups.indexOf($index) > -1}'
                    class="selected-reports li-draggable"
                    data-jqyoui-options="{revert: 'invalid', helper:'clone',appendTo: 'body'}"
                    data-drag="true"
                    ng-model="meta.selected_charge_groups"
                    jqyoui-draggable="{index: {{$index}}, animate:false, onStart:'hideCurrentDragItem', onStop:'showCurrentDragItem' }">
                    <span class="icons icon-handle"></span>
                    <span class="icons icon-handle"></span> {{ chargeGroup.description }}
                </li>
            </ul>
        </div>
    </fieldset>

    <ad-sync-block historical-date-range-days="30"
                   interface="{{interface}}"
                   config="config">
    </ad-sync-block>
</ad-common-parts-in-form-dir>


