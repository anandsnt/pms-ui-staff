<div id="wrapper" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
    <header class="content-title float">
        <h2 translate>ZESTSTATION_TITLE</h2>
        <a ng-click="goBackToPreviousState()" class="action back" translate>STATION_BACK</a>
    </header>
    <section class="content-scroll">
        <div ng-include="'/assets/partials/common/notification_success_message.html'"></div>
        <div ng-include="'/assets/partials/common/notification_message.html'"></div>
        <form class="form float">
            <!-- Home screen options -->
            <fieldset class="holder left">
                <div class="form-title full-width">
                    <h3><span translate> HOME_SCREEN_OPTIONS </span> </h3>
                </div>
                <ad-checkbox is-checked="zestSettings.home_screen.pickup_keys" label="{{ 'PICKUP_KEYS' | translate}}"></ad-checkbox>
                <ad-checkbox is-checked="zestSettings.home_screen.check_out" label="{{ 'CHECKOUT' | translate}}"></ad-checkbox>
                <ad-checkbox is-checked="zestSettings.home_screen.check_in" label="{{ 'CHECKIN' | translate}}"></ad-checkbox>
            </fieldset>
            <fieldset class="holder right">
                <div class="form-title full-width">
                    <h3><span translate>ACTIVATE_BOOKING_ENGINE_POPUP</span> </h3>
                </div>
                <ad-toggle-button is-checked="zestSettings.home_screen.booking_pop_up.enable_pop_up" label="{{'ACTIVATE_BOOKING_ENGINE_POPUP'| translate}}" div-class="full-width"></ad-toggle-button>
                <ad-textbox value="zestSettings.home_screen.booking_pop_up.booking_engine_url" name="zest-web" id="zest-web" label="{{'BOOKING_URL'| translate}}" placeholder="" styleclass="full-width" ng-show="zestSettings.home_screen.booking_pop_up.enable_pop_up"></ad-textbox>
            </fieldset>
            <fieldset class="holder left">
                <div class="form-title full-width">
                    <h3><span translate> STATION_LANGUAGE_SUPPORT</span> </h3>
                </div>
                <ad-toggle-button is-checked="zestSettings.zest_lang.enabled" label="{{'STATION_LANGUAGE_SUPPORT_SWITCH'| translate}}" div-class=""></ad-toggle-button>
                <ad-dropdown  label="{{'STATION_LANGUAGE_DEFAULT' | translate}}" label-in-drop-down="{{'STATION_LANGUAGE_DEFAULT_PLACEHOLDER' | translate}}" list="enabledLangs" savemodel="zestSettings.zest_lang.default_language" valueproperty="value" property="name" selected-Id='zestSettings.zest_lang.default_language' required='no' selbox-class='placeholder' div-class="{{defaultLangsDivClass}}"></ad-dropdown>
                <!-- english -->
                <div class="entry full-width station-language-entry">
                    <ad-checkbox on-click="updateDefaultLanguageDropdown()" is-checked="zestSettings.zest_lang.English" label="{{ 'STATION_LANGUAGE_ENGLISH' | translate}}"></ad-checkbox>
                    <div class="entry">
                        <div class="file-upload">
                            <span class="input" ng-show="hasFileUpdatedOrUploading('english')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                            <span class="input" ng-show="!hasFileUpdatedOrUploading('english')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                            <input type="file" ng-model="zestSettings.zest_lang.english_translations_file" accept="*" app-filereader emit-data="english_translations_file" />
                            <button type="button" class="button brand-colors">{{'STATION_LANGUAGE_ATTACH_FILE' | translate}}</button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('english')" class="button download-arrow icons " ng-click="downloadLang('en')"></button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('english')" class="button download-arrow icons right editor" ng-click="editLang('en')">
                                <text ng-include="'/assets/cssimg/admin/adEditorIconSvg.svg'"></text>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- french -->
                <div class="entry full-width station-language-entry">
                    <ad-checkbox on-click="updateDefaultLanguageDropdown()" is-checked="zestSettings.zest_lang.French" label="{{ 'STATION_LANGUAGE_FRENCH' | translate}}"></ad-checkbox>
                    <div class="entry">
                        <div class="file-upload">
                            <span class="input" ng-show="hasFileUpdatedOrUploading('french')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                            <span class="input" ng-show="!hasFileUpdatedOrUploading('french')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                            <input type="file" ng-model="zestSettings.zest_lang.french_translations_file" accept="*" app-filereader emit-data="french_translations_file" />
                            <button type="button" class="button brand-colors">{{'STATION_LANGUAGE_ATTACH_FILE' | translate}}</button>
                            <button type="button" class="button download-arrow icons " ng-click="downloadLang('fr')" ng-show="hasFileUpdatedOrUploading('french')"></button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('french')" class="button download-arrow icons right " ng-click="editLang('fr')">
                                <text ng-include="'/assets/cssimg/admin/adEditorIconSvg.svg'"></text>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- spanish -->
                <div class="entry full-width station-language-entry">
                    <ad-checkbox on-click="updateDefaultLanguageDropdown()" is-checked="zestSettings.zest_lang.Spanish" label="{{ 'STATION_LANGUAGE_SPANISH' | translate}}"></ad-checkbox>
                    <div class="entry">
                        <div class="file-upload">
                            <span class="input" ng-show="hasFileUpdatedOrUploading('spanish')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                            <span class="input" ng-show="!hasFileUpdatedOrUploading('spanish')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                            <input type="file" ng-model="zestSettings.zest_lang.spanish_translations_file" accept="*" app-filereader emit-data="spanish_translations_file" />
                            <button type="button" class="button brand-colors">{{'STATION_LANGUAGE_ATTACH_FILE' | translate}}</button>
                            <button type="button" class="button download-arrow icons " ng-click="downloadLang('es')" ng-show="hasFileUpdatedOrUploading('spanish')"></button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('spanish')" class="button download-arrow icons right " ng-click="editLang('es')">
                                <text ng-include="'/assets/cssimg/admin/adEditorIconSvg.svg'"></text>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- german -->
                <div class="entry full-width station-language-entry">
                    <ad-checkbox on-click="updateDefaultLanguageDropdown()" is-checked="zestSettings.zest_lang.German" label="{{ 'STATION_LANGUAGE_GERMAN' | translate}}"></ad-checkbox>
                    <div class="entry">
                        <div class="file-upload">
                            <span class="input" ng-show="hasFileUpdatedOrUploading('german')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                            <span class="input" ng-show="!hasFileUpdatedOrUploading('german')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                            <input type="file" ng-model="zestSettings.zest_lang.german_translations_file" accept="*" app-filereader emit-data="german_translations_file" />
                            <button type="button" class="button brand-colors">{{'STATION_LANGUAGE_ATTACH_FILE' | translate}}</button>
                            <button type="button" class="button download-arrow icons " ng-click="downloadLang('de')" ng-show="hasFileUpdatedOrUploading('german')"></button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('german')" class="button download-arrow icons right " ng-click="editLang('de')">
                                <text ng-include="'/assets/cssimg/admin/adEditorIconSvg.svg'"></text>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- italian -->
                <div class="entry full-width station-language-entry">
                    <ad-checkbox on-click="updateDefaultLanguageDropdown()" is-checked="zestSettings.zest_lang.Italian" label="{{ 'STATION_LANGUAGE_ITALIAN' | translate}}"></ad-checkbox>
                    <div class="entry">
                        <div class="file-upload">
                            <span class="input" ng-show="hasFileUpdatedOrUploading('italian')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                            <span class="input" ng-show="!hasFileUpdatedOrUploading('italian')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                            <input type="file" ng-model="zestSettings.zest_lang.italian_translations_file" accept="*" app-filereader emit-data="italian_translations_file" />
                            <button type="button" class="button brand-colors">{{'STATION_LANGUAGE_ATTACH_FILE' | translate}}</button>
                            <button type="button" class="button download-arrow icons " ng-click="downloadLang('it')" ng-show="hasFileUpdatedOrUploading('italian')"></button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('italian')" class="button download-arrow icons right " ng-click="editLang('it')">
                                <text ng-include="'/assets/cssimg/admin/adEditorIconSvg.svg'"></text>
                            </button>
                        </div>
                    </div>
                </div>
                <!-- castelleno -->
                <div class="entry full-width station-language-entry">
                    <ad-checkbox on-click="updateDefaultLanguageDropdown()" is-checked="zestSettings.zest_lang.Castellano" label="{{ 'STATION_LANGUAGE_CASTELLANO' | translate}}"></ad-checkbox>
                    <div class="entry">
                        <div class="file-upload">
                            <span class="input" ng-show="hasFileUpdatedOrUploading('castellano')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                            <span class="input" ng-show="!hasFileUpdatedOrUploading('castellano')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                            <input type="file" ng-model="zestSettings.zest_lang.castellano_translations_file" accept="*" app-filereader emit-data="italian_translations_file" />
                            <button type="button" class="button brand-colors">{{'STATION_LANGUAGE_ATTACH_FILE' | translate}}</button>
                            <button type="button" class="button download-arrow icons " ng-click="downloadLang('cl')" ng-show="hasFileUpdatedOrUploading('castellano')"></button>
                            <button type="button" ng-show="hasFileUpdatedOrUploading('castellano')" class="button download-arrow icons right " ng-click="editLang('cl')">
                                <text ng-include="'/assets/cssimg/admin/adEditorIconSvg.svg'"></text>
                            </button>
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset class="holder right">
                <div class="form-title full-width">
                    <h3><span translate>CHROME_APP_ID</span> </h3>
                </div>
                <ad-textbox value="zestSettings.chrome_app_id" name="zest-web" id="zest-web" label="{{'CHROME_APP_ID'| translate}}" placeholder="" styleclass="full-width"></ad-textbox>
            </fieldset>
            <!-- printer options -->
            <fieldset class="holder left holder_margin">
                <div class="form-title full-width">
                    <h3><span translate>STATION_PRINTER_OPTIONS</span> </h3>
                </div>
                <div id="options" class="entry full-width">
                    <label translate>STATION_PRINTER_OPTIONS </label>
                    <label class="radio" ng-repeat="printer in zestStationData.printer_options" ng-class="{'checked':zestSettings.zest_printer_option == printer.value}">
                        <span class="icon-form icon-radio " ng-class="{'checked':zestSettings.zest_printer_option == printer.value}"></span>
                        <input type="radio" value="{{printer.value}}" ng-model="zestSettings.zest_printer_option"> {{ printer.description }}
                    </label>
                </div>
                <ad-toggle-button ng-show="zestSettings.zest_printer_option === 'STAR_TAC'" is-checked="zestSettings.kiosk_use_socket_print" label="{{'USE_ZEST_STATION_HANDLER'| translate}}" div-class="full-width"></ad-toggle-button>
                <br>
            </fieldset>
            <fieldset class="holder right">
                <div class="form-title full-width">
                    <h3><span translate>CC_ENTRY_METHOD</span> </h3>
                </div>
                <div id="options" class="entry full-width" ng-hide="hideAddOption">
                    <label translate>CC_ENTRY_METHOD</label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_cc_entry_method== 'six_pay'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_cc_entry_method=='six_pay'}"></span>
                        <input type="radio" value="six_pay" ng-model="zestSettings.kiosk_cc_entry_method"> {{ 'SIX_PAY_CHROME_IPAD' | translate}}
                    </label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_cc_entry_method == 'mli_desktop'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_cc_entry_method == 'mli_desktop'}"></span>
                        <input type="radio" value="mli_desktop" ng-model="zestSettings.kiosk_cc_entry_method">{{ 'MLI_DESKTOP_SWIPE_CHROME' | translate}}
                    </label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_cc_entry_method == 'ingenico_infinea'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_cc_entry_method == 'ingenico_infinea'}"></span>
                        <input type="radio" value="ingenico_infinea" ng-model="zestSettings.kiosk_cc_entry_method">{{ 'INFINEA_INGENICO_CC_IPAD' | translate}}
                    </label>
                </div>
            </fieldset>
            <fieldset class="holder full-width">
                <div class="form-title full-width">
                    <h3><span translate>KEY_CREATION_METHOD</span> </h3>
                </div>
                <div id="options" class="entry" ng-hide="hideAddOption">
                    <label translate>KEY_CREATION_METHOD</label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_key_creation_method== 'remote_encoding'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_key_creation_method=='remote_encoding'}"></span>
                        <input type="radio" value="remote_encoding" ng-model="zestSettings.kiosk_key_creation_method"> {{ 'REMOTE_ENCODING_CHROME_IPAD' | translate}}
                    </label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_key_creation_method == 'sankyo_websocket'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_key_creation_method == 'sankyo_websocket'}"></span>
                        <input type="radio" value="sankyo_websocket" ng-model="zestSettings.kiosk_key_creation_method">{{ 'SANKYO_ENCODING' | translate}}
                    </label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_key_creation_method == 'ingenico_infinea_key'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_key_creation_method == 'ingenico_infinea_key'}"></span>
                        <input type="radio" value="ingenico_infinea_key" ng-model="zestSettings.kiosk_key_creation_method">{{ 'INGENICO_INFINEA_KEY' | translate}}
                    </label>
                    <label class="radio" ng-class="{'checked':zestSettings.kiosk_key_creation_method == 'manual'}">
                        <span class="icon-form icon-radio " ng-class="{checked:zestSettings.kiosk_key_creation_method == 'manual'}"></span>
                        <input type="radio" value="manual" ng-model="zestSettings.kiosk_key_creation_method">{{ 'MANUAL' | translate}}
                    </label>

                    <ad-toggle-button is-hide="zestSettings.kiosk_key_creation_method != 'manual'" is-checked="zestSettings.kiosk_show_room_pin" label="{{'SHOW_PIN_LABEL'| translate}}" div-class="full-width"></ad-toggle-button>

                </div>
                <!-- Upload image for Key Creation In Progress Screen -->
                <label translate>KEY_CREATION_IMAGE </label>
                <div class="entry">
                    <div class="file-upload" ng-class="{'with-remove-file-area':hasKeyImageFileUpdatedOrUploading('keyCreate')}" ng-mouseenter="uploadedIcon.preview_createkey = true" ng-mouseleave="uploadedIcon.preview_createkey = false">
                        <span class="input" ng-show="hasKeyImageFileUpdatedOrUploading('keyCreate')">{{'STATION_LANGUAGE_FILE_ATTACHED' | translate}}</span>
                        <span class="input" ng-show="!hasKeyImageFileUpdatedOrUploading('keyCreate')">{{'STATION_LANGUAGE_CHOOSE_FILE' | translate}}</span>
                        <input type="file" ng-model="zestSettings.key_create_file_uploaded" accept="*" app-filereader emit-data="key_create_file_uploaded" />
                        <button type="button" class="button brand-colors">
                            {{'STATION_LANGUAGE_ATTACH_FILE' | translate}}
                        </button>
                    </div>
                    <div>
                        <img class='station-image-preview' ng-show="uploadedIcon.preview_createkey && hasKeyImageFileUpdatedOrUploading('keyCreate')" src="{{uploadedIcon.createkey}}">
                    </div>
                    <button ng-show="hasKeyImageFileUpdatedOrUploading('keyCreate')" type="button" class="button brand-colors with-remove-file" ng-click="zestSettings.key_create_file_uploaded = 'false'">
                        {{'STATION_REMOVE_FILE' | translate}}
                        
                    </button>
                </div>
            </fieldset>
            <fieldset class="holder left">
                <div class="form-title full-width">
                    <h3><span translate>ZEST_STATION_OUT_OF_ORDER_TRESHOLD</span> </h3>
                </div>
                <ad-toggle-button is-checked="zestSettings.kiosk_out_of_order_treshold_is_active" label="{{'ACTIVE'| translate}}" div-class=""></ad-toggle-button>
                <ad-textbox ng-show="zestSettings.kiosk_out_of_order_treshold_is_active" value="zestSettings.kiosk_out_of_order_treshold_value" name="zest-web" id="zest-web" label="{{'LIMIT'| translate}}" placeholder="" styleclass="full-width"></ad-textbox>
            </fieldset>

            <fieldset class="holder right">
                <div class="form-title full-width">
                    <h3><span translate>STATION_GUEST_ID_ACTIVATE</span> </h3>
                </div>
                <ad-toggle-button is-checked="zestSettings.scan_guest_id" label="{{'STATION_GUEST_ID_ACTIVATE_DESCRIPTION'| translate}}" div-class="full-width" is-disabled="zestSettings.kiosk_manual_id_scan"></ad-toggle-button>
                <ad-toggle-button is-checked="zestSettings.scanner_use_v1_lib" label="{{'USE_V1_SCAN'| translate}}" div-class="full-width" is-disabled="zestSettings.kiosk_manual_id_scan"
                ng-show="zestSettings.scan_guest_id"></ad-toggle-button>
                <ad-toggle-button is-checked="zestSettings.kiosk_manual_id_scan" label="{{'MANUAL_ID_VERIFFICATION'| translate}}" div-class="full-width" is-disabled="zestSettings.scan_guest_id"></ad-toggle-button>
                <div class="entry full-width" ng-show="zestSettings.kiosk_manual_id_scan">
                    <label style="line-height: 1.5em" translate>ASSIGN_PIN_FOR_STAFF_TO_VERIFY_ID</label>
                    <button style="margin-top: 20px;" class="button ng-binding blue" ng-click="goToUsers()" translate>
                        GO_TO_USERS
                    </button>
                </div>

            </fieldset>

            <fieldset class="holder left">
                <div class="form-title full-width">
                    <h3><span translate>ZEST_STATION_OFFLINE_SETTINGS</span> </h3>
                </div>
                <ad-dropdown 
                    ng-click="updateDefaultLanguageDropdown()" 
                    label="{{'ZEST_STATION_OFFLINE_RECONNECT' | translate}}" 
                    label-in-drop-down="{{'ZEST_STATION_OFFLINE_RECONNECT_SELECT' | translate}}" 
                    list="offlineReconnectValueList" 
                    savemodel="zestSettings.kiosk_offline_reconnect_time" 
                    valueproperty="value" 
                    property="name" 
                    selected-Id='zestSettings.kiosk_offline_reconnect_time' 
                    required='no' 
                    selbox-class='placeholder' 
                    div-class="{{defaultLangsDivClass}}">
                </ad-dropdown>
            </fieldset>

            <div class="actions float">
                <button type="button" id="cancel" class="button blank add-data-inline" ng-click="goBackToPreviousState()" translate>
                    CANCEL
                </button>
                <button type="button" like-type="common" id="update" class="button ng-binding green" ng-click="saveSettings()" translate>
                    SAVE_CHANGES
                </button>
            </div>
        </form>
    </section>
</div>
