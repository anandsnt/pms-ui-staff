<div id="wrapper" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
    <header class="content-title float">
        <h2 translate>ZESTSTATION_TITLE_CHECKOUT</h2>
        <a ng-click ="goBackToPreviousState()" class="action back" translate>STATION_BACK</a>


    </header>
    <section class="content-scroll">
        <div ng-include="'/assets/partials/common/notification_err_message_basic.html'"></div>
        <div ng-include="'/assets/partials/common/notification_success_message.html'"></div> 
        <form class="form float" >
            
            <fieldset class="holder left">
                <div class="form-title">
                    <h3><span translate>KEY_CARD_LOOK_UP</span> </h3>
                </div>
                 <ad-toggle-button is-checked="zestSettings.checkout_keycard_lookup" label="{{'KEY_CARD_LOOK_UP'| translate}}" div-class="full-width"></ad-toggle-button>
            </fieldset>  
             <!-- Guest delivery options -->
           <fieldset class="holder right">    
                <div class="form-title full-width">
                     <h3><span translate>GUEST_BILL_DELIVERY </span> </h3>
                </div>
                <ad-checkbox is-checked="zestSettings.guest_bill.email" label="{{ 'EMAIL_UPDATE_ZS' | translate}}"></ad-checkbox>
                <ad-checkbox is-checked="zestSettings.guest_bill.print" label="{{ 'PRINT' | translate}}"></ad-checkbox>
            </fieldset> 
            <fieldset class="holder left">
                <div class="form-title">
                    <h3><span translate>COLLECT_BALANCE</span> </h3>
                </div>
            <ad-toggle-button is-checked="zestSettings.kiosk_collect_balance" label="{{'COLLECT_BALANCE'| translate}}" div-class="full-width"></ad-toggle-button>
            </fieldset>

            <!-- Enable/Disable Post minibar consumption feature in zest station -->
            <fieldset class="holder right">
                <div class="form-title">
                    <h3><span translate>POST_GUEST_CHARGES</span> </h3>
                </div>
                <ad-toggle-button is-checked="zestSettings.enable_items_for_station" label="{{'POST_GUEST_CHARGES'| translate}}" div-class="full-width"></ad-toggle-button>
            </fieldset>

            <!-- Select items to post -->
            <fieldset ng-if="zestSettings.enable_items_for_station" class="holder full-width" ng-if="true">
                <div class="form-title">
                    <h3>
                        <span translate>POST_GUEST_CHARGES</span>
                    </h3>
                </div>
                <div class="entry has-sortable" style="width: 48%; margin-right: 2%;">
                    <label class="center_align">
                        <em translate="ALLOWED_ITEMS"></em>
                    </label>
                    <ul class="boxes sortable ui-sortable short-list"  data-type="target"  data-drop="true" ng-model="allowedItemsInZS" style="overflow-y: scroll !important;" jqyoui-droppable="{multiple:true}" data-jqyoui-options="{accept:'.exclude-payment-types'}">
                        <li ng-repeat="item in allowedItemsInZS" data-drag="true" ng-model="allowedItemsInZS" jqyoui-draggable="{index: {{$index}}, animate:false, onStart:'hideCurrentDragItem', onStop:'showCurrentDragItem'}" data-jqyoui-options="{revert: 'invalid', helper:'clone',appendTo: 'body'}" class="allowed-payment-types li-draggable">
                            <span class="icons icon-handle"></span>
                            <span class="icons icon-handle"></span>
                            {{ item.item_description }}
                        </li>
                    </ul>
                </div>
                <div class="entry has-sortable" style="width: 48%;">
                    <label class="center_align">
                        <em translate="AVAILABLE_ITEMS"></em>
                    </label>
                    <ul class="boxes sortable ui-sortable short-list" data-type="source" data-drop="true" ng-model="availableItems" jqyoui-droppable="{multiple:true}" data-jqyoui-options="{accept:'.allowed-payment-types'}">
                        <li ng-repeat="item in availableItems" class="exclude-payment-types li-draggable" data-jqyoui-options="{revert: 'invalid', helper:'clone',appendTo: 'body'}" data-drag="true" ng-model="availableItems" jqyoui-draggable="{index: {{$index}}, animate:false, onStart:'hideCurrentDragItem', onStop:'showCurrentDragItem' }">
                            <span class="icons icon-handle"></span>
                            <span class="icons icon-handle"></span>
                            {{ item.item_description }}
                        </li>
                    </ul>
                </div>
            </fieldset>

            <div class="actions float">
                <button type="button" id="cancel" class="button blank add-data-inline" ng-click="goBackToPreviousState()" translate>
                    CANCEL
                </button>
                <button type="button" like-type="common" id="update" class="button ng-binding green" ng-click="saveSettings()" translate>
                    SAVE_CHANGES
                </button>
            </div>

        </form>
    </section>
</div>