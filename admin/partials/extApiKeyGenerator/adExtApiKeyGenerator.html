<section class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="clearErrorMessage()">
	<div class="inline-edit">
		<header class="content-title float">
			<h2 translate> EXT API Keys List </h2>
			<span class="count"> (
				{{data.length}}
				) </span>
			<a class="action add" ng-click="addNewClicked()" translate>ADD_NEW</a>
		</header>
		<section class="content-scroll">
			<section ng-show="state.mode !== 'ADD'">
				<div class="controls-holder filters">
					<div class="table-search three-column">
						<span class="search-text">Search</span>
						<span class="icons icon-search" name="submit" type="submit"></span>
						<input autocomplete="off" type="text" ad-delay-textbox ng-model="searchTerm" delay="1000" function-to-fire="searchEntered"></input>
					</div>
				</div>
			</section>
			<div ng-include="'/assets/partials/common/notification_message.html'"></div>

			<div id="add-new" ng-show="currentClickedElement == 'new'" ng-include="'/assets/partials/extApiKeyGenerator/adExtApiKeyGeneratorAdd.html'"></div>

			<table class="grid" id="api-keys" ng-table="tableParams" template-pagination="custom/pager">
				<tbody>
					<tr ng-repeat="apikey in $data">
						<td data-title="'Token Email'" class="token_email" header-class="id token_email">
							<span> {{apikey.token_email}}</span>
						</td>
						<td data-title="'Hotel Chain'" header-class="name chain_name">
							<span>
								{{apikey.chain_name}}
							</span>
						</td>
						<td data-title="'Api Key'" header-class="name api_key">
							<span>
								{{apikey.api_token}}
							</span>
						</td>
						<td data-title="'User'" header-class="name user">
							<span>
								{{apikey.user}}
							</span>
						</td>
						<td data-title="'Expiry Date'" header-class="name expiry_date">
							<span>
								{{apikey.expiry_date}}
							</span>
						</td>
					</tr>
				</tbody>
			</table>
		</section>
		<!--Custom pagination footer goes here-->
		<script type="text/ng-template" id="custom/pager">
			<div class = "pager">
				<span ng-show="totalCount>0">Showing {{startCount}} to {{endCount}} of {{totalCount}} items</span>
				<span ng-show="totalCount==0">Showing 0 items</span>
				<ul class="ng-cloak">
	              	<li ng-repeat="page in pages"
		                ng-class="{'previous': page.type == 'prev', 'next': page.type == 'next'}"
		                ng-show="page.type == 'prev' || page.type == 'next'" ng-switch="page.type">

		                <a ng-switch-when="prev" ng-click="params.page(1)" class="page" ng-class="{'disabled': !page.active}">First</a>
		                <a ng-switch-when="prev" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">Previous</a>
		                <a ng-switch-when="prev" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">{{page.number}}</a>

		                <a ng-switch-when="next" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">{{page.number}}</a>
		                <a ng-switch-when="next" ng-click="params.page(page.number)" class="page" ng-class="{'disabled': !page.active}">Next</a>
		                <a ng-switch-when="next" ng-click="params.page(totalPage)" class="page" ng-class="{'disabled': !page.active}">Last</a>
		          	</li>
	            </ul>
	        </div>
		</script>
		<!--end-->
	</div>
</section>
