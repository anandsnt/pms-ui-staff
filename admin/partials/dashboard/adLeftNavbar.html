<!-- NEW CODE -->
<nav id="main-menu" role="navigation" ng-animate="animate"
     ng-class="{'menu-open': menuOpen, 'menu-closing' : !menuOpen}">
    <a class="nav-toggle" ng-class="{'active': menuOpen}" ng-click="$emit('navToggled')">Menu</a>

    <div id="nav">
        <h5 ng-show="isHotelAdmin || isHotelStaff">Menu</h5>

        <div class="menu-scroll scrollable" ng-iscroll="MENU_SCROLLER" ng-isroll-delay="500">
            <div class="wrapper">
                <ul id="large-menu" class="main">
                    <li ng-show="isHotelAdmin || isHotelStaff"
                        ng-repeat="menuItem in menu | filter:{hidden:'!'+true}"
                        ng-hide="(isHotelAdmin || isHotelStaff) && menuItem.standAlone && !isStandAlone"
                        ng-click="$emit('updateSubMenu',[$index,menuItem])">
                        <a class="icon-menu {{menuItem.iconClass}}"
                           ng-class="{'open':menuOpen && showSubMenu && menuItem.submenu.length >= 1 && activeSubMenu == menuItem.submenu}"
                           translate="{{menuItem.title}}"></a>
                    </li>
                    <li id="settings" ng-show="isHotelAdmin || isHotelStaff">
                        <a ng-click="settingsClicked()" class="icon-menu icon-settings active">Settings</a>
                    </li>
                    <li id="sign-out">
                        <a ng-click="logout()" class="icon-menu icon-sign-out">Sign Out</a>
                    </li>
                </ul>

                <ul id="mobile-menu" class="main">
                    <li ng-repeat="mobileMenuItem in mobileMenu" ng-click="$emit('updateSubMenu',[$index,menuItem])"
                        ng-show="isHotelAdmin || isHotelStaff">
                        <a class="icon-menu {{mobileMenuItem.iconClass}}"
                           ng-class="{'open':menuOpen && showSubMenu && mobileMenuItem.submenu.length >= 1 && activeSubMenu == mobileMenuItem.submenu}"
                           translate="{{mobileMenuItem.title}}"></a>
                    </li>
                    <li id="sign-out">
                        <a ng-click="logout()" class="icon-menu icon-sign-out">Sign Out</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <ul id="submenu" class="submenu" ng-class="{'active':menuOpen && showSubMenu && activeSubMenu.length > 0}">
        <li ng-repeat="menuItem in activeSubMenu | filter:{hidden:'!'+true}"
            ng-hide="menuItem.standAlone && !isStandAlone" ng-click="$emit('updateSubMenu',[$index,menuItem])">
            <a ng-click="$emit('navToggled')" translate="{{menuItem.title}}"></a>
        </li>
    </ul>
</nav>