<section class="content current" ng-click="clearErrorMessage()">
    <header class="content-title">
        <h2 ng-show="!isAddMode">Edit Item <span>{{data.name}}</span></h2>
        <h2 ng-show="isAddMode">Add Item</h2>
        <a ng-click="goBack()" class="action back">Back</a>
        <a class="action remove" ng-hide="!data.id " ng-click="deleteItem(data.id)">Delete Item</a>
    </header>

    <section class="content-scroll">
        <form method="post" action="" id="{add/edit}" name="{add/edit}-item" class="form float">
            <fieldset class="holder left">
                <div class="form-title">
                    <h3><span>Item</span> details</h3>
                    <em class="status">Fields marked with <strong>*</strong> are mandatory!</em>
                </div>
                <div class="entry full-width">
                    <label for="item-availability">Availability Status <strong>*</strong></label>
                    <div class="switch-button" ng-class="{'on': data.status}">
                        <input name="item-availability" ng-model="data.status" id="item-availability" value="1" type="checkbox"  />
                        <span class="switch-icon"></span>
                    </div>
                </div>
                <div class="entry">
                    <label for="item-name">Item name <strong>*</strong></label>
                    <input type="text" name="item-name" ng-model="data.name" id="item-name" placeholder="Enter item name" value="{Item Name}" required />
                </div>
                <div class="entry full-width">
                    <label for="item-type">Item Type <strong>*</strong></label>
                    <div class="boxes">
                        <label class="radio" ng-class = "{'checked': data.page_template=='POI'}"> 
                            <span class="icon-form icon-radio " ng-class = "{'checked': data.page_template=='POI'}"></span>
                            <input type="radio" name="item-type" ng-model="data.page_template" id="poi" value="POI" />
                            Point of Interest 
                        </label>
                        <label class="radio" ng-class = "{'checked': data.page_template=='POI'}"> 
                            <span class="icon-form icon-radio" ng-class = "{'checked': data.page_template=='GENERAL'}"></span>
                            <input type="radio" name="item-type" ng-model="data.page_template" id="general" value="GENERAL" />
                            General Information 
                        </label>
                        <label class="radio" ng-class = "{'checked': data.page_template=='POI'}"> 
                            <span class="icon-form icon-radio" ng-class = "{'checked': data.page_template=='LINK'}"></span>
                            <input type="radio" name="item-type" ng-model="data.page_template" id="link" value="LINK" />
                            Link 
                        </label>
                    </div>
                </div>
                <div class="entry full-width">
                    <label for="item-image">Image<span>(680x320px in size)</span></label>
                    <div class="file-upload with-preview large-preview">
                        <span class="input">{{fileName}}</span>
                        <input type="file" name="item-image" ng-model="data.image" app-filereader id="item-image" />
                        <button type="button" class="button brand-colors">Replace image</button>
                    </div>
                    <span class="file-preview large-preview">
                        <img src="{{data.image}}" alt="" />
                    </span>
                </div>
                <div class="entry full-width">
                    <label for="item-description">Description</label>
                    <textarea name="item-description" ng-model="data.description" id="item-description" rows="4" placeholder="Item description ..."></textarea>
                </div>
                <div class="entry">
                    <label for="item-phone">Phone</label>
                    <input type="text" name="item-phone" ng-model="data.phone" id="item-phone" placeholder="Enter Phone number" value="" />
                </div>
                <div class="entry full-width">
                    <label for="item-address">Address <strong ng-show="data.page_template=='POI'">*</strong></label>
                    <input type="text" name="aitem-ddress" ng-model="data.address" id="item-address" placeholder="Enter Address" value=""  />
                </div>
                
                <div class="entry full-width">
                    <label for="item-url">URL <strong ng-show="data.page_template=='LINK'">*</strong></label>
                    <input type="text" name="item-url" ng-model="data.website_url" id="item-url" placeholder="Enter URL" value=""  />
                </div>        
            </fieldset>
            <fieldset class="holder right">
                <div class="form-title">
                    <h3><span>Assign</span> to category</h3>
                </div>
                <div class="entry full-width">
                    <ul class="boxes cms-tree">
                        <li class="category" ng-repeat="category in data.parent_category">
                            <div class="sort">
                                <span class="cms-name">{{category.name}}</span>
                                <div class="cms-delete">
                                    <a href="#" class="icons icon-delete">Delete</a>
                                </div>
                            </div>
                        </li>
                        
                        <li class="add">
                            <a  class="add-new-button open-modal" ng-click = "openAddCategoryModal()">Add category</a>
                        </li>
                    </ul>
                </div>        
            </fieldset>
            <div class="actions float">
                <button type="button" ng-click="goBack()" class="button blank">Cancel</button>
                <button type="button" ng-click="saveItem()" class="button green">Save changes</button>  
            </div>
        </form>
    </section>
</section>