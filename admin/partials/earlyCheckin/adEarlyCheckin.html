<section id="replacing-div-first" class="content current admin-scrollfix" div-touch-move-stop-propogate ng-click="">
	<div data-view="EarlyCheckinView">
		<section>
			<header class="content-title float">
				<h2 translate>EARLY_CHECKIN_UPSELL</h2>
				<a id="go_back" data-type="load-details" class="action back" ng-click="goBackToPreviousState()" translate>BACK</a>
			</header>
			<section class="content-scroll">
				<div ng-include="'/assets/partials/common/notification_message.html'"></div>
                                
                                <div ng-include="'/assets/partials/common/notification_success_message.html'"></div> 
                                
				<form name="upsell-early-checkin" method="post" id="upsell-early-checkin" class="form float" action="">
					<div class="form-title full-width">
						<h3><span translate>EARLY_CHECKIN_GENERAL</span> </h3>
					</div>
					<fieldset class="holder left">
						<div></div>

						<!-- Switch -->
						<div class="entry">
							<label for="early-checkin-upsell" translate>EARLY_CHECKIN_UPSELL</label>
							<div id="div-early-checkin-upsell" class="switch-button single" ng-class="{ on : upsellData.is_early_checkin_allowed}"  ng-click="switchClicked()">
								<input type="checkbox" value="10" name="late-checkout-upsell" id="late-checkout-upsell">
								<span class="switch-icon"></span>

							</div>
						</div>
					</fieldset>
					<fieldset class="holder right">
						<!-- Search available charge codes -->
						<charge-code-search charge-code="upsellData.early_checkin_charge_code" is-billing-group="{{isBillingGroup}}" charge-code-name="upsellData.early_checkin_charge_code_name"></charge-code-search>
					</fieldset>


					<div class="form-title full-width">
						<h3><span translate>EARLY_CHECKIN_UPSELL_WINDOWS</span> </h3>
					</div>
					<fieldset class='holder column full-width'>
						<div></div>
						<div class="entry early_checkin_upsell">
							<label translate> EARLY_CHECKIN_START_TIME </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">

									<select ng-options="hour for hour  in hours" ng-model="upsellWindows[0].hours">
										<option  value="" translate>HH</option>
									</select>

								</div>

								<div class="select select-col col1-3">

									<select ng-options="minute for minute  in minutes" ng-model="upsellWindows[0].minutes">
										<option  value="" translate>MM</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" ng-model = "upsellWindows[0].meridiem" class="styled">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>

						<ad-textbox value="upsellWindows[0].charge"   label = "{{'EARLY_CHECKIN_CHARGE' | translate}} [{{upsellData.hotel_currency}}]" placeholder = "Enter charge" styleclass="early_checkin_upsell"></ad-textbox>

						<ad-dropdown on-change="updateAddon(0, upsellWindows[0].addon_id)" label="{{'EARLY_CHECKIN_ADDON' | translate}}" label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}" list="addons" selected-Id='upsellWindows[0].addon_id' required='no' selbox-class='placeholder' div-class="early_checkin_upsell" options = "{'showOptionsIf': isAddonAvailable}"></ad-dropdown>

						<div class="entry early_checkin_upsell">
							<label translate> EARLY_CHECKIN_START_TIME </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">

									<select ng-options="hour for hour  in hours" ng-model="upsellWindows[1].hours" >
										<option  value="" translate>HH</option>
									</select>

								</div>

								<div class="select select-col col1-3">

									<select ng-options="minute for minute  in minutes" ng-model="upsellWindows[1].minutes" >
										<option  value="" translate>MM</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" class="styled" ng-model="upsellWindows[1].meridiem">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>
						<ad-textbox value="upsellWindows[1].charge"   label = "{{'EARLY_CHECKIN_CHARGE' | translate}} [{{upsellData.hotel_currency}}]" placeholder = "Enter charge" disabled="disableSecondOption" styleclass="early_checkin_upsell"></ad-textbox>

						<ad-dropdown on-change="updateAddon(1, upsellWindows[1].addon_id)"  label="{{'EARLY_CHECKIN_ADDON' | translate}}"  label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}" list="addons" selected-Id='upsellWindows[1].addon_id' required='no' selbox-class='placeholder' div-class="early_checkin_upsell" options = "{'showOptionsIf': isAddonAvailable}"></ad-dropdown>

						<div class="entry early_checkin_upsell">
							<label translate> EARLY_CHECKIN_START_TIME </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">
									<select ng-options="hour for hour  in hours" ng-model="upsellWindows[2].hours">
										<option  value="" translate >HH</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select ng-options="minute for minute  in minutes" ng-model="upsellWindows[2].minutes" ng-disabled="disableThirdOption">
										<option  value="" translate >MM</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" class="styled" ng-model="upsellWindows[2].meridiem">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>

						<ad-textbox value="upsellWindows[2].charge"   label = "{{'EARLY_CHECKIN_CHARGE' | translate}} [{{upsellData.hotel_currency}}]" placeholder = "Enter charge" disabled="disableThirdOption" styleclass="early_checkin_upsell" ></ad-textbox>

						<ad-dropdown on-change="updateAddon(2, upsellWindows[2].addon_id)" label="{{'EARLY_CHECKIN_ADDON' | translate}}" label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}" list="addons" selected-Id='upsellWindows[2].addon_id' required='no' selbox-class='placeholder' div-class="early_checkin_upsell" options = "{'showOptionsIf': isAddonAvailable}"></ad-dropdown>
                                                
                                                
						<div class="entry early_checkin_upsell">
							<label translate>  </label>
						</div>
                                                
						<div class="entry early_checkin_upsell">
							<label translate>  </label>
						</div>
                                                    <ad-dropdown id='zest_station_early_checkin_addon_id'
                                                                 ng-model='zest_station_early_checkin_addon_id'
                                                                 label="{{'EARLY_CHECKIN_ADDON_FREE_STATION' | translate}}" 
                                                                 label-in-drop-down="{{'EARLY_CHECKIN_ADDON_SELECT' | translate}}" 
                                                                 list="addons" 
                                                                 selected-Id='upsellData.zest_station_early_checkin_addon_id'
                                                                 required='no' 
                                                                 selbox-class='placeholder' 
                                                                 div-class="early_checkin_upsell" >
                                                    </ad-dropdown>
                                                
						<div class="entry full-width">
							<label translate> EARLY_CHECKIN_END_TIME </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">
									<select ng-options="hour for hour  in hours" ng-model="upsell_end_time.hours">
										<option  value="" translate >HH</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select ng-options="minute for minute  in minutes" ng-model="upsell_end_time.minutes" >
										<option  value="" translate >MM</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" class="styled" ng-model="upsell_end_time.meridiem">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>

						<ad-textbox value="upsellData.number_of_early_checkins_per_day"   label = "{{'NUMBER_OF_EARLY_CHECKINS_PER_DAY' | translate}}" placeholder = "{{'TYPE_NUMBER' | translate}}" ></ad-textbox>

					</fieldset>
                    <div class="form-title full-width">
						<h3><span translate>EARLY_CHECKIN_BY_RATE</span> </h3>
					</div>

					<div class="entry">
							<label translate> EARLY_CHECKIN_START_TIME </label>
							<div class="entry full-width float">
								<div class="select select-col col1-3">
									<select ng-options="hour for hour  in hours" ng-model="upsell_rate.hours">
										<option  value="" translate >HH</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select ng-options="minute for minute  in minutes" ng-model="upsell_rate.minutes" >
										<option  value="" translate >MM</option>
									</select>

								</div>
								<div class="select select-col col1-3">
									<select name="primetime" class="styled" ng-model="upsell_rate.meridiem">
										<option value="AM" translate>AM</option>
										<option value="PM" selected="" translate>PM</option>
									</select>
								</div>
							</div>

						</div>

					<fieldset class='holder column full-width'>

						<ad-dropdown label-in-drop-down="{{'SELECT_RATE' | translate}}" list="rates" selected-id='upsell_rate.selected_rate_id' selbox-class="placeholder" options = "{'showOptionsIf': isRateAvailable}"></ad-dropdown>

						<div class='entry'>
							<div class='early_checkin_add_rates'>
								<button class='button green' id='add-room-type' ng-click="clickAddRoomType()" translate>
									ADD_RATE
								</button>
							</div>
						</div>
						<div class='entry full-width' id='room-type-header'>
							<div class='entry' ng-show="isRateSelected">
								<label> <h4 translate>RATES</h4> </label>
							</div>
							<!-- <div class='entry' ng-show="upsellData.isRoomTypesSelectedFlag">
								<label> <h4 translate>MAX_PER_DAY </h4> </label>
							</div> -->
							<div id='room-type-details' ng-repeat="rate in upsellData.early_checkin_rates">

								<div class="entry full-width room-type-details" >
									<div class="entry">
										<span class="align-text-center"> {{rate.name}} </span>
									</div>
									<div class="entry">
										<!-- <span class="entry">
											<ad-textbox value="roomType.max_late_checkouts" inputtype="number"></ad-textbox>
										</span> -->
										<span class="entry">
											<a class="icons icon-delete large-icon align-text-center" ng-click="deleteRate(rate.id,rate.name)"></a>
										</span>
									</div>
								</div>

							</div>
						</div>
					</fieldset>

					<fieldset class='holder column full-width'>

						<ad-dropdown label="{{'LIMITED_EARLY_CHECK_IN_BY_ROOM_TYPE' | translate}}" label-in-drop-down="{{'SELECT_ROOM_TYPE' | translate}}" list="upsellData.room_type_list" selected-Id='upsellData.selected_room_type' selbox-class="placeholder"></ad-dropdown>

						<div class='entry'>
							<div class='add-room-type'>
								<button class='button green' id='add-room-type' ng-click="clickExcludeRoomType()" translate>
									ADD_ROOM_TYPE
								</button>
							</div>
						</div>
						<div class='entry full-width' id='room-type-header'>
							<div class='entry' ng-show="upsellData.isRoomTypesSelectedFlag">
								<label> <h4 translate>ROOM_TYPE</h4> </label>
							</div>
							<div class='entry' ng-show="upsellData.isRoomTypesSelectedFlag">
								<label> <h4 translate>MAX_PER_DAY </h4> </label>
							</div>
							<div id='room-type-details' ng-repeat="roomType in upsellData.room_types">
								<div class="entry full-width room-type-details" ng-show="showRoomType(roomType.max_early_checkins)">
									<div class="entry">
										<span class="align-text-center"> {{roomType.name}} </span>
									</div>
									<div class="entry">
										<span class="entry">
											<ad-textbox value="roomType.max_early_checkins" inputtype="number"></ad-textbox>
										</span>
										<span class="entry">
											<a class="icons icon-delete large-icon align-text-center" ng-click="deleteRoomType(roomType.id,roomType.name)"></a>
										</span>
									</div>
								</div>

							</div>
						</div>
					</fieldset>
					<fieldset class="holder full-width">
					<div class="entry">
						<label translate>BLOCK_CODES_TO_EXCLUDE_FROM_EARLY_CHECK_IN</label>
						<div
						multi-select
						input-model="block_codes"
						button-label="group_code"
						item-label="group_code"
						tick-property="ticked"
						max-labels="0"
						default-label="None selected"
						max-height="300px"
						>
					</div>
					</div>

					<div class="entry entry-padding-left" ><label>&nbsp;&nbsp;</label>
						<button translate="" ng-click="clickExcludeBlockCode()"  class="button green" translate="">EXCLUDE_BLOCK_CODES</button>
					</div>

					<div class="entry full-width" ng-show="excludedBlockCodes.length>0">
						<div class='entry' >
								<label> <h4 translate>EXCLUDED_BLOCK_CODES</h4> </label>
						</div>
						<div id='room-type-details' ng-repeat="blockCode in excludedBlockCodes">
							<div class="entry full-width room-type-details" >
								<div class="entry">
									<span class="align-text-center"> {{blockCode.group_code}} </span>
								</div>
								<div class="entry">
									<span class="entry">
										<a class="icons icon-delete large-icon align-text-center" ng-click="deleteBlockCode(blockCode.id)"></a>
									</span>
								</div>
							</div>
						</div>
					</div>

				</fieldset>

					<div class="actions float">
						<button type="button" id="cancel" class="button blank" ng-click="goBackToPreviousState()" translate>
							CANCEL
						</button>
						<button type="button" id="save" class="button green" ng-click="saveClick()" translate>
							SAVE_CHANGES
						</button>
					</div>
				</form>
			</section>
		</section>
	</div>
</section>