	<section id="replacing-div-first" class="content current admin-scrollfix" div-touch-move-stop-propogate style="display: block;" ng-hide="isLoading" ng-click="clearErrorMessage()"><div data-view="ZestCheckOutConfiguration">
		<header class="content-title float">
			<h2 translate>GUEST_CHECKOUT_SETUP</h2>
			<a ui-sref="admin.checkoutEmail" class="action email" translate>SEND_CHECKOUT_EMAIL</a>
			<a ng-click="goBackToPreviousState()" data-type="load-details" class="action back" translate>BACK</a>
		</header
>		<section class="content-scroll">
					<div ng-include="'/assets/partials/common/notification_message.html'"  ></div>
					<form style="overflow-y:auto;" name="edit-social-lobby" method="post" class="form float">
						<fieldset>
							<div class="entry full-width">
							<label translate>
									SEND_CHECKOUT_NOTIFICATON_EMAIL
								</label>
							</div>

						</fieldset>
						<fieldset>

							<div class="entry">
								<div class="select select-col select-med">
									<select ng-options="hour for hour  in hours" ng-model="checkoutData.checkout_email_alert_time_hour ">
										<option  value="HH" translate>HH</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select ng-options="minute for minute  in minutes" ng-model="checkoutData.checkout_email_alert_time_minute">
										<option  value="MM" translate>MM</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
										<option value="AM" selected="" translate>AM</option>
										<option value="PM" translate>PM</option>
									</select>
								</div>
								<label class="label-checkout" translate>
									AND
								</label>
							</div>
							
							<div class="entry">
								<!-- <br> -->
								<div class="select select-col select-med">
									<select ng-options="hour for hour  in getArrayAfterValue(checkoutData.checkout_email_alert_time_hour)" ng-model="checkoutData.alternate_checkout_email_alert_time_hour" ng-disabled = "(checkoutData.checkout_email_alert_time_hour == 'HH' || checkoutData.checkout_email_alert_time_minute == 'MM')">
										<option  value="HH" translate>HH</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select ng-options="minute for minute  in minutes" ng-model="checkoutData.alternate_checkout_email_alert_time_minute" ng-disabled = "(checkoutData.checkout_email_alert_time_hour == 'HH' || checkoutData.checkout_email_alert_time_minute == 'MM')">
										<option  value="MM" translate>MM</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
										<option value="AM" selected="" translate>AM</option>
										<option value="PM" translate>PM</option>
									</select>
								</div>

								<label class="label-checkout" translate>
									ON_WEEKDAYS
								</label>
							</div>




							<div class="entry">
								<br>
								<div class="select select-col select-med">
									<select ng-options="hour for hour  in hours" ng-model="checkoutData.weekends_checkout_email_alert_time_hour">
										<option  value="HH" translate>HH</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select ng-options="minute for minute  in minutes" ng-model="checkoutData.weekends_checkout_email_alert_time_minute">
										<option  value="MM" translate>MM</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
										<option value="AM" selected="" translate>AM</option>
										<option value="PM" translate>PM</option>
									</select>
								</div>
								<label class="label-checkout" translate>
									AND
								</label>
							</div>
							
							<div class="entry">
								<br>
								<div class="select select-col select-med">
									<select ng-options="hour for hour  in getArrayAfterValue(checkoutData.weekends_checkout_email_alert_time_hour)" ng-model="checkoutData.alternate_weekends_checkout_email_alert_time_hour" ng-disabled = "(checkoutData.weekends_checkout_email_alert_time_hour == 'HH' || checkoutData.weekends_checkout_email_alert_time_minute == 'MM')">
										<option  value="HH" translate>HH</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select ng-options="minute for minute  in minutes" ng-model="checkoutData.alternate_weekends_checkout_email_alert_time_minute" ng-disabled = "(checkoutData.weekends_checkout_email_alert_time_hour == 'HH' || checkoutData.weekends_checkout_email_alert_time_minute == 'MM')">
										<option  value="MM" translate>MM</option>
									</select>
								</div>
								<div class="select select-col select-med">
									<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
										<option value="AM" selected="" translate>AM</option>
										<option value="PM" translate>PM</option>
									</select>
								</div>

								<label class="label-checkout" translate>
									ON_SATURDAY_SUNDAY
								</label>
							</div>

						</fieldset>


                        <!-- begin zest alert changes -->


                        <fieldset >
                            <br>
                            <ad-toggle-button is-checked="is_send_zest_checkout_alert_flag" label="{{'SEND_ZEST_CHECKOUT_NOTIFICATION_ALERT' | translate}}" div-class="full-width"></ad-toggle-button>
                            
                            <div ng-show="!checkoutData.is_hourly_hotel">
                            	<div class="entry full-width">
									<label translate>
										SEND_ZEST_CHECKOUT_ALERT_LABEL
									</label>
								</div>
								<div class="entry">								
									<div class="select select-col select-med">
										<select ng-options="hour for hour  in hours" ng-model="checkoutData.zest_checkout_alert_time_hour" >
											<option  value="HH" translate>HH</option>
										</select>
									</div>
									<div class="select select-col select-med">
										<select ng-options="minute for minute  in minutes" ng-model="checkoutData.zest_checkout_alert_time_minute" >
											<option  value="MM" translate>MM</option>
										</select>
									</div>
									<div class="select select-col select-med">
										<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
											<option value="AM" selected="" translate>AM</option>
											<option value="PM" translate>PM</option>
										</select>
									</div>

									<label class="label-checkout" translate>
										ON_WEEKDAYS
									</label>
								</div>	
							
								<div class="entry">								
									<div class="select select-col select-med">
										<select ng-options="hour for hour  in hours" ng-model="checkoutData.weekends_zest_checkout_alert_time_hour" >
											<option  value="HH" translate>HH</option>
										</select>
									</div>
									<div class="select select-col select-med">
										<select ng-options="minute for minute  in minutes" ng-model="checkoutData.weekends_zest_checkout_alert_time_minute" >
											<option  value="MM" translate>MM</option>
										</select>
									</div>
									<div class="select select-col select-med">
										<select name="hotel-checkout-primetime" disabled="disabled" class="styled">
											<option value="AM" selected="" translate>AM</option>
											<option value="PM" translate>PM</option>
										</select>
									</div>

									<label class="label-checkout" translate>
										ON_SATURDAY_SUNDAY
									</label>
								</div>
                            </div> 

                            <div ng-show="checkoutData.is_hourly_hotel">
                            	<div class="entry full-width">
									<label translate>
										SEND_ZEST_HOURLY_CHECKOUT_ALERT_LABEL
									</label>
								</div>

								<div class="entry">								
									<div class="select select-col select-med">
										<select ng-options="hour for hour  in [0,1,2,3,4]" ng-model="checkoutData.zest_hourly_checkout_alert_time_hour" >
											<option  value="HH" translate>HH</option>
										</select>
									</div>
									<div class="select select-col select-med">
										<select ng-disabled="checkoutData.zest_hourly_checkout_alert_time_hour === 4" ng-options="minute for minute  in minutes" ng-model="checkoutData.zest_hourly_checkout_alert_time_minute" >
											<option  value="MM" translate>MM</option>
										</select>
									</div>
									<label class="label-checkout" translate>
										ON_WEEKDAYS
									</label>
								</div>

								<div class="entry">								
									<div class="select select-col select-med">
										<select ng-options="hour for hour  in [0,1,2,3,4]" ng-model="checkoutData.weekends_zest_hourly_checkout_alert_time_hour" >
											<option  value="HH" translate>HH</option>
										</select>
									</div>
									<div class="select select-col select-med">
										<select ng-disabled="checkoutData.weekends_zest_hourly_checkout_alert_time_hour === 4" ng-options="minute for minute  in minutes" ng-model="checkoutData.weekends_zest_hourly_checkout_alert_time_minute" >
											<option  value="MM" translate>MM</option>
										</select>
									</div>
									<label class="label-checkout" translate>
										ON_SATURDAY_SUNDAY
									</label>
								</div>

                            </div>                  
							
						</fieldset>	
						 <!--  -->
		                <fieldset class="holder full-width">
		                    <div class="form-title">
		                        <h3>
		                <span>
		                Exclude
		                </span>
		                </h3>
		                    </div>
		                    <section class="holder full-width group group-grey" ng-class="{'active':openRoomExclusionSettings}">
		                        <div class="form-title has-toggle">
		                            <h3 class="with-count">
		                <!-- add .active if more than 0 -->
		                <span class="count" ng-class="{'active' : checkoutEmailRoomExclusionConfig.noOfItemsSelected > 0}"> {{checkoutEmailRoomExclusionConfig.noOfItemsSelected}} </span>
		                                                CHECKOUT EMAIL ROOM EXCLUSION SETTINGS
		                </h3>
		                            <div class="toggle-arrows" ng-click="toggleRoomExlusionSettings(!openRoomExclusionSettings)">
		                                <img class="toggle-down" src="/assets/cssimg/arrow-down.png">
		                                <img class="toggle-up" src="/assets/cssimg/arrow-up.png">
		                            </div>
		                        </div>
		                        <ad-filter-table filter-config="checkoutEmailRoomExclusionConfig"></ad-filter-table>
		                    </section>
		                </fieldset>
		                <!--  -->

						<fieldset class="holder left">
							<ad-checkbox is-checked="require_cc_for_checkout_email_flag" label="{{'CC_GUARENTEED_LABEL' | translate}}" div-class="full-width"></ad-checkbox>	
							
							<ad-checkbox is-checked="include_cash_reservationsy_flag" label=" {{'CASH_PAYMENT_LABEL' | translate}}" div-class="full-width"></ad-checkbox>
						</fieldset>	
						<fieldset class="holder full-width">
							<div class="entry">
								<label translate>EXCLUDE_FOLLOWING_ROOM_TYPES_FROM_EMAIL_INVITE</label>
								<div     
								multi-select
								input-model="roomTypes"
								button-label="name"
								item-label="name"
								tick-property="ticked"
								max-labels="0"
								default-label="None selected"
								max-height="300px"
								>
							</div>
							</div>
							<div class="entry entry-padding-left"><label>&nbsp;&nbsp;</label>
							<button translate="" ng-click="clickExcludeRoomType()"  class="button green" translate="">EXCLUDE_ROOM_TYPES</button>
							</div>

							<div class="entry full-width" ng-show="excludedRoomTypes.length>0">
							<div class='entry' >
								<label> <h4 translate>EXCLUDED_ROOM_TYPES</h4> </label>
							</div>
							<div id='room-type-details' ng-repeat="roomType in excludedRoomTypes">								
								<div class="entry full-width room-type-details" >
									<div class="entry">
										<span class="align-text-center"> {{roomType.name}} </span>
									</div>
									<div class="entry">
										<span class="entry">
											<a class="icons icon-delete large-icon align-text-center" ng-click="deleteRoomType(roomType.id)"></a>
										</span>
									</div>
								</div>								
							</div>
							</div>
						</fieldset>

						<fieldset class="holder left">							
							<ad-toggle-button is-checked="is_send_checkout_staff_alert_flag" label="{{'WEB_CHEKOUT_ALERT_LABEL' | translate}}"></ad-toggle-button>
							<ad-toggle-button is-checked="enable_offline_checkout" label="{{'WEB_CHEKOUT_OFFLINE_LABEL' | translate}}" is-hide="isStandAlone"></ad-toggle-button>

							<div id="options" class="entry full-width" ng-show="is_send_checkout_staff_alert_flag">
								
								<label class="radio" ng-class="{checked:checkoutData.checkout_staff_alert_option == 'all'}">
									<span class="icon-form icon-radio " ng-class="{checked:checkoutData.checkout_staff_alert_option == 'all'}"></span>
									<input type="radio" ng-model="checkoutData.checkout_staff_alert_option" value="all" class="change-data">
									{{'ALL'| translate}}
									
								</label>

								<label class="radio" ng-class="{checked:checkoutData.checkout_staff_alert_option == 'not_success'}">
									<span class="icon-form icon-radio " ng-class="{checked:checkoutData.checkout_staff_alert_option == 'not_success'}"></span>
									<input type="radio" ng-model="checkoutData.checkout_staff_alert_option" value="not_success" class="change-data">
									{{'CHECKOUT_NOT_SUCESSFULL' | translate}}
									
								</label>
							</div>

							<ad-textarea rows="4" div-class="full-width" text-area-class="full-width" value="checkoutData.emails" label = "{{'EMAIL_ACCOUNTS_LABEL' | translate}}" placeholder = ""></ad-textarea>

							<ad-textarea rows="4" div-class="full-width" text-area-class="full-width" value="checkoutData.staff_emails_for_late_checkouts" label = "{{'EMAIL_ACCOUNTS_LABEL2' | translate}}" placeholder = ""></ad-textarea>

							<ad-textarea rows="4" div-class="full-width" text-area-class="full-width" value="checkoutData.room_verification_instruction" label = "{{'ROOM_VERIFICATION_INSTRUCTIONS' | translate}}" placeholder = "" maxlength="200"></ad-textarea>

						</fieldset>
						<fieldset class="holder right">
							<div class="entry full-width">
								<label>
									WEB CHECK OUT URL
								</label>
								<span class="webcheckout-uri-label">{{checkoutData.base_uri}}</span>
								<input type="text"  ng-model="checkoutData.checkout_static_uri" placeholder="" class="webcheckout-uri-field">
							</div>
						</fieldset>				
						<div class="actions float">
							<button type="button" ng-click="goBackToPreviousState()" class="button blank add-data-inline" translate>CANCEL</button>
							<button type="button" ng-click="saveCheckout()" class="button green" translate>SAVE_CHANGES</button>
						</div>
					</form>
				</div>
			</section>
	</section>
