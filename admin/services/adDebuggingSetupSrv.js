admin.service('adDebuggingSetupSrv', ['$http', '$q', 'ADBaseWebSrv', 'ADBaseWebSrvV2', function($http, $q, ADBaseWebSrv, ADBaseWebSrvV2) {

	this.fetchDevices = function() {
		var deferred = $q.defer();
		var url = '/api/notifications/notification_device_list?application=ROVER';

		ADBaseWebSrvV2.getJSON(url).then(function(data) {
		    deferred.resolve(data);
		}, function(data) {
		    deferred.reject(data);
		});
		return deferred.promise;
	};
	this.saveSetup = function(data) {
		var deferred = $q.defer();
		var url = '/api/notifications/set_loggging_status';

		ADBaseWebSrvV2.postJSON(url, data).then(function(data) {
		    deferred.resolve(data);
		}, function(data) {
		    deferred.reject(data);
		});
		return deferred.promise;
	};

	this.fetchInstalledDevices = function(data) {
		var deferred = $q.defer();

		// var url = "/api/rates.json";
		var url = '/api/notifications/notification_device_list?application=ROVER';

		ADBaseWebSrvV2.getJSON(url, data).then(function(response) {
			// var devicesList = [{"device_uid":"D5467D77-10FD-4193-9FB1-A78DE1998E82","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"rev+zokuzest@stayntouch.com","application":"ROVER","device_version":"11","device_name":"Qburst iPad Pro"},{"device_uid":"4A425B64-AFBF-417B-A0C1-152C9E3B8BFA","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"MC iPad 4"},{"device_uid":"B240A069-2E5F-49F4-96CA-322136DEA298","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"ARIA_CONC_SNT004"},{"device_uid":"BBD9C4FA-7AC6-4AEF-987A-AB3F6A9228D2","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"2017-10-19 16:32:09 UTC","logging_end_time":"2017-10-19 17:32:09 UTC","last_logged_in_user":"tonos+tonos@stayntouch.com","application":"ROVER","device_version":"9","device_name":"QB iPad Mini 01"},{"device_uid":"B4DC23AE-B2E0-47DE-BD3B-A93E77DA7C32","is_logging_enabled":false,"app_version":"1.3.6","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"y@snt.com","application":"ROVER","device_version":"11","device_name":"iPad Small"},{"device_uid":"E251C108-8451-4D57-AB3A-D630CD93C186","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"r1@s.com","application":"ROVER","device_version":"11","device_name":"Zest Station Pro"},{"device_uid":"43362EAA-4198-4F26-B18C-7F3A08FE2C51","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"10","device_name":"Hotel's iPad"},{"device_uid":"CECA05AC-23E1-400C-9049-A9116ADA1AC8","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"halcyon fd ipad 3"},{"device_uid":"78CD1D87-F6B6-4A7F-B526-3E9671F1E95C","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"dilips+dev@stayntouch.com","application":"ROVER","device_version":"10","device_name":"Zest Station Pro"},{"device_uid":"A800CBAC-FE66-43DC-8476-4E1E5D16F7F2","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"8","device_name":"iPad4"},{"device_uid":"2DCBCED6-5D66-4223-82A6-B7E2847E908A","is_logging_enabled":false,"app_version":"1.3.6","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"shineeta+grandhotel@stayntouch.com","application":"ROVER","device_version":"11","device_name":"Lightspeed iPad1"},{"device_uid":"FD4E7888-6DA5-4C7A-8CDF-F9ED55AEF4B0","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"Guest Service Two"},{"device_uid":"495AC30B-CC4C-45B8-A5F5-5AFCE02A4EF3","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"SNT Demo iPad 3"},{"device_uid":"870100CE-5CFE-42AC-A1D6-B6AEAEEF06D6","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"10","device_name":"Halcyon FD iPad 4"},{"device_uid":"3F4DB9A8-0B44-4C39-8667-569EE9843036","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"QB iPad Mini 01"},{"device_uid":"386077870ADF","is_logging_enabled":false,"app_version":"1.4.0.3","device_type":"Win32NT","logging_start_time":"2018-02-06 11:21:50 UTC","logging_end_time":"2018-02-07 05:21:50 UTC","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"QB-CLT-1128"},{"device_uid":"E45CA8FF-E803-4E17-89DB-CC4B6A486BC4","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"r1@s.com","application":"ROVER","device_version":"11","device_name":"Lightspeed iPad1"},{"device_uid":"9B64EDBE-E2C4-43DE-A0E4-12499D609FD9","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"QB iPad Mini 01"},{"device_uid":"8D7CDB8E-870D-4743-AECA-3BA769AF9DDB","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"r1@s.com","application":"ROVER","device_version":"11","device_name":"Zest Station Pro"},{"device_uid":"9C3092EB-076B-49DD-95E7-E1976883E124","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"jdeandickâ€™s iPad"},{"device_uid":"65067A15-C77F-4698-ABE8-EF12A2280D82","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"10","device_name":"Kim's iPad"},{"device_uid":"305979B7-5C29-414B-9E45-0CFE980DE49C","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"zest-user@s.com","application":"ROVER","device_version":"11","device_name":"iPad SNT"},{"device_uid":"60716101-6805-4BC1-B47F-825D10BD98CF","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"y@snt.com","application":"ROVER","device_version":"10","device_name":"Planet iPad"},{"device_uid":"EE41D6ED-297E-403E-AFC5-956A073853EB","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"zest-user@s.com","application":"ROVER","device_version":"10","device_name":"Planet iPad"},{"device_uid":"141877CDE96E","is_logging_enabled":false,"app_version":"1.4.0.1","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"DESKTOP-GHOMT0B"},{"device_uid":"DC4A3E4DD604","is_logging_enabled":false,"app_version":"1.4.0.1","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"KS3-HP"},{"device_uid":"705A0F19C01F","is_logging_enabled":false,"app_version":"1.4.0.2","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"DESKTOP-JAISDJG"},{"device_uid":"6445B7EC-4869-4D6E-8C63-C97C9B5258EF","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"r1@s.com","application":"ROVER","device_version":"11","device_name":"iPad SNT"},{"device_uid":"4C9F875A-43F4-4824-B0D6-1C4024D03DB9","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"038E49AD-6059-438F-BEB7-70ACED8DD08F","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"10","device_name":"iPad_Pub_22_8_17_2_4_TK"},{"device_uid":"3DD96290-3F6B-4903-A2E4-0363975E0DFA","is_logging_enabled":false,"app_version":"1.2.4","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"Eden's iPad"},{"device_uid":"C67E7A35-67AD-4321-850F-53D3509EB321","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"stjepan@perceptiveinteractive.com","application":"ROVER","device_version":"10","device_name":"Zeleni"},{"device_uid":"44D1E4F6-6C7F-4AD9-815D-B5B812C036E6","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"FD78863A-E509-48E0-97F5-867ED85CF7DB","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_3.3.17_2.3_CB"},{"device_uid":"80CCF2B0-0A90-4868-9913-E291D661EAC4","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"js@test.com","application":"ROVER","device_version":"9","device_name":"iPad_16 GB_11.5.-2.2.1_C"},{"device_uid":"E29FE0B5-BB7C-49BA-84A4-AF755BD293A5","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"JS@test.com","application":"ROVER","device_version":"10","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"1AE469F3-2663-4F3A-8E0D-4579E94B8C83","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"iPad_Air_2_11_Pub_18_01_18_2_6_TK"},{"device_uid":"001B404E-D091-4A49-9915-B1138B261A90","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"10","device_name":"iPad_Air_10_pub_02_11_17_2_5_TK"},{"device_uid":"832C149C-8F6C-4351-ADF3-4369A0F214E4","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"nidhin+z@stayntouch.com","application":"ROVER","device_version":"10","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"AA4C0F00-5A40-4142-A54D-16D68BDF93F7","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"nidhin+z@stayntouch.com","application":"ROVER","device_version":"11","device_name":"iPad_Pro_12_9_11_Pub_18_01_18_2_6_TK"},{"device_uid":"96D7BA85-7DAE-40C9-9F86-BA6EBE6A61B8","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"nidhin+z@stayntouch.com","application":"ROVER","device_version":"10","device_name":"iPadPro12_9_Pub_3.3.17_2.3_CB"},{"device_uid":"44F4C2AE-C005-45E2-A5A0-BBF1EACFCD10","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"11","device_name":"ipadpro12-1102-real"},{"device_uid":"2D279FD7-920D-4660-A4F2-07230E6AE863","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"18D45CC9-3B95-42D8-A28C-60923410A3CA","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"D02F2F37-30FA-438B-810E-EA4F5C377FEC","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"nidhin+z@stayntouch.com","application":"ROVER","device_version":"11","device_name":"iPad_Pro_12_9_11_Pub_18_01_18_2_6_TK"},{"device_uid":"8CC615A1-106D-4194-A638-6AEEEC3B71C5","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"B0A31B71-4A65-451C-ADC1-E55F080A6BC5","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"AB165AF9-E490-4AE7-A8F2-5EA16C464B9C","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"F4816F6B-3CA9-4945-8D08-38DAAD457179","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"790CC75B-B3E0-4D8D-AA2F-DC4F7C5B07DD","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"82F1F150-0C23-46B4-947D-7BE386E8311B","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"7600B330-0434-4095-989A-905F04CEC6FA","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"0DF2C496-E5BE-4BCA-93AE-C9501974E4D7","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"DESCRIPTOR_Pub_29March17_XCUI_2.3_CB"},{"device_uid":"5FAAC8C6-0B35-4D79-AD81-9C7038CC9458","is_logging_enabled":false,"app_version":"1.5.0","device_type":"iPad","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"9","device_name":"QB iPad Mini 01"},{"device_uid":"204747F6E579","is_logging_enabled":false,"app_version":"1.4.0.2","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"SEANXPS"},{"device_uid":"54EE7582037E","is_logging_enabled":false,"app_version":"1.4.0.2","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"PRIYA-PC"},{"device_uid":"90B11C7AD1ED","is_logging_enabled":false,"app_version":"1.4.0.2","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"ELCOSMICO-PC1"},{"device_uid":"F0D5BF9AA9AB","is_logging_enabled":false,"app_version":"1.4.0.2","device_type":"Win32NT","logging_start_time":"","logging_end_time":"","last_logged_in_user":"","application":"ROVER","device_version":"0","device_name":"FRONTDESK01"}];
			// _.each(response.results, function(rate) {
			// 	_.each(devicesList, function(device) {
			// 		rate = _.extend(rate, device);
			// 	});
			// });
			var data = {'results':  response , 'total_count': response.length};
			deferred.resolve(data);
		}, function(data) {
			deferred.reject(data);
		});
		return deferred.promise;
	};

	var appTypes = [{
		"id": 1,
		"name": "iPad App",
		"type": "iPad",
		"appUpdateTime": "00:30:00"

	}, {
		"id": 2,
		"name": "Rover Service",
		"type": "Win32NT",
		"appUpdateTime": "01:30:00"

	}, {
		"id": 3,
		"name": "MAC Service",
		"appUpdateTime": "01:30:00"

	}, {
		"id": 4,
		"name": "Zest station hanlder",
		"appUpdateTime": "03:30:00"

	}, {
		"id": 5,
		"name": "RIC",
		"appUpdateTime": "05:45:00"
	}];

	this.appTypes = _.each(appTypes, function(app) {
		app.appUpdateTime = app.appUpdateTime.slice(0, -3);
	});
	
	this.gethoursList = function () {
		var range = _.range(1, 25);
		var hoursList = [];
		_.each(range, function(item) {
			hoursList.push({
				name: item,
				value: item
			});
		});
		return hoursList;
	};
}]);