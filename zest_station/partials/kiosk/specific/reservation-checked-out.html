<!-- print option -->
<section id="main" role="main" class="centered" ng-show="mode === 'print-mode'">
    <div id="content">
        <h1>{{'END_THANKS' |translate}}</h1>
        <!--h3 ng-show="email.length>0">{{'EMAILED_BILL' |translate}}
        </h3-->
        <nav id="options" role="nav">
            <ul role="menu">
                <li>
                    <button type="button" class="button option" touch-press='printBill()'>
                        <!--div ng-include="'/assets/zest_station/css/icons/print.svg'"></div-->
                        <div ng-include="icons.url.print"></div>
                        
                    </button>
                    {{'PRINT_BILL' |translate}}
                </li>
                <li class="break">
                     <span translate>OR_TEXT</span>
                </li>
                <li>
                    <button type="button" class="button option" touch-press='clickedNoThanks()'>
                        <!--div ng-include="'/assets/zest_station/css/icons/no-print.svg'"></div-->
                        <div ng-include="icons.url.noprint"></div>
                    </button>
                    {{'NO_THX' |translate}}
                </li>
            </ul>
        </nav>
    </div>
</section>

<!-- Email entry -->
<section id="main" role="main" class="centered" ng-show="mode === 'email-mode'">
    <!-- Type Email -->
     <div id="content" ng-show="!emailError">
        <h1>{{'TYPE_EMAIL' |translate}}</h1>
        <form method="post" class="form">
            <div class="entry input">
                <input class="start-focused" 
                    id="email_text"
                    ng-focus="showOnScreenKeyboard('email_text')" ng-click="showOnScreenKeyboard('email_text')"
                       type="text"
                       ng-keydown="resetTime()" 
                       ng-model="email" 
                       placeholder=""
                       enter-press="saveEmail()" value="" touch-press />
            </div>
            <div class="entry action">
                <button type="button" class="button" touch-press='saveEmail()' ng-class="{'overlay': email.length < 1}">{{'NEXT_BTN' |translate}}</button>
            </div>
        </form>
        <button id="skipEmailInputBtn" ng-show='mode === "email-mode"' type='button' class='button' touch-press='skipEmailEntryAfterSwipe(); resetTime()'>{{'SKIP_BTN' |translate}}</button>
    </div>
    <!-- Email invalid -->
    <div id="content" ng-show="emailError">
        <h1>{{'EMAIL_ERR_HEADER' |translate}}</h1>
        <h2>{{'EMAIL_ERR_HEADER_SUB' |translate}}</h2>
        <nav id="options" role="nav">
            <ul role="menu">
                <li>
                    <button type="button" class="button option" touch-press='reTypeEmail()'>
                         <!--div ng-include="'/assets/zest_station/css/icons/keyboard.svg'"></div-->
                         <div ng-include="icons.url.keyboard"></div>
                    </button>
                    {{'RE_TYPE' |translate}}
                    <span>{{email}}</span>
                </li>
            </ul>
        </nav>
        <!--div id="actions" class="align-right">
            <button type="button" class="button transparent" touch-press='printBill()'>Print Bill</button>
        </div-->
    </div>
</section>

<!-- Final view-->
<section id="main" role="main" class="centered" ng-show="mode === 'final-mode'">
    <div id="content">
        <h1>{{'END_THANKS' |translate}}</h1>
        <h3 ng-show="emailOpted && !emailSkipped && !emailError">{{'EMAIL_BILL_SENT_MSG' |translate}}</h3>
        <h3 ng-show="emailOpted && !emailSkipped && emailError">{{'EMAIL_BILL_NOT_SENT_MSG' |translate}}</h3>
        <h3 ng-show="printOpted">{{'BILL_PRINTED_BELOW' |translate}}</h3>
        <button type="button" class="button" click-touch='clickedOnCloseButton()'>{{'DONE_BTN' |translate}}</button>
    </div>
</section>
<!-- hidden view for print action -->
<!-- <div class="printable-bill-view">
    <p class="heading-text">Invoice</p>
    <div>
        <p class="bill-heading">{{zestStationData.reservationData.first_name}}&nbsp;{{zestStationData.reservationData.last_name}}</p>
        <p class="bill-heading nights-text">
            <span ng-show="!zestStationData.hotel_settings.is_hourly_rate_on">{{zestStationData.reservationData.days_of_stay}} nights</span>
            <span ng-show="zestStationData.hotel_settings.is_hourly_rate_on">{{zestStationData.reservationData.hours_of_stay}} hours</span>
        </p>
    </div>
    <table class="bill-table" >
        <th>DATE</th>
        <th>DESCRIPTION</th>
        <th></th>
        <th>AMOUNT</th>
        <tr ng-repeat="bill in zestStationData.billData">
            <td>{{bill.date}}</td>
            <td>{{bill.description}}</td>
            <td></td>
            <td class="amount">{{zestStationData.currency}}{{bill.amount}}</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td>Subtotal:</td>
            <td>{{zestStationData.currency}}{{zestStationData.net_amount}}</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td>Deposit:</td>
            <td>{{zestStationData.currency}}{{zestStationData.deposit}}</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td>Balance:</td>
            <td>{{zestStationData.currency}}{{zestStationData.balance}}</td>
        </tr>
    </table>
</div> -->


<section id="guest-bill" class="page-print">

    <div class="invoice-logo">
        <h1>{{'INVOICE_HEADER' |translate}}</h1>
        <!-- the way logo handled in zest station need to be changed. I can't do much at this time other
        than a check as follows -->
         <svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="logo" id="zoku-print-logo" x="0px" y="0px" width="937.2px" height="146.3px" viewBox="0 0 937.2 146.3" enable-background="new 0 0 937.2 146.3" xml:space="preserve" ng-show="zestStationData.theme === 'zoku'">
            <path fill="#42929b" d="M336.3 145.8c-39.5 0-71.7-32.2-71.7-71.7 0-39.5 32.2-71.7 71.7-71.7 39.5 0 71.7 32.2 71.7 71.7C407.9 113.6 375.8 145.8 336.3 145.8M336.3 13.4c-33.4 0-60.7 27.2-60.7 60.7 0 33.4 27.2 60.7 60.7 60.7 33.4 0 60.7-27.2 60.7-60.7C396.9 40.6 369.7 13.4 336.3 13.4"></path>
            <path fill="#42929b" d="M534.5 146.3c-3 0-5.5-2.5-5.5-5.5V8c0-3 2.5-5.5 5.5-5.5S540 5 540 8v132.8C540 143.9 537.5 146.3 534.5 146.3"></path>
            <path fill="#42929b" d="M666.1 145.1c-1.4 0-2.8-0.5-3.9-1.6l-65.9-65.4c-1-1-1.6-2.4-1.6-3.9 0-1.5 0.6-2.9 1.6-3.9l66.6-66.2c2.2-2.1 5.7-2.1 7.8 0 2.1 2.2 2.1 5.7 0 7.8l-62.7 62.3 62 61.5c2.2 2.1 2.2 5.6 0 7.8C668.9 144.5 667.5 145.1 666.1 145.1"></path>
            <path fill="#42929b" d="M865.5 146.1c-27.6 0-44.4-13.1-53.7-24.1 -11.1-13.2-17.5-30.5-17.5-47.5v-66c0-3 2.5-5.5 5.5-5.5 3 0 5.5 2.5 5.5 5.5v66c0 14.3 5.6 29.4 14.9 40.4 7.8 9.2 21.9 20.2 45.2 20.2 23.1 0 37.4-11 45.3-20.3 9.6-11.2 15.4-26.3 15.4-40.4V8.3c0-3 2.5-5.5 5.5-5.5s5.5 2.5 5.5 5.5v66.1c0 16.7-6.7 34.5-18 47.6C909.7 133 892.7 146.1 865.5 146.1"></path>
            <path fill="#42929b" d="M108 13.5H5.5C2.5 13.5 0 11 0 8c0-3 2.5-5.5 5.5-5.5H108c3 0 5.5 2.5 5.5 5.5C113.5 11 111.1 13.5 108 13.5"></path>
            <path fill="#42929b" d="M137.5 145.6H5.5c-2.2 0-4.3-1.4-5.1-3.4 -0.8-2.1-0.4-4.5 1.2-6L112 27.6c2.2-2.1 5.7-2.1 7.8 0.1 2.1 2.2 2.1 5.7-0.1 7.8L19 134.5h118.5c3 0 5.5 2.5 5.5 5.5C143 143.1 140.5 145.6 137.5 145.6"></path>
            <path fill="#42929b" d="M144.3 7.9c0 3.6-2.9 6.5-6.5 6.5 -3.6 0-6.5-2.9-6.5-6.5 0-3.6 2.9-6.5 6.5-6.5C141.3 1.4 144.3 4.3 144.3 7.9"></path>
            <path fill="#42929b" d="M137.8 15.8c-4.3 0-7.9-3.5-7.9-7.9 0-4.3 3.5-7.9 7.9-7.9s7.9 3.5 7.9 7.9C145.6 12.2 142.1 15.8 137.8 15.8M137.8 2.8c-2.8 0-5.1 2.3-5.1 5.1 0 2.8 2.3 5.1 5.1 5.1s5.1-2.3 5.1-5.1C142.9 5.1 140.6 2.8 137.8 2.8"></path>
        </svg>
        <div class="logo" ng-show="zestStationData.theme !== 'zoku'">
                <div ng-include="icons.url.logo"></div>
        </div>
    </div>

    <div class="guest-info table">
        <div class="row">
            <div class="cell">
                <strong>{{'INVOICE_FULLNAME' |translate}}</strong>
                <span>{{printData.guest_details.first_name}}&nbsp;{{printData.guest_details.last_name}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_ARRIVAL' |translate}}</strong>
                <span>{{printData.arrival_date | date:dateFormat}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_DEPARTURE' |translate}}</strong>
                <span>{{printData.departure_date | date:dateFormat}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_NO' |translate}}</strong>
                <span>{{printData.invoice_number}}</span>
            </div>
        </div>
        <div class="row">
            <div class="cell">
                <strong>{{'INVOICE_CITY' |translate}}</strong>
                <span>{{printData.guest_details.city}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_STATE' |translate}}</strong>
                <span>{{printData.guest_details.state}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_PC' |translate}}</strong>
                <span>{{printData.guest_details.postal_code}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_COUNTRY' |translate}}</strong>
                <span>{{printData.guest_details.country}}</span>
            </div>
        </div>
        <div class="row">
            <div class="cell">
                <strong>{{'INVOICE_COUNF' |translate}}</strong>
                <span>{{printData.confirmation_number}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_ROOM' |translate}}</strong>
                <span>{{printData.room_number}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_TAX' |translate}}</strong>
                <span>{{printData.tax_number}}</span>
            </div>
            <div class="cell">
                <strong>{{'INVOICE_REF' |translate}}</strong>
                <span>{{printData.reference_number}}</span>
            </div>
        </div>
    </div>

    <div class="invoice-header"> <!-- Don't ouput if header is not defined -->
        {{printData.custom_text_header}}
    </div>

    <div class="invoice-body">
        <p class="date">
            <strong>{{'INVOICE_DATE' |translate}}</strong>
            {{printData.invoice_date | date:dateFormat}}
        </p>
        
        <div class="invoice-details table">
            <div class="caption">
                {{printData.hotel_name}}
                <span>{{printData.street}}&nbsp;&#9830;&nbsp;{{printData.city}},&nbsp;{{printData.state}}&nbsp; {{printData.zipcode}}&nbsp;&#9830;&nbsp;{{printData.country}}
               <br>
               {{ printData.phone }}&nbsp;&#9830;&nbsp;{{ printData.email }}</span>
            </div>

            <!-- Headings -->
            <div class="row">
                <div class="cell">
                    <strong>{{'INVOICE_DATE_OF' |translate}}</strong>
                </div>
                <div class="cell">
                    <strong>{{'INVOICE_CHARGE_CODE' |translate}}</strong>
                </div>
                <div class="cell">
                    <strong>{{'INVOICE_CHARGE_DESC' |translate}}</strong>
                </div>
                <div class="cell align-right">
                    <strong>{{'INVOICE_CHARGE_AMT' |translate}}</strong>
                </div>
                <div class="cell align-right">
                    <strong>{{'INVOICE_CREDIT_AMT' |translate}}</strong>
                </div>
            </div>
            <!-- Charges -->
            <div class="row" ng-repeat="item in printData.charge_details_list">
                <div class="cell">{{item.date | date:dateFormat}}</div>
                <div class="cell">{{item.charge_code}}</div>
                <div class="cell description">
                    <span>{{item.description}}</span>
                    <span class="reference"ng-show="item.reference_text != ''">{{item.reference_text}}</span>
                </div>
                <div class="cell align-right">{{zestStationData.currency}}{{item.amount | number: precisonTwo}}</div>
                <div class="cell align-right"></div>
            </div>
            <div class="row" ng-repeat="item in printData.credit_details_list">
                <div class="cell">{{item.date | date:dateFormat}}</div>
                <div class="cell">{{item.charge_code}}</div>
                <div class="cell description">
                    <span>{{item.description}}</span>
                    <span class="reference"ng-show="item.reference_text != ''">{{item.reference_text}}</span>
                </div>
                <div class="cell align-right"></div>
                <div class="cell align-right">{{zestStationData.currency}}{{item.amount | number: 2}}</div>
            </div>
        </div>

        <!-- Totals -->
        <div class="invoice-totals table">
            <div class="row">
                <div class="cell align-right"><strong>{{'INVOICE_TOTAL' |translate}}</strong></div>
                <div class="cell align-right"><strong>{{zestStationData.currency}}{{printData.total_fees}}</strong></div>
            </div>
            <div class="row">
                <div class="cell align-right"><strong>{{'INVOICE_TOTAL_CR' |translate}}</strong></div>
                <div class="cell align-right"><strong>{{zestStationData.currency}}{{printData.credits | number: precisonTwo}}</strong></div>
            </div>
            <div class="row">
                <div class="cell align-right"><strong>{{'INVOICE_TOTAL_BAL' |translate}}</strong></div>
                <div class="cell align-right"><strong>{{zestStationData.currency}}{{printData.balance}}</strong></div>
            </div>
            <div class="row">
                <div class="cell align-right">{{'INVOICE_NET' |translate}}</div>
                <div class="cell align-right"><strong>{{zestStationData.currency}}{{printData.net_amount}}</strong></div>
            </div>
            <div class="row" ng-repeat="item in printData.tax_details">
                <div class="cell align-right">{{item.description}}</div>
                <div class="cell align-right"><strong>{{zestStationData.currency}}{{item.amount | number: 2}}</strong></div>
            </div>
        </div>

    </div>

    <div class="invoice-footer"> <!-- Don't ouput if footer is not defined -->
        {{printData.custom_text_footer}}
    </div>

</section>

