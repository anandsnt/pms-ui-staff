<script>
    var url = document.location,
      inDevEnvironment = false,
      inLocalEnv = false,
      analyticTrackingID;

    if (url.hostname) { // if btn === true, then the user is clicking continue to bypass cc screen in dev environment
      if (typeof url.hostname === typeof 'str') {
        if (url.hostname.indexOf('pms-dev') !== -1 ||
          url.hostname.indexOf('pms-release') !== -1 ||
          url.hostname.indexOf('192.168.') !== -1 ||
          url.hostname.indexOf('localhost') !== -1) {

          inDevEnvironment = true, inLocalEnv = false;
            if (url.hostname.indexOf('localhost') !== -1 || url.hostname.indexOf('192.168.') !== -1) {
                // dont track in local environment unless for dev testing
                // if this is true, then it should be using the dev-environment tracking id
                inLocalEnv = true;
            }
        }
      }
    }
    if (inDevEnvironment) {
        // dev/rel/local tracking id
        analyticTrackingID = 'UA-96932423-2';
    } else {
        // production tracking id
        analyticTrackingID = 'UA-96932423-1';
    }

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', analyticTrackingID, 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');

    var trackAnalyticEvent = function(event_name, event_type) {
        if (!inLocalEnv) {
            ga('send', 'event', event_name, event_type, 'station');
            // ga('send', 'event', 'category', 'action', 'opt_label');
        }
    }
    // end of analytic code
</script>

<div ng-show="hasLoader" id="loading">
    <div id="loading-spinner"></div>
</div>

<div class='oos_reason' ng-show='zestStationData.workstationStatus === "out-of-order" && zestStationData.timeDebugger !== "true" && zestStationData.theme === "yotel"'>
    {{zestStationData.workstationOooReason}}
    <span ng-show='zestStationData.workstationOooReason==="" && zestStationData.sessionOosReason.length>0'>{{zestStationData.lastOOSReason}}</span>
</div>

<div ng-include="'/assets/partials_v2/zsDiagnostics.html'"></div>


<div class='jumper' ng-show='showJumpList' ng-class="{'minimized':zestStationData.jumperMinimized}">
    <div ng-include="'/assets/partials_v2/zsJumpList.html'"></div>
</div>


<div ng-include="'/assets/partials_v2/zsTabletHeader.html'"></div>


<div class="popup iframe-popup open" ng-show="zestStationData.showTemplateList">
<i class="close-popup" touch-press='zestStationData.showTemplateList = false' ></i>
    <div class="popup-content iframe-content">
        <div class='template-switch-container'>
            <div ng-repeat="(key, value) in themeTemplateList" class='template-switch-box' touch-press="selectThemeFromTemplateList(value.name)" ng-style="{'background-image':'url(/assets/zest_station/css/icons/default/previews/{{value.name}}.png)'}">
                <span class='theme-switch-name'>
                    {{value.name}}
                </span>
            </div>
            <div ng-show='softResetCount==0' class='template-switch-box' touch-press="selectThemeFromTemplateList('sonic')" ng-style="{'background-image':'url(/assets/zest_station/css/icons/default/previews/sonic.png)'}">
                <span class='theme-switch-name'>
                    Sonic Switcher
                </span>
            </div>
        </div>
    </div>
</div>
<!-- Popup -->
<div class="popup" ng-class="{'open':zestStationData.timeOut && !showLanguagePopup}">
    <!-- Remove class "open" to hide popup content -->
    <div class="popup-content">
        <h2 class="nocaps">
            <text data-ng-bind-html="getTagValue('IDLE_TIMEOUT_MSG')" editable-text="IDLE_TIMEOUT_MSG"></text>
        </h2>
        <button type="button" class="button idle-timeout-btn" click-touch='resetTime();'>
            <text data-ng-bind-html="getTagValue('IDLE_TIMEOUT_YES')" editable-text="IDLE_TIMEOUT_YES"></text>
        </button>
    </div>
</div>

<div id="popup-overlay" ng-class="{'open':zestStationData.timeOut}"></div>
<!-- Remove class "open" to hide popup overlay -->
<ui-view></ui-view>
<div ng-include="'/assets/partials_v2/zsTabletFooter.html'"></div>