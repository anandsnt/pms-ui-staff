<script>
    var url = document.location,
      inDevEnvironment = false,
      inLocalEnv = false,
      analyticTrackingID;

    if (url.hostname) { // if btn === true, then the user is clicking continue to bypass cc screen in dev environment
      if (typeof url.hostname === typeof 'str') {
        if (url.hostname.indexOf('pms-dev') !== -1 ||
          url.hostname.indexOf('pms-release') !== -1 ||
          url.hostname.indexOf('192.168.') !== -1 ||
          url.hostname.indexOf('localhost') !== -1) {

          inDevEnvironment = true, inLocalEnv = false;
            if (url.hostname.indexOf('localhost') !== -1) {
                // dont track in local environment
                inLocalEnv = true;
            }
        }
      }
    }
    if (inDevEnvironment) {
        // dev/rel/local tracking id
        analyticTrackingID = 'UA-96932423-2';
    } else {
        // production tracking id
        analyticTrackingID = 'UA-96932423-1';
    }
    
    // <!-- // actual analytic code \\ -->
    var _gaq = _gaq || [];
    // registeres the tracking ID as Active for this page, in prep for async / event calls
    _gaq.push(['_setAccount', analyticTrackingID]);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https://ssl') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();

    var trackAnalyticEvent = function(event_name, event_type) {
        if (!inLocalEnv) {
            _gaq.push(['_trackEvent', event_name, event_type]);
        }
    }
    

    // end of analytic code
</script>

<div ng-show="hasLoader" id="loading">
    <div id="loading-spinner"></div>
</div>

<div class='oos_reason' ng-show='zestStationData.workstationStatus === "out-of-order" && zestStationData.timeDebugger !== "true" && zestStationData.theme === "yotel"'>
    {{zestStationData.workstationOooReason}}
</div>

<div ng-include="'/assets/partials_v2/zsDiagnostics.html'"></div>


<div class='jumper' ng-show='showJumpList' ng-class="{'minimized':zestStationData.jumperMinimized}">
    <div ng-include="'/assets/partials_v2/zsJumpList.html'"></div>
</div>


<div ng-include="'/assets/partials_v2/zsTabletHeader.html'"></div>
<!--PopUp For External webPage-->
<div class="popup iframe-popup open" ng-if="showExternalWebPage">
    <div class="popup-content iframe-content">
        <i class="close-popup" touch-press="closeExternalWebPage()"></i>
        <iframe click-touch="showKeyboardOnInput()" id="booking_iframe" src="{{zestStationData.home_screen.booking_pop_up.booking_engine_url| trustAsResourceUrl}}" seamless sandbox="allow-same-origin allow-scripts allow-forms allow-pointer-lock"></iframe>
    </div>
</div>


<div class="popup iframe-popup open" ng-show="zestStationData.showTemplateList">
    <div class="popup-content iframe-content">
        <i class="close-popup" touch-press='zestStationData.showTemplateList = false' ></i>
        <div class='template-switch-container'>
            <div ng-repeat="(key, value) in themeTemplateList" class='template-switch-box' touch-press="selectThemeFromTemplateList(value.name)" ng-style="{'background-image':'url(/assets/zest_station/css/icons/default/previews/{{value.name}}.png)'}">
                <span class='theme-switch-name'>
                    {{value.name}}
                </span>
            </div>
        </div>
    </div>
</div>
<!-- Popup -->
<div class="popup" ng-class="{'open':zestStationData.timeOut && !showLanguagePopup}">
    <!-- Remove class "open" to hide popup content -->
    <div class="popup-content">
        <h2 class="nocaps">
            <text editable-text="IDLE_TIMEOUT_MSG"> {{'IDLE_TIMEOUT_MSG' |translate}}</text>
        </h2>
        <button type="button" class="button idle-timeout-btn" click-touch='resetTime();'>
            <text editable-text="IDLE_TIMEOUT_YES"> {{'IDLE_TIMEOUT_YES' |translate}}</text>
        </button>
    </div>
</div>

<div id="popup-overlay" ng-class="{'open':zestStationData.timeOut}"></div>
<!-- Remove class "open" to hide popup overlay -->
<div ng-controller="zsThemeActionsCtrl">
    <ui-view></ui-view>
</div>
<div ng-include="'/assets/partials_v2/zsTabletFooter.html'"></div>