<!-- Content -->
<section id="main" class="centered" role="main" click-touch='resetTime()'>
    
    
    <div id="content" ng-show="isReservationDetailsFetched">
        <h1>
            <text editable-text="RES_DETAIL_HEADER"> {{'RES_DETAIL_HEADER' |translate}}</text>
        </h1>
        <div id="flex-holder">
            <!-- Calculate {maxheight} with this formula: window.height - combined heights of <h1>, <h2> and <h3> elements + 8
                - if some <h> elements are missing just exclude them or use 0. 
                - 8 is added to make sure bottom rounded corner is set off screen
            -->
            <div id="textual" class="reservation-details pull-left scrollable fill-height" ng-iscroll="res-details" ng-iscroll-delay="100" ng-init="setScroll()"> <!-- Add ng-scroll here style="max-height:{maxheight}px;" -->
                <div class="wrapper">
                    <div id="guests">
                        <p class="px-space">
                            <strong>{{selectedReservation.guest_details[0].last_name}}, {{selectedReservation.guest_details[0].first_name}} </strong>                          
                            <span>{{selectedReservation.guest_details.length}} 
                                <text editable-text="RESIDENTS"> {{'RESIDENTS' |translate}}</text>
                            </span>
                            {{selectedReservation.reservation_details.room_type_description}}
                        </p>
                        <p ng-hide="{{selectedReservation.guest_details.length == 1}}">
                            <text editable-text="ADDTL_RESIDENTS"> {{'ADDTL_RESIDENTS' |translate}}</text>
                             ({{selectedReservation.guest_details.length-1}})</p>
                        <button ng-if='zestStationData.kiosk_add_remove_guests' type="button" class="button" touch-press="addRemove()" >
                            <text editable-text="ADD_REMOVE_GUESTS"> {{'ADD_REMOVE_GUESTS' |translate}}</text>
                        </button>
                    </div>
                    <ul id="rate" class="reservation-details">
                        <li >
                            {{zestStationData.isHourlyRateOn ? 'HOURS' :'DAY_NIGHTS'|translate}}<span>{{zestStationData.isHourlyRateOn ? selectedReservation.reservation_details.no_of_hours :
                            selectedReservation.reservation_details.total_nights}}</span>
                        </li>
                        <li ng-hide="isRateSuppressed()">
                            {{zestStationData.isHourlyRateOn ? 'HOURLY_RATE' : 'AVG_DAILY' |translate}}<span>{{zestStationData.currencySymbol}}{{selectedReservation.reservation_details.avg_daily_rate | number :2}}</span>
                        </li>
                        <li ng-hide="isRateSuppressed()" ng-repeat="addon in selectedReservation.addons">
                            {{addon.name}} ({{addon.addon_count}})
                            <span ng-show='{{!addon.is_inclusive}}'>{{zestStationData.currencySymbol}}{{addon.amount | number :2}}</span>
                            <span ng-show='{{addon.is_inclusive}}'>
                                <text editable-text="INCLUDED"> {{'INCLUDED' |translate}}</text>
                            </span>
                        </li>
                        
                        <li class="break"></li>
                        
                        <li ng-hide="isRateSuppressed()" class="sub">
                            <text editable-text="RES_TAX_FEES"> {{'RES_TAX_FEES' |translate}}</text>
                        <span>{{zestStationData.currencySymbol}}{{selectedReservation.reservation_details.deposit_attributes.fees | number :2}}</span></li>
                        <li ng-hide="isRateSuppressed()" class="sub">
                            <text editable-text="RES_SUB"> {{'RES_SUB' |translate}}</text>
                        <span>{{zestStationData.currencySymbol}}{{selectedReservation.reservation_details.deposit_attributes.sub_total | number :2}}</span></li>
                        <li ng-hide="isRateSuppressed()" class="sub">
                            <text editable-text="RES_DEPOSITS"> {{'RES_DEPOSITS' |translate}}</text>
                        <span>{{zestStationData.currencySymbol}}{{selectedReservation.reservation_details.deposit_attributes.deposit_paid | number :2}}</span></li>
                        <li ng-if="isRateSuppressed()" class="total">
                            <text editable-text="RES_BAL_DUE"> {{'RES_BAL_DUE' |translate}}</text>
                        <span>{{zestStationData.currencySymbol}}{{selectedReservation.reservation_details.balance | number :2}}</span></li>
                        <li ng-if="!isRateSuppressed()" class="total">
                            <text editable-text="RES_BAL_DUE"> {{'RES_BAL_DUE' |translate}}</text>
                        <span>{{zestStationData.currencySymbol}}{{selectedReservation.reservation_details.deposit_attributes.outstanding_stay_total | number :2}}</span></li>
                    </ul>
                </div>
            </div>
            <div id="actions" class="pull-right">
                <button type="button" class="button" touch-press="onNextFromDetails()">
                    <text editable-text="RES_NEXT"> {{'RES_NEXT' |translate}}</text>
                </button>
                <p>
                    <strong>
                        <text editable-text="RES_Q"> {{'RES_Q' |translate}}</text>
                    </strong>
                    <text editable-text="RES_Q_SUB"> {{'RES_Q_SUB' |translate}}</text>
                </p>
            </div>
        </div>
    </div>
    
    
    
<span ng-include="'/assets/partials_v2/zsTabletFooter.html'" ></span>
</section>


<!-- neeed to change this to requires html -->
<div ng-include="'/assets/partials_v2/zsOwsMsgListing.html'" ng-controller="zsOwsMsgListingCtrl" ng-if="zestStationData.is_kiosk_ows_messages_active && !zestStationData.is_standalone"></div>

<div class="page-print">
    <section id="registration-card" class="page-print">
        <div class="logo centered-logo">
            <div ng-include="icons.url.logo"></div>
        </div>
        <div class="content ows-content">
            <span class="reg_text">{{currentOwsMessage}}</span>
            <br><br>
            <!-- to add some space in bottom of the page. else the page will be cut once the message is over -->
            <span class="ows-footer">&nbsp;.</span>
        </div>
    </section>
</div>
