<section id="main" role="main">
    <div id="content">
        <h1 data-ng-bind-html="getTagValue('ADD_LOYALTY_PRGM')" editable-text="ADD_LOYALTY_PRGM">
        </h1>
        <nav id="options" role="nav">
            <ul role="menu">
                <li ng-show="existingLoyalty.id">
                    <button type="button" class="button option" touch-press='skipLoyalties()'>
                        <ng-include src="icons.url.loyalty"></ng-include>
                    </button>
                    <span data-ng-bind-html="getTagValue('PROCEED_WITH_EXISTING_LOYALTY')" editable-text="PROCEED_WITH_EXISTING_LOYALTY">
                    </span>
                    <!-- If Only 1 membership is attached, show details immediately (no levels for FFP): -->
                     <p class="cc-details">
                        <strong>{{ existingLoyalty.membership_type }}</strong>
                        <br>
                        <span>{{ 'NUMBER' | translate }}: </span> {{existingLoyalty.membership_card_number}}
                        <br>
                        <span ng-show="existingLoyalty.membership_level">Level: </span> {{existingLoyalty.membership_level}}
                    </p>
                </li>
                <li class="break" ng-show="existingLoyalty.id">
                    <span data-ng-bind-html="getTagValue('OR_TEXT')" editable-text="OR_TEXT"></span>
                </li>
                <li ng-show="existingLoyaltyPgms.length > 0 && !(existingLoyalty.id && existingLoyaltyPgms.length === 1)">
                    <button type="button" class="button option" touch-press='selectExistingLoyalty()'>
                        <ng-include src="icons.url.loyalty"></ng-include>
                    </button>
                    <span data-ng-bind-html="getTagValue('SELECT_EXISTING_PGM')" editable-text="SELECT_EXISTING_PGM">
                    </span>
                    <!-- If Only 1 membership is attached, show details immediately (no levels for FFP): -->
                    <p class="cc-details" ng-show="existingLoyaltyPgms.length === 1">
                        <strong>{{ existingLoyaltyPgms[0].membership_type }}</strong>
                        <br>
                        <span>{{ 'NUMBER' | translate }}: </span> {{existingLoyaltyPgms[0].membership_card_number}}
                        <br>
                        <span ng-show="existingLoyaltyPgms[0].membership_level">Level: </span> {{existingLoyaltyPgms[0].membership_level}}
                    </p>
                </li>
                <li class="break" ng-show="existingLoyaltyPgms.length > 0 && !(existingLoyalty.id && existingLoyaltyPgms.length === 1)">
                    <span data-ng-bind-html="getTagValue('OR_TEXT')" editable-text="OR_TEXT"></span>
                </li>
                <li>
                    <button type="button" class="button option" touch-press='addNewLoyalty()'>
                        <ng-include src="icons.url.loyalty"></ng-include>
                    </button>
                    <span data-ng-bind-html="getTagValue('ADD_NEW_LOYALTY')" editable-text="ADD_NEW_LOYALTY"></span>
                </li>
            </ul>
        </nav>
        <div id="actions" class="align-right" touch-press='skipLoyalties()'>
            <button type="button" class="button" translate>NO_THANKS</button>
        </div>
    </div>
</section>
