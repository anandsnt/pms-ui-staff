<!-- email options -->
<section id="main" class="centered" role="main" click-touch='resetTime()' ng-show="mode === 'EMAIL_BILL_GUEST_OPTIONS'">
    <div id="content">
        <h1>
            <text data-ng-bind-html="getTagValue('SEND_BILL_TO')" editable-text="SEND_BILL_TO"></text>
        </h1>
        <h3>{{email}}</h3>
        <nav id="options" role="nav">
            <ul role="menu">
                <!--email-delivery -->
                <li>
                    <button type="button" class="button option" touch-press='editEmailAddress()'>
                        <div ng-include="icons.url.pen"></div>
                    </button>
                    <text data-ng-bind-html="getTagValue('EDIT_EMAIL')" editable-text="EDIT_EMAIL"></text>
                </li>
                <li class="break">
                    <span>
                        <text data-ng-bind-html="getTagValue('OR_TEXT')" editable-text="OR_TEXT"></text>
                    </span>
                </li>
                <li ng-hide="!zestStationData.is_standalone">
                    <button type="button" class="button option" touch-press='sendEmail()'>
                        <div ng-include="icons.url.email"></div>
                    </button>
                    <text data-ng-bind-html="getTagValue('SEND_EMAIL')" editable-text="SEND_EMAIL"></text>
                </li>
                <li ng-show="!zestStationData.is_standalone">
                    <button type="button" class="button option" touch-press='checkOutGuest()'>
                        <div ng-include="icons.url.email"></div>
                    </button>
                    <text data-ng-bind-html="getTagValue('SEND_EMAIL')" editable-text="SEND_EMAIL"></text>
                </li>
            </ul>
        </nav>
    </div>
</section>
<!-- Final view-->
<section id="main" role="main" class="centered" ng-show="mode === 'GUEST_BILL_EMAIL_SENT'">
    <div id="content">
        <h1>
            <text data-ng-bind-html="getTagValue('END_THANKS')" editable-text="END_THANKS"></text>
        </h1>
        <h3 ng-show="emailSent">
            <text data-ng-bind-html="getTagValue('EMAIL_BILL_SENT_MSG')" editable-text="EMAIL_BILL_SENT_MSG"></text>
        </h3>
        <h3 ng-show="emailSendingFailed">
            <text data-ng-bind-html="getTagValue('EMAIL_BILL_NOT_SENT_MSG')" editable-text="EMAIL_BILL_NOT_SENT_MSG"></text>
        </h3>
        <h3 ng-show="printOpted">
            <text data-ng-bind-html="getTagValue('BILL_PRINTED_BELOW')" editable-text="BILL_PRINTED_BELOW"></text>
        </h3>
        <button type="button" class="button done-btn" click-touch='navToHome()'>
            <text data-ng-bind-html="getTagValue('DONE_BTN')" editable-text="DONE_BTN"></text>
        </button>
    </div>
</section>
<!-- Email entry -->
<section id="main" role="main" class="centered" ng-show="mode === 'EMAIL_BILL_EDIT_MODE'">
    <!-- Type Email -->
    <div id="content" class="input-field-contents" ng-show="!emailError">
        <h1>
            <text data-ng-bind-html="getTagValue('TYPE_EMAIL')" editable-text="TYPE_EMAIL"></text>
        </h1>
        <form method="post" class="form">
            <div class="entry input">
                <input class="start-focused" id="email_text" ng-focus="showOnScreenKeyboard('email_text')" click-touch="showOnScreenKeyboard('email_text')" type="text" ng-keydown="resetTime()" ng-model="email" placeholder="" enter-press="saveEmail()" value="" touch-press />
            </div>
            <div class="entry action">
                <button type="button" class="button" touch-press='saveEmail()' ng-class="{'overlay': email.length < 1}">
                    <text data-ng-bind-html="getTagValue('NEXT_BTN')" editable-text="NEXT_BTN"></text>
                </button>
            </div>
        </form>
        <button id="skipEmailInputBtn" type='button' class='button done-btn' touch-press='goToNextScreen()'>
            <text data-ng-bind-html="getTagValue('SKIP_BTN')" editable-text="SKIP_BTN"></text>
        </button>
    </div>
    <!-- Email invalid -->
    <div id="content" ng-show="emailError">
        <h1>
            <text data-ng-bind-html="getTagValue('EMAIL_ERR_HEADER')" editable-text="EMAIL_ERR_HEADER"></text>
        </h1>
        <h2>
            <text data-ng-bind-html="getTagValue('EMAIL_ERR_HEADER_SUB')" editable-text="EMAIL_ERR_HEADER_SUB"></text>
        </h2>
        <nav id="options" role="nav">
            <ul role="menu">
                <li>
                    <button type="button" class="button option" touch-press='reTypeEmail()'>
                        <!--div ng-include="'/assets/zest_station/css/icons/keyboard.svg'"></div-->
                        <div ng-include="icons.url.keyboard"></div>
                    </button>
                    <text data-ng-bind-html="getTagValue('RE_TYPE')" editable-text="RE_TYPE"></text>
                    <span>{{email}}</span>
                </li>
            </ul>
        </nav>
    </div>
</section>

<section id="main" role="main" ng-show="mode === 'BILLING_ADDRESS_MODE'">
        <div id="content">
            <h1 translate>EMAIL_GUEST_INVOICE</h1>
            <h2 translate>BILL_ADDRESSED_TO_TEXT</h2>
            <nav id="options" role="nav">
                <ul role="menu">
                    <!-- {{printData}} -->
                    <li>
                        <button type="button" class="button option" touch-press="emailAddressSelected('guest')">
                            <div ng-include="icons.url.adults"></div>
                        </button>
                         {{ addressInfo.guest.name}}
                        <span ng-bind-html="addressInfo.guest.address">
                        </span>
                    </li>
                    <!-- <li class="break" ng-if="addressInfo.ta_card.name">
                        <span>Or</span>
                    </li>
                    <li ng-if="addressInfo.ta_card.name">
                        <button type="button" class="button option" touch-press="emailAddressSelected('ta')">
                            <div ng-include="icons.url.company"></div>
                        </button>
                        {{ addressInfo.ta_card.name}}
                        <span ng-bind-html="addressInfo.ta_card.address">
                        </span>
                    </li> -->
                    <li class="break" ng-if="addressInfo.company_card.name">
                        <span>Or</span>
                    </li>
                    <li ng-if="addressInfo.company_card.name">
                        <button type="button" class="button option" touch-press="emailAddressSelected('company')">
                            <div ng-include="icons.url.company"></div>
                        </button>
                        {{ addressInfo.company_card.name}}
                        <span ng-bind-html="::addressInfo.company_card.address">
                        </span>
                    </li>
                </ul>
            </nav>
        </div>
</section>
<!-- print option for overlay , for stand alone the print happens from bill screen -->
<div ng-controller="zsPrintBillCtrl" ng-if="!zestStationData.is_standalone">
    <section id="main" role="main" class="centered" ng-show="mode === 'PRINT_MODE' && !showAddressOptions">
        <div id="content">
            <h1>
                <text data-ng-bind-html="getTagValue('END_THANKS')" editable-text="END_THANKS"></text>
            </h1>
            <!--h3 ng-show="email.length>0">{{'EMAILED_BILL' |translate}}
        </h3-->
            <nav id="options" role="nav">
                <ul role="menu">
                    <li>
                        <button type="button" class="button option" touch-press='printBill()'>
                            <!--div ng-include="'/assets/zest_station/css/icons/print.svg'"></div-->
                            <div ng-include="icons.url.print"></div>
                        </button>
                        <text data-ng-bind-html="getTagValue('PRINT_BILL')" editable-text="PRINT_BILL"></text>
                    </li>
                    <li class="break">
                        <span>
                            <text data-ng-bind-html="getTagValue('OR_TEXT')" editable-text="OR_TEXT"></text>
                        </span>
                    </li>
                    <li>
                        <button type="button" class="button option" touch-press='clickedNoThanks()'>
                            <!--div ng-include="'/assets/zest_station/css/icons/no-print.svg'"></div-->
                            <div ng-include="icons.url.noprint"></div>
                        </button>
                        <text data-ng-bind-html="getTagValue('NO_THX')" editable-text="NO_THX"></text>
                    </li>
                </ul>
            </nav>
        </div>
    </section>
    <section id="main" role="main" ng-show="mode === 'PRINT_MODE' && showAddressOptions">
            <div id="content">
                <h1 translate>PRINT_GUEST_INVOICE</h1>
                <h2 translate>BILL_ADDRESSED_TO_TEXT</h2>
                <nav id="options" role="nav">
                    <ul role="menu">
                        <!-- {{printData}} -->
                        <li>
                            <button type="button" class="button option" touch-press="addressSelected('guest')">
                                <div ng-include="icons.url.adults"></div>
                            </button>
                             {{ printData.guest_info.name}}
                            <span ng-bind-html="printData.guest_info.address">
                            </span>
                        </li>
                       <!--  <li class="break" ng-if="printData.ta_card_details.name">
                            <span>Or</span>
                        </li>
                        <li ng-if="printData.ta_card_details.name">
                            <button type="button" class="button option" touch-press="addressSelected('ta')">
                                <div ng-include="icons.url.company"></div>
                            </button>
                            {{ printData.ta_card_details.name}}
                            <span ng-bind-html="printData.ta_card_details.address">
                            </span>
                        </li> -->
                        <li class="break" ng-if="printData.company_card_details.name">
                            <span>Or</span>
                        </li>
                        <li ng-if="printData.company_card_details.name">
                            <button type="button" class="button option" touch-press="addressSelected('company')">
                                <div ng-include="icons.url.company"></div>
                            </button>
                            {{ printData.company_card_details.name}}
                            <span ng-bind-html="::printData.company_card_details.address">
                            </span>
                        </li>
                    </ul>
                </nav>
            </div>
    </section>
    <!-- print starts here -->
    <div ng-include="'/assets/partials_v2/checkout/zsGenericBillPrint.html'" ng-if="zestStationData.theme !== 'yotel'">
    </div>
    <div ng-include="'/assets/partials_v2/checkout/zsYotelBillPrint.html'" ng-if="zestStationData.theme === 'yotel'">
    </div>
</div>