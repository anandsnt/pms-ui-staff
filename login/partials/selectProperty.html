<div id="login" role="content" class="login--just-form">
    <div ng-show="hasLoader" id="loading">
        <div id="loading-spinner"></div>
    </div>
    <img src="/ui/pms-ui/images/logo_snt_latest.png" alt="" class="login__logo" />
    
    <form ng-submit="submit()" id="login-form" class="login__content" autocomplete="off" novalidate>
        <h1>Select your Property.</h1>
        <span class="notice error bg-white" ng-show="errorMessage !== ''">
            {{errorMessage}}
        </span>
        <div class="entry">
            <div class="entry__label">
                <label>Select Property</label> 
            </div>
            <div class="entry_search">
                <button type="button" id="property-clear-query" class="clear-query" ng-click="clearQuery()" ng-class="{'visible': searchData !== ''}" ng-show="searchData !== ''">
                    <span class="icons icon-clear-search">Clear query</span>
                </button>
                <!-- <button class="icons icon-search" ng-class="{'visible': searchData!==''}" ng-click="filterByQuery()">
                    Search
                </button>  -->
                <input id="property-query" ng-model="searchData" placeholder="Search by Property Name" type="search" ng-change="filterByQuery()" autocomplete="off" />
                <div id="property-search" class="property-autocomplete scrollable" ng-show="!selectedProperty" ng-class="{'open': propertyResults.length > 0 }" ng-iscroll="property-results" ng-iscroll-delay="300">
                    <div class="wrapper" id="property-search-scroller">
                        <ul class="ui-autocomplete">
                            <li ng-click="onSelect(property)" ng-repeat="property in propertyResults track by $index">
                                <a  ng-bind-html="highlight(property.name, searchData)"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="action">
            <button type="submit" id="property-button" name="property" class="button" ng-click="submitProperty()" ng-disabled="!selectedProperty" ng-class="{'blue': !!selectedProperty, 'grey': !selectedProperty }">Continue to Rover</button>
            <button type="button" id="cancel" class="button blank" ng-click="logout()">Sign Out</button>
        </div>
    </form>
    <div class="login__footer">
		<p>For questions please contact your hotel administrator or visit the <a href="https://stayntouch.freshdesk.com/support/home" target="_blank">StayNTouch Support Portal</a> for more information.</p>
        <p>For system performance issues see <a href="https://status.stayntouch.com/" target="_blank">StayNTouch System Status</a> page.</p>
		<p class="muted">Rover Version {{data.roverVersion}}</p>
	</div>
</div>
