<div class="entry">
    <label>{{ label }}</label>
    <div class="multi-select select" ng-click="toggleView()">{{ value }}</div>
    <div class="multi-select-options" ng-class="{ 'hidden': closed }">
        <div class="select-all" ng-hide="data.length === 1 || options.singleSelect">
            <label class="checkbox inline" ng-class="{ 'checked': options.selectAll }" ng-click="toggleSelectAll()">
                <span class="icon-form icon-checkbox" ng-class="{ 'checked': options.selectAll }"></span>
                Select All
            </label>
        </div>
      
        <div class="search" ng-show="options.hasSearch">
            <button id="multi-select-clear-query" class="clear-query" ng-class="{'visible': search.length}" ng-click="clearSearch()">
                <span class="icons icon-clear-search">Clear query</span>
            </button>
            <button type="submit" name="submit" class="icons icon-search">Search</button>
            <input class="query" placeholder="Search by {{ label }}" autocomplete="off" type="search" ng-model="search" ng-change="onSearchChange()">
        </div>

        <label class="checkbox" ng-repeat="each in data" ng-class="{ 'hidden': each.filteredOut }" ng-click="toggleSelection(each)">
            <span class="icon-form icon-checkbox" ng-class="{ 'checked': each.selected }"></span>
            {{ each[options.key] || each[options.altKey] }}
        </label>
    </div>
</div>