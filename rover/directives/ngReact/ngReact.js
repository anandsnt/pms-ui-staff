var NgReact=function(){var e=/\w+/g,t=/\(.*\)/g,r=/(<[^>]*>.*<\/[^>]*>)/g,n=/^[\w\s]+$/,a=[{attrName:"class",propName:"className",name:"className"},{attrName:"ng-click",propName:"onClick",name:"onClick",convertAttribute:function(r,n,a){if(r.onClick){var i=_.first(r.onClick.match(e)),o=_.first(r.onClick.match(t));o=o.substring(1,o.length-1),r.onClick=function(){n.$apply(function(){var e={};e[n.alias]=a,n[i](n.$eval(o,e))})}}}},{name:"id"},{name:"ng-bind",convertValue:function(e,t,r){if(e["ng-bind"]){var n={};return n[t.alias]=r,t.$eval(e["ng-bind"],n)}}}],i=function(e){var t={};return _.each(a,function(r){var n=_.findWhere(_.values(e.attributes),{localName:r.attrName||r.name});n&&(t[r.propName||r.name]=n.value)}),t},o=function(e,t,r){_.each(e,function(n,i){var o=_.findWhere(a,{propName:i});o&&o.convertAttribute&&o.convertAttribute(e,t,r)})},s=function(e,t,r){return _.compact(_.map(e,function(n,i){var o=_.findWhere(a,{name:i});return o&&o.convertValue?o.convertValue(e,t,r):void 0}))},c={reactUnit:React.createClass({render:function(){var e=this.props.data,t=this.props.scope,a=this.props.domEl,u=_.compact(_.map(a.children,function(r){return r.localName?c.reactUnit({data:e,scope:t,domEl:r}):void 0})),l=i(a);o(l,t,e);var p=s(l,t,e);return p.length&&a.localName||_.each(a.innerHTML.split(r),function(e){e.match(n)&&p.push(e)}),React.DOM[a.localName].apply(null,[l].concat(p,u))}}),reactRepeatUnit:React.createClass({render:function(){var e=this.props.data,t=this.props.scope,r=_.compact(_.map(this.props.transcludedDom,function(r){if(r.localName){var n=c.reactUnit({data:e,scope:t,domEl:r});return n}})),n=i(this.props.rootUnit);return o(n,t,e),React.DOM[this.props.rootUnit.localName].apply(null,[n].concat(s(n,t,e),r))}}),reactRepeat:React.createClass({render:function(){var e=this.props.rootUnit,t=this.props.scope,r=this.props.transcluded,n=_.map(t.data,function(n){return c.reactRepeatUnit({data:n,scope:t,transcludedDom:r,rootUnit:e})});return React.DOM[e.parentElement.localName].apply(null,[i(e.parentElement)].concat(n))}})};return c}();angular.module("ngReact",[]).directive("ngReactRepeat",["$timeout",function(e){return{restrict:"A",transclude:!0,replace:!0,controller:["$scope","$element","$attrs","$transclude",function(t,r,n,a){var i=n.ngReactRepeat.split(" in ");if(2!==i.length)throw Error('ngReactRepeat expected "alias in collection" format');t.alias=i[0];var o=r[0].offsetParent;a(function(n){t.$watchCollection(i[1],function(){e(function(){React.renderComponent(NgReact.reactRepeat({scope:t,transcluded:n,rootUnit:r[0]}),o)})},!0)})}]}}]).directive("ngReactComponent",["$timeout",function(e){return{restrict:"A",link:function(t,r,n){if(!n.ngReactComponent)throw Error("ngReactComponent expected attribute to be the name of a react component");var a=function(){e(function(){React.renderComponent(window[n.ngReactComponent]({scope:t}),r[0])})};n.data?t.$watchCollection(n.data,a,!0):a()}}}]);