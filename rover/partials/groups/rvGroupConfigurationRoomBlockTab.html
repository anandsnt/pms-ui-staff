<form id="group-room-block" name="group-room-block" class="form card-tab rooms" ng-controller="rvGroupRoomBlockCtrl">
    <div class="wrapper">
        <div ng-include="'/assets/partials/common/notification_message.html'"></div>
        <div id="group-room-block-header" class="tab-header with-filters">
            <div class="entry date-range">
                <div class="has-datepicker">
                    <label for="room-block-start" translate>START_DATE</label>
                    <input id="room-block-start" class="range-datepicker" placeholder="{{'SELECT_START_DATE'|translate}}" value="{{startDate|date:dateFormat}}" readonly ui-date="startDateOptions" rv-clear-text-box listen-this="startDate" ng-disabled="shouldDisableStartDate()" />
                </div>
                <div class="has-datepicker">
                    <label for="room-block-end" translate>END_DATE</label>
                    <input id="room-block-end" class="range-datepicker" placeholder="{{'SELECT_END_DATE'|translate}}" value="{{endDate|date:dateFormat}}" readonly ui-date="endDateOptions" rv-clear-text-box listen-this="endDate" ng-disabled="shouldDisableEndDate()" />
                </div>
            </div>
            <div class="entry status" ng-class="{'hidden': shouldHideHoldStatus()}">
                <!-- Add class "hidden" to hide when its a new group and/or start & end dates have not been defined -->
                <label for="group-hold-status" translate>HOLD_STATUS</label>
                <div class="select">
                    <select id="group-hold-status" iscroll-stop-propagation>
                        <option value="" selected translate>SET_STATUS</option>
                        <option ng-repeat="holdstatus in holdStatusList" value="holdstatus.value">
                            {{holdstatus.status_name}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="entry" ng-class="{'hidden': shouldHideRoomsAndPickUpArea()}">
                <!-- Add class "hidden" to hide when it's a new group and/or start & end dates have not been defined -->
                <label for="group-total-rooms" translate>TOTAL_ROOMS</label>
                <input id="group-total-rooms" placeholder="" ng-model="totalRooms" ng-readonly="shouldChangeTotalRoomsToReadOnly()" />
            </div>
            <div class="entry" ng-class="{'hidden': shouldHideRoomsAndPickUpArea()}">
                <!-- Add class "hidden" to hide when it's a new group and/or start & end dates have not been defined -->
                <label for="group-total-rooms" translate>TOTAL_PICK_UP</label>
                <input id="group-total-rooms" placeholder="" ng-model="totalPickups" ng-readonly="shouldChangeTotalPickUpToReadOnly()" />
            </div>
            <div class="actions">
                <!-- If new group and/or start & end dates have not been defined:  -->
                <button type="button" class="button" ng-disabled="shouldDisableCreateBlockButton()" ng-hide="shouldHideCreateBlockButton()" ng-click="clickedOnCreateButton()" ng-class="{'grey' : shouldDisableCreateBlockButton(), 
		        						'green': !shouldDisableCreateBlockButton()}" translate>
                    CREATE_BLOCK
                </button>
                <!-- // When start & end dates are set, enable button and change class "grey" with "green" -->
                <!-- If existing group and/or room blocks are set: -->
                <button type="button" class="button" ng-click="clickedOnUpdateButton()" ng-disabled="shouldDisableUpdateBlockButton()" ng-hide="shouldHideUpdateButton()" ng-class="{'grey' : shouldDisableUpdateBlockButton(), 
		        					'green': !shouldDisableUpdateBlockButton()}" translate>
                    UPDATE
                </button>
            </div>
        </div>
        <div id="group-room-block-content" class="tab-details">
            <!-- If new group and/or room block have not been set: -->
            <div class="no-content" ng-hide="shouldHideAddRoomsButton()">
                <div class="info">
                    <a ng-click="clickedOnAddRoomsAndRatesButton()" class="button" ng-disabled="shouldDisableAddRoomsAndRate()" ng-class="{	'green': !shouldDisableAddRoomsAndRate(), 
		            				'grey': shouldDisableAddRoomsAndRate()}" translate>	
		            	ADD_ROOMS_AND_RATE
		            </a>
                    <!-- // Button should have class "hidden" until block is created -->
                </div>
            </div>
            <!-- Room block actions -->
            <div class="room-block-actions" ng-hide="shouldHideRoomBlockDetailsView()">
                <button type="button" class="button green hidden" translate ng-click="onBlockRoomGrid();">SAVE</button>
                <!-- Hidden until change is made in the grid -->
                <button type="button" class="button red hidden" translate>DISCARD</button>
                <!-- Hidden until change is made in the grid -->
                <button type="butotn" class="button blue" translate>ROOMS_AND_RATES</button>
            </div>
            <!-- Room block room types -->
            <div class="room-block-sidebar scrollable" ng-hide="shouldHideRoomBlockDetailsView()" ng-iscroll="room_block_scroller">
                <div class="wrapper">
                    <!-- Toggle class "open" when .line-toggle is clicked/tapped -->
                    <div ng-class="{'open' : roomtype_rate.isCollapsed}" 
                    	class="row" 
                    	ng-repeat="roomtype_rate in groupConfigData.summary.selected_room_types_rates" 
                    	ui-jq="accordion" 
                    	ui-options="accordionInitiallyNotCollapsedOptions" 
                    	ng-init="roomtype_rate.isCollapsed = true">
                        <!-- Toggle class "active" when clicked/tapped -->
                        <p class="line line-toggle" ng-class="{'active' : roomtype_rate.isCollapsed}" ng-click="roomtype_rate.isCollapsed = !roomtype_rate.isCollapsed">
                            {{getRoomTypeName (roomtype_rate.selectedRoomType)}}
                        </p>
                        <!-- Toggle class "hidden" when .line-toggle is clicked/tapped -->
                        <ul ng-class="{'hidden' : !roomtype_rate.isCollapsed}">                            
                            <li class="line" translate>SINGLE</li>
                            <li class="line" translate>DOUBLE</li>
                            <!-- <li class="line small add" translate>ADD_TRIPLE</li> -->
                            <li class="line" translate>TRIPLE</li>
                            <li class="line" translate>QUADRUPLE</li>
                            <!-- When clicked, add L110-113 -->
                            <!-- When + Add Triple is clicked, show option to add quadruple:
		                    <li class="line small add" translate>ADD_QUADRUPLE</li> // When clicked, add L115-118 -->
                            <li class="line small add">
                                <li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- Room block days -->
            <div class="room-block-timeline scrollable" ng-iscroll="room_rates_timeline_scroller" ng-hide="shouldHideRoomBlockDetailsView()">
                <ul style="width:{{190 * datesBetweenStartAndEnd.length }}px;" class="wrapper">
                    <li ng-repeat="dateObj in datesBetweenStartAndEnd">
                        <div class="inner">
                            {{dateObj.columnHeader}}
                            <em>{{value}}% Occupancy</em>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- Room block grid -->
            <div class="room-block-grid scrollable" ng-iscroll="room_rates_grid_scroller" ng-hide="shouldHideRoomBlockDetailsView()">
                <div class="wrapper" style="width:{{190 * datesBetweenStartAndEnd.length }}px;">
                    <!-- REPEAT ROW FOR ALL ROOM TYPES SELECTED -->
                    <div class="row" ng-repeat="roomType in groupConfigData.summary.selected_room_types_rates">
                        <!-- REPEAT COLUMN FOR ALL DAYS IN THE BLOCK -->
                        <!-- Toggle class hidden when .line-toggle (L59) is clicked/tapped -->
                        <div class="column" ng-repeat="blockData in datesBetweenStartAndEnd">
                            <div class="line small" ng-class="{'hidden' : !roomType.isCollapsed}">
                                <em class="cell" translate>TOTAL</em>
                                <em class="cell">{{}}</em>
                                <em class="cell" translate>PICK_UP</em>
                            </div>
                            <!-- Room Type -->
                            <div class="line">
                                <input type="text" value="{Count}" class="cell" disabled />
                                <input type="text" value="{Count}" class="cell" disabled />
                            </div>
                            <!-- Single -->
                            <!-- <div class="line hidden"> -->
                            <div class="line" ng-class="{'hidden' : !roomType.isCollapsed}">
                                <!-- Toggle class hidden when .line-toggle (L59) is clicked/tapped -->
                                <input type="text" value="{Count}" class="cell" />
                                <input type="text" value="{Count}" class="cell" disabled />
                            </div>
                            <!-- Double -->
                            <!-- <div class="line hidden"> -->
                            <div class="line" ng-class="{'hidden' : !roomType.isCollapsed}">
                                <!-- Toggle class hidden when .line-toggle (L59) is clicked/tapped -->
                                <input type="text" value="{Count}" class="cell" />
                                <input type="text" value="{Count}" class="cell" disabled />
                            </div>
                            <!-- If L63 is clicked, generate option to add triple: -->
                            <!-- // Toggle class hidden when .line-toggle (L59) is clicked/tapped -->
                            <div class="line" ng-class="{'hidden' : !roomType.isCollapsed}">
                                <input type="text" value="{Count}" class="cell" />
                                <input type="text" value="{Count}" class="cell" disabled />
                            </div>
                            <!-- If L65 is clicked, generate option to add quadruple: -->
                            <!-- // Toggle class hidden when .line-toggle (L59) is clicked/tapped -->
                            <div class="line" ng-class="{'hidden' : !roomType.isCollapsed}">
                                <input type="text" value="{Count}" class="cell" />
                                <input type="text" value="{Count}" class="cell" disabled />
                            </div>
                            <!-- <div class="line small cellspan hidden"> -->
                            <div class="line small cellspan" ng-class="{'hidden' : !roomType.isCollapsed}">
                                <em class="cellspan" translate>MENU_AVAILABILITY<span class="{green or red}">{{blockData.availability}}</span></em>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>
