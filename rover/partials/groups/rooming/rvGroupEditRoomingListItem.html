<div id="modal" ng-class="{'modal-show': modalOpened}" role="dialog">
    <div ng-include="'/assets/partials/common/notification_message.html'"></div>
    <form class="modal-content form group-guest">
        <button id="modal-close" type="button" class="modal-close" ng-click="closeDialog()"><span class="icons icon-close invert" /></button>
        <span class="message h2">
            Edit Guest
        </span>
        <div class="holder">
            <div class="entry margin">
                <label for="firstname">First Name</label>
                <input id="firstname" placeholder="Pending" ng-model="ngDialogData.firstname" type="text" ng-disabled="ngDialogData.reservationStatusFlags.isUneditable"/>
            </div>
            <div class="entry">
                <label for="lastname">Last Name</label>
                <input id="lastname" placeholder="Pending" ng-model="ngDialogData.lastname" type="text" ng-disabled="ngDialogData.reservationStatusFlags.isUneditable"/>
            </div>
            <div class="entry margin type">
                <label for="rooming-room-type">{{'GROUP_ROOM_TYPE'|translate}}</label>
                <div class="select">
                    <select id="rooming-room-type" ng-model="selectedRoomType" ng-change="changedSelectedRoomType()" ng-disabled="ngDialogData.reservationStatusFlags.isUneditable">
                        <option value="{{roomTypeData.room_type_id}}" ng-repeat="roomTypeData in roomTypesAndData">
                            {{roomTypeData.room_type_name}}</option>
                    </select>
                </div>
            </div>
            <div class="entry occupancy">
                <label for="rooming-occupancy">{{'GROUP_OCCUPANCY'|translate}}</label>
                <div class="select">
                    <select id="rooming-occupancy" ng-model="selectedOccupancy" ng-disabled="ngDialogData.reservationStatusFlags.isUneditable">
                        <option value="1" ng-show="shouldShowThisOccupancyAgainstRoomType('single_occupancy')">
                            {{'GROUP_SINGLE'|translate}}
                        </option>
                        <option value="2" ng-show="shouldShowThisOccupancyAgainstRoomType('double_occupancy')">
                            {{'GROUP_DOUBLE'|translate}}
                        </option>
                        <option value="3" ng-show="shouldShowThisOccupancyAgainstRoomType('triple_occupancy')">
                            {{'GROUP_TRIPLE'|translate}}
                        </option>
                        <option value="4" ng-show="shouldShowThisOccupancyAgainstRoomType('quadruple_occupancy')">
                            {{'GROUP_QUADRUPLE'|translate}}
                        </option>
                    </select>
                </div>
            </div>
                <div class="entry margin date">
                <label for="group-block-from">
                    {{'FROM' | translate}}
                </label>
                <input id="group-block-from" 
                    ng-disabled="ngDialogData.reservationStatusFlags.isUneditable"
                    class="datepicker" 
                    type="text" 
                    ui-date="fromDateOptions" 
                    value="{{ngDialogData.arrival_date|date:dateFormat}}" rv-clear-text-box 
                    listen-this="ngDialogData.arrival_date" 
                    readonly ng-class="{'not-selected': !ngDialogData.arrival_date}" />
            </div>
            <div class="entry margin date">
                <label for="group-block-to">
                    {{'TO' | translate}}
                </label>
                <input id="group-block-to" 
                    ng-disabled="ngDialogData.reservationStatusFlags.isUneditable"
                    class="datepicker" 
                    type="text" 
                    ui-date="toDateOptions" 
                    value="{{ngDialogData.departure_date|date:dateFormat}}" 
                    rv-clear-text-box 
                    listen-this="ngDialogData.departure_date" 
                    readonly ng-class="{'not-selected': !ngDialogData.departure_date}" />
            </div>

            <div class="entry room" ng-disabled="true">
                <label for="room">Room</label>
                <div class="select">
                    <select id="room" ng-disabled="true">
                        <!-- Add class "placeholder" if "N/A" set as option -->
                        <option value="">N/A</option>
                        <option value="{Room No.}">{Room No.}</option>
                        ... repeat
                    </select>
                </div>
            </div>
        </div>
        <!-- Actions -->
        <div id="account-actions" class="actions">
            <button type="button" 
                class="button red" 
                ng-class="{'grey' : ngDialogData.reservationStatusFlags.isUneditable || ngDialogData.reservationStatusFlags.isStaying}" 
                ng-click="removeReservation(ngDialogData)">
                Remove
            </button>
            <button type="button" class="button brand-colors"
                ng-click="navigateStayCard(reservation)">
                Stay Card
            </button>
            <button type="button" 
                class="button green" 
                ng-class="{'grey' : ngDialogData.reservationStatusFlags.isUneditable || !ngDialogData.reservationStatusFlags.canChekin}" 
                ng-show="ngDialogData.reservationStatusFlags.isExpected">
                Check In
            </button>
            <button type="button" 
                class="button red" 
                ng-class="{'grey' : ngDialogData.reservationStatusFlags.isUneditable}" 
                ng-show="!ngDialogData.reservationStatusFlags.isExpected"
                ng-click="checkoutReservation(reservation);">
                Check Out
            </button>
            <button type="button" 
                class="button purple" 
                ng-class="{'grey' : ngDialogData.reservationStatusFlags.isUneditable}" 
                ng-click="updateReservation(ngDialogData)">
                Update
            </button>
            <button type="button" class="button blank" ng-click="closeDialog();">Close</button>
        </div>
    </form>
</div>
