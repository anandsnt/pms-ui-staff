<table ng-controller="RateViewCalendarCtrl" class="rate-calendar">
	<thead>
	 	<tr>
	 		<th width="250" colspan="2">
	 			<button ng-click="openCloseAllRestrictions('add')" class="button green"> Open All</button>	
	 			<button ng-click="openCloseAllRestrictions('remove')" class="button red"> Close All</button>	
	 		</th>
	 		<th width="250" ng-repeat="date in calendarData.dates">{{date}}</th>
	 	</tr>
	 </thead>

	<tbody>
		<tr>
			<td> All Rates</td>
			<td>&nbsp;</td>
			<td ng-repeat="date in calendarData.dates" class="cal-cell">
				<span ng-repeat="restriction in calendarData.all_rates[date]" class="{{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}} cal-cell" >
					{{restriction.days}}
				</span>
			</td>


		</tr>
		<tr ng-repeat="rate in calendarData.data">
			<td>
				{{rate.name}}
			</td>
			<td><img src="/assets/arrow-down.png" ng-click="goToRoomTypeCalendarView(rate.id)"></td>

			<td ng-repeat="date in calendarData.dates" class="cal-cell" >
				<span ng-repeat="restriction in rate[date]" class="{{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}} cal-cell" >
					{{restriction.days}}
				</span>
			</td>
		</tr>
		
	</tbody>
</table>