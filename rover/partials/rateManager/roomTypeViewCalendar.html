<table class="rate-calendar">
	<thead>
	 	<tr>
	 		<th width="250">
	 			<button class="button green"> Open All</button>	
	 			<button class="button red"> Close All</button>	
	 		</th>
	 		<th width="250" ng-repeat="date in calendarData.dates" ng-click="showUpdatePriceAndRestrictionsDialog(date, '', '', true)"><div class="cell-content">{{date| date:'EEEE MMMM yy'}}</div></th>
	 	</tr>
	 </thead>
	
	<tbody>
		<tr>
			<td> All Rooms</td>
			<td ng-repeat="date in calendarData.dates" class="cal-cell"> 
                <div class="cell-content">
					<span ng-repeat="restriction in calendarData.rate_restrictions[date]" class="{{calendarData.restriction_types[
				restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}} cal-cell" >
					{{restriction.days}}
					</span>
                </div>
			</td>
		</tr>

		<tr ng-repeat="rate in calendarData.data">
			<td ng-hide="currentExpandedRow==$index">    
				<span>{{rate.room_type.name}}<span>
			    <span style="float:right">
			    	<img src="/assets/arrow-down.png" ng-click="expandRow($index)">
			    </span>
            </td>
			<td ng-show="currentExpandedRow==$index">    
				<span>{{rate.room_type.name}} Expanded<span>
			    <span style="float:right">
			    	<img src="/assets/arrow-down.png" ng-click="expandRow($index)">
			    </span>
            </td>
			
			<td ng-repeat="date in calendarData.dates" class="cal-cell" ng-hide="currentExpandedRow==$parent.$index" ng-click="showUpdatePriceAndRestrictionsDialog(date, '', rate.room_type.id, true)">
				<div class="cell-content">
					<span ng-repeat="restriction in rate[date].restrictions" class="{{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}} cal-cell" >
						{{restriction.days}}
					</span>
					<span>{{rate[date].single}}</span>
				</div>
			</td>
			<td ng-repeat="date in calendarData.dates" class="cal-cell" ng-show="currentExpandedRow==$parent.$index">
				<div class="cell-content">
					<span ng-repeat="restriction in rate[date].restrictions" class="{{calendarData.restriction_types[restriction.restriction_type_id].background_class}} {{calendarData.restriction_types[restriction.restriction_type_id].icon}} cal-cell" >
						{{restriction.days}}
					</span>
					<div>Single {{rate[date].single}}<div>
					<div>Double {{rate[date].double}}<div>
					<div>Extra Adult {{rate[date].extra_adult}}<div>
					<div>Child {{rate[date].child}}<div>
				</div>
			</td>
		</tr>
		
	</tbody>
</table> 
