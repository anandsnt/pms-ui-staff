<div class="invoice-logo envelope">
    <img ng-src="{{printData.hotel_logo}}" alt="" />
    <h1>{{printData.hotel_name}}</h1>
    <span ng-bind-html="printData.hotel_address" ng-if="printData.show_hotel_address"></span>
    <span class="type" ng-if="!printData.is_proforma_invoice">{{printData.invoiceLabel}}</span>
    <span class="type" ng-if="printData.is_proforma_invoice" >{{printData.translation.proforma_invoice}}</span>
</div>

<!-- Case 1: Guest Bill -->
<div class="info-container" ng-if="!printData.is_from_cards">
    <div class="info-left">
        <span ng-bind-html="printData.guest_details.address"></span>
        <div class="info-bottom">
            <strong >{{printData.translation.invoice_date}}: </strong>{{printData.invoice_date | date:dateFormat}}<br/>
            <span ng-show="!printData.is_informational_invoice && printData.is_print_invoice_enabled && (printData.is_print_ar_invoice_number_enabled  && printData.is_db_payment_exists ? false : true)">
                <strong >{{printData.translation.invoice_number}}:</strong>{{printData.invoice_number}}<br/>
            </span>
            <span ng-show="!printData.is_informational_invoice && printData.is_print_ar_invoice_number_enabled  && printData.is_db_payment_exists && shouldShowArInvoiceNumber">
                <strong >{{printData.translation.ar_invoice_number}}:</strong>{{printData.ar_invoice_number}}<br/>
            </span>

            <span ng-if="!printData.is_informational_invoice && printData.folio_number && printData.is_print_folio_enabled && ((printData.is_print_ar_invoice_number_enabled  && (!printData.is_db_payment_exists || !shouldShowArInvoiceNumber)) || !printData.is_print_ar_invoice_number_enabled)">
                    <strong><span ng-if = "printData.folio_label">{{printData.folio_label}}:</span><span ng-if = "!printData.folio_label">{{printData.translation.folio_number}}:</span></strong>{{printData.folio_number}}<br/>
            </span>
            <span ng-show="printData.has_enabled_invoice_number_sequence && printData.mod_invoice_number && !printData.is_informational_invoice">
                <strong >{{printData.mod_label}}: </strong>{{printData.mod_invoice_number}}<br/>
            </span>
            <span ng-show="printData.control_code !== '' && !printData.is_informational_invoice">
                <strong >{{printData.translation.control_code}}: </strong> {{printData.control_code | limitTo : 30}}
                <br/>
            </span>
            <span ng-show="printData.control_unit !== '' && !printData.is_informational_invoice">
                <strong >{{printData.translation.control_unit}}: </strong> {{printData.control_unit}}
                <br/>
            </span>
            <span ng-show="printData.register_id !== '' && isInfrasecActivated && isInfrasecActivatedForWorkstation">
                <strong >{{printData.translation.register_id}}: </strong> {{printData.register_id}}
            </span>
            
        </div>
    </div>
    <div class="info-right">
        <strong >{{printData.translation.arrival_date}}:</strong>{{printData.arrival_date | date:dateFormat}}<br/>
        <strong >{{printData.translation.departure_date}}:</strong>{{printData.departure_date | date:dateFormat}}<br/>
        <strong >{{printData.translation.room_number}}:</strong>{{printData.room_number}}<br/> 
        <strong >{{printData.translation.confirmation_number}}:</strong>{{printData.confirmation_number}}<br/>
        <strong >{{printData.translation.tax_number}}:</strong>{{printData.tax_number}}
        <br/>

    </div>
</div>

<!-- Case 2: Company / Travel Agent Bill -->
<div class="info-container account-info" ng-if="printData.is_from_cards">
    <div class="float">
        <div class="info-left">
            {{printData.card_details.name}}<br ng-if="printData.card_details.name"/>
            <span ng-bind-html="printData.card_details.address"></span>
        </div>
        <div class="info-right">
            <strong >{{printData.translation.guest_name}}:</strong>{{printData.guest_details.first_name}} {{printData.guest_details.last_name}}<br/>
            <strong >{{printData.translation.arrival_date}}:</strong>{{printData.arrival_date | date:dateFormat}}<br/>
            <strong >{{printData.translation.departure_date}}:</strong>{{printData.departure_date | date:dateFormat}}<br/>
            <strong >{{printData.translation.room_number}}:</strong>{{printData.room_number}}<br/> 
            <strong >{{printData.translation.confirmation_number}}:</strong>{{printData.confirmation_number}}<br/>
            <strong >{{printData.translation.number_of_guests}}:</strong>{{printData.no_of_guests}}<br/><br/>
        </div>
    </div>
    <div class="info-bottom float">
        <div class="info-left">
            <strong >{{printData.translation.invoice_date}}:</strong>{{printData.invoice_date | date:dateFormat}}<br/>
            <span ng-show="!printData.is_informational_invoice && printData.is_print_invoice_enabled && (printData.is_print_ar_invoice_number_enabled  && printData.is_db_payment_exists ? false : true)">
                <strong >{{printData.translation.invoice_number}}:</strong>{{printData.invoice_number}}<br/>
            </span>
            <span ng-show="!printData.is_informational_invoice && printData.is_print_ar_invoice_number_enabled  && printData.is_db_payment_exists && shouldShowArInvoiceNumber">
                <strong >{{printData.translation.ar_invoice_number}}:</strong>{{printData.ar_invoice_number}}<br/>
            </span>
            <span ng-if="!printData.is_informational_invoice && printData.folio_number && printData.is_print_folio_enabled && ((printData.is_print_ar_invoice_number_enabled  && (!printData.is_db_payment_exists || !shouldShowArInvoiceNumber)) || !printData.is_print_ar_invoice_number_enabled)">
                    <strong><span ng-if = "printData.folio_label">{{printData.folio_label}}:</span><span ng-if = "!printData.folio_label">{{printData.translation.folio_number}}:</span></strong>{{printData.folio_number}}<br/>
            </span>
            <span ng-show="printData.has_enabled_invoice_number_sequence && printData.mod_invoice_number && !printData.is_informational_invoice">
                <strong >{{printData.mod_label}}:</strong>{{printData.mod_invoice_number}}<br/>
            </span>
            <span ng-show="printData.control_code !== '' && !printData.is_informational_invoice">
                <strong >{{printData.translation.control_code}}: </strong> {{printData.control_code | limitTo : 30}}
                <br/>
            </span>
            <span ng-show="printData.control_unit !== '' && !printData.is_informational_invoice">
                <strong >{{printData.translation.control_unit}}: </strong> {{printData.control_unit}}
                <br/>
            </span>
            <span ng-show="printData.register_id !== '' && isInfrasecActivated && isInfrasecActivatedForWorkstation">
                <strong >{{printData.translation.register_id}}: </strong> {{printData.register_id}}
            </span>
            <strong ng-if="printData.reference_number">{{printData.translation.reference_number}}:</strong>{{printData.reference_number}}<br ng-if="printData.reference_number" />
            <strong ng-if="printData.payment_due_in_days">{{printData.translation.payment_due_days}}:</strong>{{printData.payment_due_in_days}}<br/>
        </div>
        <div class="info-right">
            <strong ng-if="printData.card_details.type ==='COMPANY' && printData.card_details.corporate_id" >{{printData.translation.corp_id}}:</strong>{{printData.card_details.corporate_id}}<br ng-if="printData.card_details.type ==='COMPANY'"/>
            <strong ng-if="printData.card_details.type ==='TRAVELAGENT' && printData.card_details.iata_no">{{printData.translation.iata_number}}:</strong>{{printData.card_details.iata_no}}<br ng-if="printData.card_details.type ==='TRAVELAGENT'"/>
            <strong ng-if="printData.card_details.tax_number" >{{printData.translation.tax_number}}:</strong>{{printData.card_details.tax_number}}<br ng-if="printData.card_details.tax_number"/>
            <strong ng-if="printData.card_details.ar_number" >{{printData.translation.ar_number}}:</strong>{{printData.card_details.ar_number}}
        </div>
    </div>
</div>
</br>
<div class="invoice-header text-center">
    {{printData.custom_text_header}}
</div>

<div class="invoice-body">
    <table class="invoice-details">
        <thead style="display:table-row-group;">
            <tr>
                <th >{{printData.translation.date_of_charge}}</th>
                <th >{{printData.translation.charge_description}}</th>
                <th class="align-right" >{{printData.translation.charge_amount}}</th>
                <th class="align-right" >{{printData.translation.credit_amount}}</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <td></td>
                <td></td>
                <td><strong >{{printData.translation.total_charge}}</strong></td>
                <td><strong>{{currencySymbol}}{{printData.total_fees}}</strong>
                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.invoice_currency_total_fees !== null">
                        {{invoiceCurrencySymbol}}{{printData.invoice_currency_total_fees}}
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td><strong >{{printData.translation.total_credits}}<strong></td>
                <td><strong>{{currencySymbol}}{{printData.credits}} </strong>
                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.invoice_currency_credits !== null">
                        {{invoiceCurrencySymbol}}{{printData.invoice_currency_credits}}
                    </div>
                </td>
            </tr>            
            <tr>
                <td></td>
                <td></td>
                <td ><strong>{{printData.translation.net_amount}}</strong></td>
                <td><strong>{{currencySymbol}}{{printData.net_amount}}</strong>
                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.invoice_currency_net_amount !== null">
                        {{invoiceCurrencySymbol}}{{printData.invoice_currency_net_amount}}
                    </div>
                </td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td><strong >{{printData.translation.balance}}</strong></td>
                <td><strong>{{currencySymbol}}{{printData.balance}} </strong>
                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.invoice_currency_balance !== null">
                        {{invoiceCurrencySymbol}}{{printData.invoice_currency_balance}}
                    </div>
                </td>
            </tr>

            <tr ng-if="!printData.has_enabled_extended_tax_breakdown" ng-repeat="item in printData.tax_details">
                <td></td>
                <td></td> 
                <td>
                    {{item.description}}
                </td>
                <td>
                    {{currencySymbol}}{{item.amount | number: precisonTwo}}
                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.invoice_currency_net_amount !== null">
                        {{invoiceCurrencySymbol}}{{item.invoice_currency_amount}}
                    </div>
                </td>
            </tr>
        </tfoot>
        <tbody>
            <tr ng-repeat="item in printData.charge_details_list">
                <td>{{item.date | date:dateFormat}}</td>
                <td class="description">
                    <strong>{{item.item_description}}</strong>
                    <span>{{item.description}}</span>
                    <span class="reference" ng-show="item.reference_text != ''">{{item.reference_text}}</span>
                </td>
                <td class="align-right">{{currencySymbol}}{{item.amount | number: precisonTwo}}
                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.invoice_currency_amount !== null">
                        {{invoiceCurrencySymbol}}{{item.invoice_currency_amount}}
                    </div>
                </td>
                <td class="align-right"></td>
            </tr>

            <tr ng-repeat="item in printData.credit_details_list">
                <td>{{item.date | date:dateFormat}}</td>
                <td class="description">
                    <strong>{{item.item_description}}</strong>
                    <span>{{item.description}}</span>
                    <span class="reference" ng-show="item.reference_text != ''">{{item.reference_text}}</span>
                </td>
                <td class="align-right"></td>
                <td class="align-right">{{currencySymbol}}{{item.amount | number: precisonTwo}}

                    <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.invoice_currency_amount !== null">
                        {{invoiceCurrencySymbol}}{{item.invoice_currency_amount}}
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<strong ng-if="printData.has_enabled_extended_tax_breakdown">Tax Breakdown</strong>
<table class="invoice-details extended-tax-table" ng-if="printData.has_enabled_extended_tax_breakdown">
    <thead style="display:table-row-group;">
        <tr>
            <th class="text-align-left" >{{printData.translation.tax_description}}</th>
            <th >{{printData.translation.gross}}</th>
            <th >{{printData.translation.net}}</th>
            <th >{{printData.translation.tax}}</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="item in printData.extended_tax_breakdown.details">
            <td class="text-align-left">{{ item.description }}</td>
            <td>{{currencySymbol}}{{ item.gross_amount | number: precisonTwo }}
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.inv_gross_amount !== null">
                    {{invoiceCurrencySymbol}}{{item.inv_gross_amount}}
                </div>
            </td>
            <td>{{currencySymbol}}{{ item.net_amount | number: precisonTwo }}
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.inv_net_amount !== null">
                    {{invoiceCurrencySymbol}}{{item.inv_net_amount}}
                </div>
            </td>
            <td>{{currencySymbol}}{{ item.tax_amount | number: precisonTwo }}
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.inv_tax_amount !== null">
                    {{invoiceCurrencySymbol}}{{item.inv_tax_amount}}
                </div>
            </td>
        </tr>
        <tr>
            <td class="text-align-left" ><strong>{{printData.translation.total}}</strong></td>
            <td><strong>{{currencySymbol}}{{ printData.extended_tax_breakdown.total_gross_amount | number: precisonTwo }}</strong>
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.extended_tax_breakdown.inv_total_gross_amount !== null">
                    <strong>{{invoiceCurrencySymbol}}{{printData.extended_tax_breakdown.inv_total_gross_amount}}</strong>
                </div>
            </td>
            <td><strong>{{currencySymbol}}{{ printData.extended_tax_breakdown.total_net_amount | number: precisonTwo }}</strong>
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.extended_tax_breakdown.inv_total_net_amount !== null">
                    <strong>{{invoiceCurrencySymbol}}{{printData.extended_tax_breakdown.inv_total_net_amount}}</strong>
                </div>
            </td>
            <td><strong>{{currencySymbol}}{{ printData.extended_tax_breakdown.total_tax_amount | number: precisonTwo }}</strong>
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.extended_tax_breakdown.inv_total_tax_amount !== null">
                    <strong>{{invoiceCurrencySymbol}}{{printData.extended_tax_breakdown.inv_total_tax_amount}}</strong>
                </div>
            </td>
        </tr>
    </tbody>           
</table>
<br><br>
<strong ng-if="printData.tax_breakdown_for_deposit.details.length>0">Deposit VAT Breakdown</strong>
<br>
<span ng-if="printData.tax_breakdown_for_deposit.details.length>0 && printData.advance_payment_number">
    <strong >Deposit Number: </strong>{{printData.advance_payment_number}}<br/>
</span>
<table class="invoice-details extended-tax-table" ng-if="printData.tax_breakdown_for_deposit.details.length>0">
    <thead style="display:table-row-group;">
        <tr>
            <th class="text-align-left" >{{printData.translation.tax_description}}</th>
            <th >{{printData.translation.gross}}</th>
            <th >{{printData.translation.net}}</th>
            <th >{{printData.translation.tax}}</th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="item in printData.tax_breakdown_for_deposit.details">
            <td class="text-align-left">{{ item.description }}</td>
            <td>{{currencySymbol}}{{ item.gross_amount | number: precisonTwo }}
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.inv_gross_amount !== null">
                    {{invoiceCurrencySymbol}}{{item.inv_gross_amount}}
                </div>
            </td>
            <td>{{currencySymbol}}{{ item.net_amount | number: precisonTwo }}
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.inv_net_amount !== null">
                    {{invoiceCurrencySymbol}}{{item.inv_net_amount}}
                </div>
            </td>
            <td>{{currencySymbol}}{{ item.tax_amount | number: precisonTwo }}
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && item.inv_tax_amount !== null">
                    {{invoiceCurrencySymbol}}{{item.inv_tax_amount}}
                </div>
            </td>
        </tr>
        <tr>
            <td class="text-align-left" ><strong>{{printData.translation.total}}</strong></td>
            <td><strong>{{currencySymbol}}{{ printData.tax_breakdown_for_deposit.total_gross_amount | number: precisonTwo }}</strong>
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.tax_breakdown_for_deposit.inv_total_gross_amount !== null">
                    <strong>{{invoiceCurrencySymbol}}{{printData.tax_breakdown_for_deposit.inv_total_gross_amount}}</strong>
                </div>
            </td>
            <td><strong>{{currencySymbol}}{{ printData.tax_breakdown_for_deposit.total_net_amount | number: precisonTwo }}</strong>
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.tax_breakdown_for_deposit.inv_total_net_amount !== null">
                    <strong>{{invoiceCurrencySymbol}}{{printData.tax_breakdown_for_deposit.inv_total_net_amount}}</strong>
                </div>
            </td>
            <td><strong>{{currencySymbol}}{{ printData.tax_breakdown_for_deposit.total_tax_amount | number: precisonTwo }}</strong>
                <div class="converted-currency" ng-if="isMultiCurrencyEnabled && printData.tax_breakdown_for_deposit.inv_total_tax_amount !== null">
                    <strong>{{invoiceCurrencySymbol}}{{printData.tax_breakdown_for_deposit.inv_total_tax_amount}}</strong>
                </div>
            </td>
        </tr>
    </tbody>           
</table>

<div ng-if="printData.is_from_cards" class="invoice-footer text-center" ng-bind-html="trustAsHtml(printData.ar_invoice_billing_text)">
</div>
<div class="invoice-footer text-center" ng-bind-html="trustAsHtml(printData.custom_text_footer)">
</div>
