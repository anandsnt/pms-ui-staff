<div ng-controller="RVCompanyCardCtrl">
    <div id="company-card-content"  class="card-search card-tabs card-content" ng-class="UICardContentCls('company-card')" ng-if="!searchMode">
        <button id="company-new-contract" type="button" class="button red pull-right" ng-click="detachCard('company')" translate="" ng-hide="viewState.isAddNewCard">Detach Card</button>

        <ul ng-id="{'company-card-tabs-nav': account_type == 'COMPANY', 'travel-agent-card-tabs-nav': account_type == 'TRAVELAGENT'}" class="card-tabs-nav float ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
            <li  ng-class="{'ui-tabs-active': currentSelectedTab == 'cc-contact-info'}" ng-click="switchTabTo($event, 'cc-contact-info')">
                <a translate>CONTACT_INFORMATION</a>
            </li>
            <li  ng-class="{'ui-tabs-active': currentSelectedTab == 'cc-contracts'}" ng-click="switchTabTo($event, 'cc-contracts')">
                <a translate>CONTRACTS</a>
            </li>
            <li  ng-hide="true" class="ui-state-default ui-corner-top" ng-class="{'ui-tabs-active': currentSelectedTab == 'cc-reservations'}" ng-click="switchTabTo($event, 'cc-reservations')">
                <a translate>RESERVATIONS</a>
            </li>
        </ul>
        <!-- Company Card Tab 1 Contact Information -->
        <div ng-include="'/assets/partials/companyCard/rvCompanyCardContactInformation.html'"></div>
        <!-- Company Card Tab 2 Contract -->
        <div ng-controller="cardContractsCtrl" ng-include="'/assets/partials/companyCard/rvCompanyCardContract.html'"></div>
        <!-- Company Card Tab 3 Resevations -->
        <div ng-hide="true" ng-include="'/assets/partials/companyCard/rvCompanyCardReservations.html'"></div>
    </div>
    <div id="company-card-content"  class="card-search card-tabs card-content" ng-class="UICardContentCls('company-card')" ng-if="searchMode">
        <button id="new-company" ng-show="addNewCards" type="button" class="button green has-arrow skip" ng-click="createNewCompany()">Add New Card</button>
        <div id="search-company-content" class="search-cards scrollable">            
            <!-- Company Card Results listing -->
            <div ng-controller="companyResults" class="wrapper" ng-show="companySearchIntiated && companies.length > 0" style="height:100%; overflow: hidden;" ng-iscroll="companyResultScroll" ng-iscroll-delay='500'>
                <ul id="search-company-results" class="search-results">
                    <li ng-repeat="company in companies">
                        <a ng-click="selectCompany(company, $event)" class="card-result">
                            <div ng-show="company.logo == ''" class="guest-image icons icon-company"></div>
                            <figure ng-hide="company.logo == ''" class="guest-image">
                                <img ng-src="{{company.logo}}"/>
                            </figure>
                            <div class="data">
                                <div class="info">
                                    <h2 ng-bind-html="'{{ company.account_name }}'|highlight:searchData.companyCard.companyName:false"></h2>
                                     <div class="rate" ng-show="company.rate"><span class="label">Rate</span> {{company.rate.difference}}{{ company.rate.based_on.name }}</div>
                                </div>
                                <span class="confirmation">{{ company.address.postalCode }}</span>
                                <span class="icons icon-location"><span class="no-right-margin" ng-bind-html="'{{ company.address.city }}'|highlight:searchData.companyCard.companyCity:false"></span><span class="no-right-margin" ng-show="company.address.state">,&nbsp;</span>{{ company.address.state }}</span>
                                <span class="icons icon-phone">{{ company.phone }}</span>
                                <span class="icons icon-email-grey">{{ company.email }}</span>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
            <div id="search-company-no-results" class="search-cards no-content">
                <!-- Company Card No Results -->
                <div class="info" ng-show="companySearchIntiated && companies.length === 0">
                    <span class="icon-no-content icon-cards"></span>
                    <strong class="h1">No Matches</strong>
                    <span class="h2">Check that you didn't mispell the <strong>Company Name</strong>, <strong>City</strong> or <strong>Corporate ID</strong>.</span>
                </div>
                <!-- Company Card Empty -->
                <div class="info" ng-hide='companySearchIntiated'>
                    <span class="icon-no-content icon-cards"></span>
                    <strong class="h1">Find Company</strong>
                    <span class="h2">Search by <strong>Name</strong>, <strong>City</strong> or <strong>Corporate ID</strong></span>
                </div>
            </div>
        </div>
    </div>
</div>
