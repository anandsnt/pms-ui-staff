<div id="change-dates-main" >
	<!-- data-view="ChangeStayDatesView"> -->
	<div ng-include="'/assets/partials/common/header.html'"></div>
	<section role="complementary" id="edit-reservation" class="content stay-card-inner check-in">
		<!-- Room assignment header -->
		<div ng-include="'/assets/partials/common/notification_message.html'"></div>
		<div class="reservation-header">
			<div class="actions back">
				<a id="changedates-back-btn" class="back-button" ng-click="goBack()">Back</a>
			</div>
			<div class="data">
				<span data-room-status="{{stayDetails.details.room_status}}" data-reserv-status="{{stayDetails.details.reservation_status}}" data-fostatus="{{stayDetails.details.fo_status}}" class="room">
					<span class="guest-status room">room</span>
					<strong id="header-room-num" class="room-number room-red">
						{{stayDetails.details.room_number}}
					</strong>
					<span id="room-type" data-room-type="{{stayDetails.details.room_type}}">
						{{stayDetails.details.room_type_name}}
					</span>
				</span>
				<span class="nights">
					<span class="guest-status nights">
																		
					</span>
					<ng-pluralize count="stayDetails.details.total_nights"
						  when="{'0': 'Day Use',
                 				'1': '1 night',
                 				other: '{} nights'}">
					</ng-pluralize>	
					
				</span>
				<span class="date">
					<span class="guest-status small-icon check-in">check-in</span>

					{{getSimplifiedDayName(stayDetails.details.arrival_date)}}
					{{stayDetails.details.arrival_date|date:mmddyyyyFormat}}
				</span>
				<span class="date">
					<span class="guest-status small-icon check-out">check-out</span>
					{{getSimplifiedDayName(stayDetails.details.departure_date)}}
					{{stayDetails.details.departure_date|date:mmddyyyyFormat}}
				</span>
			</div>

		</div>
		<!-- Edit reservation -->
		<div class="edit-reservation-content" ng-iscroll="edit_reservation_content" ng-iscroll-delay="100">
			<!-- Reservation calendar -->
			<div id="calendar-holder" class="reservation-calendar scrollable">
				<div class="wrapper">
					<div id="reservationcalendar" class="fc fc-ltr" ui-calendar="fullCalendarOptions" ng-model="eventSources"></div>
					<strong id="instruction-title" class="notice">Drag &amp; drop to change stay dates</strong>
					<ul id="reservation-calendar-legend">
						<li><span class="check-in"></span>Arrival
						</li>
						<li><span class="no-availability"></span>No availability
						</li>
						<li><span class="mid-stay"></span>Mid stay
						</li>
						<li><span class="availability"></span>Room available
						</li>
						<li><span class="check-out"></span>Departure
						</li>
					</ul>
				</div>
			</div>
			<!-- Reservation update -->
			<div id="reservation-details" class="reservation-updates">
				<div id="no-reservation-updates" class="updates-content no-content" ng-show="!showReservationUpdates">
					<div class="info">
						<strong class="h1">Change stay dates to see room and rate changes.</strong>
					</div>
				</div>
				<div id="reservation-updates" class="updates-content " ng-show="showReservationUpdates" ng-class="{'hidden': !showReservationUpdates}">
					<h4 class="available-title">Reservation updates</h4>
					<div id="update-details" class="details scrollable">
						<div class="wrapper">
							<h2 class="room">
								<strong id="room-number" class="room-number">{{stayDetails.details.room_number}}</strong>
								<span id="room-type">{{stayDetails.details.room_type_name}}</span>
							</h2>
							<ul class="data">
								<li class="nights">
									<span class="guest-status nights">nights</span>
									<span id="new-nights"><ng-pluralize count="calendarNightDiff"
										  when="{'0': 'Day Use',
			                     				'1': '1 night',
			                     				other: '{} nights'}">
									</ng-pluralize>	</span>
								</li>
								<li class="date">
									<span class="guest-status small-icon check-in">check-in</span>
									<span id="new-check-in">
										{{getSimplifiedDayName(checkinDateInCalender)}}
										{{checkinDateInCalender|date:mmddyyyyFormat}}</span>
								</li>
								<li class="date">
									<span class="guest-status small-icon check-out">check-out</span>
									<span id="new-check-out">
										{{getSimplifiedDayName(checkoutDateInCalender)}}
										{{checkoutDateInCalender|date:mmddyyyyFormat}}</span>
								</li>
							</ul>
							<p class="rate">
								<span class="number">
									<span id="avg-daily-rate">{{currencySymbol}}{{avgRate}}</span>
									/<strong id="total-stay-cost">{{currencySymbol}}{{totRate}}</strong>
								</span>
								<span id="rate-desc"></span>
							</p>
							<div class="action">
								<a id="confirm-changes"  data-transition="nested-view reload-content" class="button back-button brand-colors" ng-click="confirmUpdates()" >Confirm updates</a>
								<button type="button" id="reset-dates" class="button blank" ng-click="resetDates()">Cancel (reset dates)</button>
							</div>
						</div>
					</div>
				</div>
				<div id="room-list" class="updates-content hidden">
					<h4 class="available-title error">
						Room
						<span id="current-room"></span>
						is not available.
					</h4>
					<strong class="subheading">
						Please select another room or
						<button type="button" id="reset-dates" class="button blank">Reset dates</button>
					</strong>
					<div id="change-room" class="details scrollable">
						<div class="wrapper">
							<ul class="rooms"></ul>
						</div>
					</div>
				</div>
				<div id="room-locked" class="updates-content no-content hidden">
					<div class="info">
						<strong class="h1">Room cannot be made available past the guest's current departure date.</strong>
						<span class="h2">Please see Front Desk.</span>
						<button type="button" id="reset-dates" class="button blank">Reset dates</button>
					</div>
				</div>
				<div id="room-restricted" class="updates-content no-content hidden">
					<div class="info">
						<strong class="h1">Minimum Length of Stay restriction exists for this booking.</strong>
						<span class="h2">Please see Front Desk.</span>
						<button type="button" id="reset-dates" class="button blank" >Reset dates</button>
					</div>
				</div>
			</div>
			</div>
	</section>
</div>