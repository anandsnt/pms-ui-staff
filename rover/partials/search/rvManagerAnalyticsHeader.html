<!-- Filters -->
<form method="get" name="dashboard-search-form" id="dashboard-search-form" class="search-form dashboard-analytics has-dates has-room-types" data-search-for="analytics" role="search">

<!-- <div id="dashboard-search-form" class="search-form dashboard-analytics" role="search"> -->
    <!-- Switch between Analytics and buttons view -->
    <div class="entry switch">
        <div class="switch-button off" ng-class="{ 'on' : !dashboardFilter.analyticsActive }">
            <input id="analytics-toggle" value="" type="checkbox" ng-click="toggleAnalyticsView()" checked="">
            <label class="data-off">
                <span class="value">SUMMARY</span>
                <span class="switch-icon">ANALYTICS</span>
            </label>
            <label class="data-on">
                <span class="switch-icon">SUMMARY</span>
                <span class="value">ANALYTICS</span>
            </label>
        </div>
    </div>
    <!-- Select what chart to display -->
    <div class="entry options">
        <div class="select with-label">
            <label for="showing">Showing</label>
            <select id="showing" ng-model="dashboardFilter.selectedAnalyticsMenu" ng-change="changeAnalyticsView(dashboardFilter.selectedAnalyticsMenu)">
                <option value="PERFOMANCE" selected>Performance</option>
                <option value="DISTRIBUTION">Distribution</option>
                <option value="PACE">Pace</option>
            </select>
        </div>
    </div>
    <!-- Set Date -->
    <div class="entry dates"  ng-if="dashboardFilter.selectedAnalyticsMenu !== 'DISTRIBUTION'" >
        <div class="entry-data has-datepicker">
            <label for="analytics-date">Date</label>
            <input id="analytics-date" type="text" class="datepicker" ng-model="dashboardFilter.datePicked" ng-click="showAnalyticsDatePicker()" ng-change="onDateChanged()" readonly />
        </div>
    </div>

    <div class="entry dates" ng-if="dashboardFilter.selectedAnalyticsMenu === 'DISTRIBUTION'">
        <div class="entry-data has-datepicker">
            <label for="analytics-date">FROM</label>
            <input id="analytics-date" type="text" class="datepicker" ng-model="dashboardFilter.fromDate" ng-click="showAnalyticsCalendar('fromDate')" ng-change="onDateChanged()" readonly />
        </div>
    </div>
    <div class="entry dates" ng-if="dashboardFilter.selectedAnalyticsMenu === 'DISTRIBUTION'">
        <div class="entry-data has-datepicker">
            <label for="analytics-date">TO</label>
            <input id="analytics-date" type="text" class="datepicker" ng-model="dashboardFilter.toDate" ng-click="showAnalyticsCalendar('toDate')" ng-change="onDateChanged()" readonly />
        </div>
    </div>
    <!-- Actions -->
    <div class="entry actions">
        <button class="button white with-icon only-icon" ng-class="{'open' : dashboardFilter.showFilters }" ng-click="toggleFilterView()"> <!-- Add class 'open' when clicked 1st time, remove it when clickd 2nd time -->
            <!-- If filters applied, show their count like this: <span class="count">{X}</span> -->
            <span class="icons icon-filter"></span>
            Filter rooms
        </button>
        <button type="button" class="button white with-icon only-icon" ng-click="refreshAnalyticsChart()">
            <span class="icons icon-reset"></span>
            Refresh
        </button>
    </div>
    <!-- Filters -->
    <div class="analytics-filters scrollable" ng-class="{'open' : dashboardFilter.selectedAnalyticsMenu === 'PERFOMANCE' && dashboardFilter.showFilters }"> <!-- Toggle class 'open' when L58 clicked -->
        <div class="wrapper">
            <!-- Last Year Information -->
            <div class="entry">
                <label for="show-last-year" class="checkbox inline" ng-class="{'checked':dashboardFilter.showLastYearData}"> <!-- Add class 'checked' when L71 checked -->
                    <span class="icon-form icon-checkbox" ng-class="{'checked': dashboardFilter.showLastYearData}"></span> <!-- Add class 'checked' when L71 checked -->
                    <input id="show-last-year" value="1" type="checkbox" ng-model="dashboardFilter.showLastYearData" ng-change="onAnlayticsFilterChanged();">
                    Show Last Year Information
                </label>
                <!-- Show when L71 is checked -->
                <div class="select with-label">
                    <label for="last-year">Type</label>
                    <select id="last-year" ng-model="dashboardFilter.lastyearType" ng-change="onAnlayticsFilterChanged()">
                        <option value="SAME_DATE_LAST_YEAR">Same DATE Last Year</option>
                        <option value="SAME_DAY_LAST_YEAR">Same DAY Last Year</option>
                        <!-- <option value="MIXED" selected>Mixed</option> -->
                    </select>
                </div>
            </div>
        </div>
    </div>

    <!-- Filters -->
    <div class="analytics-filters scrollable" ng-class="{'open' : dashboardFilter.selectedAnalyticsMenu === 'PACE' && dashboardFilter.showFilters }"> <!-- Toggle class 'open' when L58 clicked -->
        <div class="wrapper">
            <!-- Room Type -->
            <div class="entry" ng-if="false">
                <div class="select with-label">
                    <label for="analytics-room-type">Room Type</label>
                    <select id="room-type" ng-model="room_type_id" ng-change="onRoomTypeChange()">
                        <option value="" selected="" translate>SHOW_ALL</option>
                        <option value="{{::roomType.id}}" ng-repeat="roomType in ::availableRoomTypes track by $index">{{::roomType.name}}</option>
                    </select>
                </div>
                <!-- When Room Type is selected, remove it as an option from dropdown above + add a record of it here -->
                <div class="selected">
                    <!-- CASE 1 - Regular Room Type -->
                    <span class="tag">{ Room Type }</span> <!-- Click on this item removes it as filter + enables it in upper dropdown -->
                    <!-- CASE 2 - If Shortage Medium Alert -->
                    <span class="tag alert-medium">{Room Type ({X} short)}</span> <!-- Click on this item removes it as filter + enables it in upper dropdown -->
                    <!-- CASE 3 - If Shortage High Alert -->
                    <span class="tag alert-high">{Room Type ({X} short)}</span> <!-- Click on this item removes it as filter + enables it in upper dropdown -->
                </div>
            </div>
        </div>
    </div>

    <div id="analyticsFilters" class="analytics-filters scrollable" ng-class="{'open' : dashboardFilter.selectedAnalyticsMenu === 'DISTRIBUTION' && dashboardFilter.showFilters }">
        <div class="wrapper">
            <div class="entry">
                <div class="select with-label">
                    <label for="analytics-chart">Chart type</label>
                    <select id="room-type" ng-model="dashboardFilter.chartType" ng-change="onChartTypeChanged()">
                <!-- <option value="" selected="" translate>SHOW_ALL</option> -->
                        <option value="{{::filter.code}}" ng-repeat="filter in ::dashboardFilter.chartTypes track by $index">{{::filter.name}}</option>
                    </select>
                </div>
                <div class="select with-label">
                    <label for="analytics-secondary-chart">Aggregated By</label>
                      <select id="room-type" ng-model="dashboardFilter.aggType" ng-change="onAggregationTypeChanged()">
                        <option value="" selected="" translate>None</option>
                        <option value="{{::filter.code}}" ng-repeat="filter in ::dashboardFilter.aggTypes track by $index">{{::filter.name}}</option>
                    </select>
                </div>
                <div id="chart-toggle" class="switch-button on">
                    <input id="distribution-switch" type="checkbox" checked="">
                    <label class="data-off">
                        <span class="value">Chart</span>
                        <span class="switch-icon">Grid</span>
                    </label>
                    <label class="data-on">
                        <span class="switch-icon">Chart</span>
                        <span class="value">Grid</span>
                    </label>
                </div>
            </div>
            <div class="entry">
                <div class="select with-label">
                    <label for="analytics-room-type">Room Type</label>
                    <select id="analytics-room-type" class="placeholder" ng-model="selectedFilters.roomType" data-js="tags" ng-change="distributionFilterAdded('ROOM_TYPE')">
                        <option value="">Select</option>
                        <option value="{{roomType.code}}" ng-repeat="roomType in availableRoomTypes | orderBy: name">{{roomType.name}}</option>
                    </select>
                </div>
                <!--<div class="multi-select with-label">
    <label for="analytics-room-type" data-target="#analytics-room-type" class="faux-select">
    <span class="label">Room Type</span>
    <strong>Showing All</strong>
    </label>
    <div id="analytics-room-type" class="faux-select-options hidden">
    <label class="checkbox inline checked">
    <span class="icon-form icon-checkbox"></span>
    <input id="all-room-types" value="all" type="checkbox" checked />
    All Room Types
    </label>
    <label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-0" type="checkbox" data-check   data-text="Standard Room"  />Standard Room</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-1" type="checkbox" data-check   data-text="Standard Double"  />Standard Double</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-2" type="checkbox" data-check   data-text="Deluxe Room"  />Deluxe Room</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-3" type="checkbox" data-check   data-text="Deluxe Twin"  />Deluxe Twin</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-4" type="checkbox" data-check   data-text="Deluxe Pool View"  />Deluxe Pool View</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-5" type="checkbox" data-check   data-text="Junior Suite"  />Junior Suite</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-6" type="checkbox" data-check   data-text="Deluxe Suite"  />Deluxe Suite</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-7" type="checkbox" data-check   data-text="King Suite"  />King Suite</label><label class="checkbox inline "><span class="icon-form icon-checkbox"></span><input data-list="analytics-room-type" value="room-type-8" type="checkbox" data-check   data-text="Superior King"  />Superior King</label>
    </div>
    </div>-->
                <div class="selected" data-list="analytics-room-type">
                    <span class="tag" ng-repeat="roomType in selectedFilters.roomTypes" ng-click="distributionFilterRemoved('ROOM_TYPE', roomType.code)">{{roomType.name}}</span>
                </div>
            </div>
            <div class="entry">
                <div class="select with-label">
                    <label for="analytics-market">Market</label>
                    <select id="analytics-market" class="placeholder" ng-model="selectedFilters.marketCode" data-js="tags" ng-change="distributionFilterAdded('MARKET')">
                        <option value="">Select</option>
                        <option value="{{market.value}}" ng-repeat="market in marketData | orderBy: name">{{market.name}}</option>
                    </select>
                </div>
                <div class="selected" data-list="analytics-market">
                    <!-- CASE 1 - Regular Room Type -->
                    <span class="tag" ng-repeat="market in selectedFilters.marketCodes" ng-click="distributionFilterRemoved('MARKET', market.value)">{{market.name}}</span> <!-- Click on this item removes it as filter + enables it in upper dropdown -->
                    <!-- CASE 2 - If Shortage Medium Alert 
                    <span class="tag alert-medium">{Room Type ({X} short)}</span> 
                    <span class="tag alert-high">{Room Type ({X} short)}</span>
                    ... repeat for every Room Type Selected-->
                </div>
            </div>
            <div class="entry">
                <div class="select with-label">
                    <label for="analytics-source">Source</label>
                    <select id="analytics-source" class="placeholder" ng-model="selectedFilters.sourceCode" data-js="tags" ng-change="distributionFilterAdded('SOURCE')">
                        <option value="">Select</option>
                        <option value="{{source.value}}" ng-repeat="source in sourceData | orderBy: name">{{source.name}}</option>
                    </select>
            </div>
            <div class="selected" data-list="analytics-source">
                 <span class="tag" ng-repeat="source in selectedFilters.sourceCodes" ng-click="distributionFilterRemoved('SOURCE', source.value)">{{source.name}}</span>
            </div>
        </div>
        <div class="entry">
            <div class="select with-label">
                <label for="analytics-segment">Segment</label>
                <select id="analytics-segment" class="placeholder" ng-model="selectedFilters.segmentCode" data-js="tags" ng-change="distributionFilterAdded('SEGMENT')">
                        <option value="">Select</option>
                        <option value="{{segment.value}}" ng-repeat="segment in segmentData | orderBy: name">{{segment.name}}</option>
                    </select>
            </div>
            <div class="selected" data-list="analytics-segment">
                 <span class="tag" ng-repeat="segment in selectedFilters.segmentCodes" ng-click="distributionFilterRemoved('SEGMENT', segment.value)">{{segment.name}}</span>
            </div>
        </div>
        <div class="entry">
            <div class="select with-label">
                <label for="analytics-origin">Origin</label>
                <select id="analytics-origin" class="placeholder" data-js="tags" ng-model="selectedFilters.originCode" ng-change="distributionFilterAdded('ORIGIN')">
                        <option value="">Select</option>
                        <option value="{{origin.value}}" ng-repeat="origin in originData | orderBy: name">{{origin.name}}</option>
                    </select>
            </div>
            <div class="selected" data-list="analytics-origin">
                 <span class="tag" ng-repeat="origin in selectedFilters.originCodes" ng-click="distributionFilterRemoved('ORIGIN', origin.value)">{{origin.name}}</span>
            </div>
        </div>
    </div>
</div>

</form>
