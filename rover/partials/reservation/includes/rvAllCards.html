<div id="additional-cards" class="cards" ng-class="cardCls()" role="complementary" ui-jq="resizable" ui-options="resizableOptions" ng-click="clickedOnGuestCard($event)"  ng-controller="RVReservationAllCardsCtrl"  style="height: {{guestCardHeight}}px;" resize>
    <div class="cards-wrapper" >
        
        <!-- Cards Header -->
        <header class="cards-header" >
           
            <!-- Guest Card Header-->
            <div id="guest-card-header" class="card-header" ng-class="UICardClass('guest-card')">
                <figure class="guest-image" ng-click="switchCard('guest-card')">
                    <img src="{{ cardHeaderImage }}" alt="" />
                    <span class="search-indicator"></span>
                </figure>
                <form method="get" action="" name="search-guests" id="search-guests" class="card-search-form" role="search">
                    <div class="holder">
                        <div class="entry" ng-click="openGuestCard()">
                            <input name="gc-firstname" id="gc-firstname" placeholder="First Name" type="text" class="masked-input fixed name h1" rv-delay-textbox ng-model="guestFirstName" delay="1000" function-to-fire="searchGuest" />

                            <!-- Value in this input means we've searched for "Smi" in intial search screen -->
                            <input name="gc-lastname" id="gc-lastname" placeholder="Last Name" type="text" class="masked-input fixed name h1" rv-delay-textbox ng-model="guestLastName" delay="1000" function-to-fire="searchGuest" />
                            <!-- TODO: REMOVE inline display:block for the below 2 input elements, once the drawer open/close is captured -->
                            <input name="gc-city" id="gc-city" placeholder="City" type="text" class="masked-input fixed city h1" rv-delay-textbox ng-model="guestCity" delay="1000" function-to-fire="searchGuest" />
                            <input name="gc-loyalty" id="gc-loyalty" placeholder="Loyalty Number" type="text" class="masked-input fixed loyalty h1" rv-delay-textbox ng-model="guestLoyaltyNumber" delay="1000" function-to-fire="searchGuest" />
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- Company Card Header-->
            <div id="company-card-header" class="card-header" ng-class="UICardClass('company-card')">
                <div class="guest-image icons icon-company" ng-click="switchCard('company-card')">
                    Add <span>Company</span>
                </div>
                <form method="get" action="" name="search-company" id="search-company" class="card-search-form" role="search">
                    <div class="holder">
                        <div class="entry" ng-click="openGuestCard()">
                            <input name="cc-name" id="cc-name" placeholder="Company Name" type="text" class="masked-input fixed long-name h1" rv-delay-textbox ng-model="companyName" delay="1000" function-to-fire="searchCompany" />
                            <input name="cc-city" id="cc-city" placeholder="City" type="text" class="masked-input fixed city h1" rv-delay-textbox ng-model="companyCity" delay="1000" function-to-fire="searchCompany"/>
                            <input name="cc-corporate-id" id="cc-corporateid" placeholder="Corporate ID" type="text" class="masked-input fixed code h1" rv-delay-textbox ng-model="companyCorpId" delay="1000" function-to-fire="searchCompany" />
                        </div>
                    </div>
                </form>
            </div> 
            
            <!-- Travel Agent Card Header-->
            <div id="travel-agent-card-header" class="card-header" ng-class="UICardClass('travel-agent-card')">
                <div class="guest-image icons icon-travel-agent" ng-click="switchCard('travel-agent-card')">
                    Add <span>Travel Agent</span>
                </div>
                <form method="get" action="" name="search-travel-agent" id="search-travel-agent" class="card-search-form" role="search">
                    <div class="holder">
                        <div class="entry" ng-click="openGuestCard()">
                            <input name="tac-name" id="tac-name" placeholder="Travel Agent" type="text" class="masked-input fixed long-name h1" rv-delay-textbox ng-model="travelAgentName" delay="1000" function-to-fire="searchTravelAgent" />
                            <input name="tac-city" id="tac-city" placeholder="City" type="text" class="masked-input fixed city h1" rv-delay-textbox ng-model="travelAgentCity" delay="1000" function-to-fire="searchTravelAgent" />
                            <input name="tac-iata" id="tac-iata" placeholder="IATA #" type="text" class="masked-input fixed code h1" rv-delay-textbox ng-model="travelAgentIATA" delay="1000" function-to-fire="searchTravelAgent" />
                        </div>
                    </div>
                </form>
            </div>
        </header>
        
        <!-- Cards Content -->
        <div class="cards-content">
            
            <!-- Guest Card Content-->            
            <div id="guest-card-content" class="card-search card-content" ng-class="UICardContentCls('guest-card')">
                <strong class="results-count" ng-show="guests.length > 0">{{ guests.length }} possible matches</strong>
                <button id="new-guest" type="button" class="button green has-arrow skip" ng-click="createNewGuest()">New Guest</button>
                <div id="search-guests-content" class="search-cards scrollable">
                    <!-- Guest Card Results listing -->
                    <div class="wrapper" ng-show="guestSearchIntiated && guests.length > 0" style="height:100%; overflow: hidden;" ng-iscroll="guestResultScroll">
                        <ul id="search-guests-results" class="search-results">
                            <li ng-repeat="guest in guests">
                                <a ng-click="selectGuest(guest, $event)">
                                    <figure class="guest-image">
                                        <img src="{{ guest.image }}" alt="" />
                                    </figure>
                                    <div class="data">
                                        <h2>
                                            <span class="no-right-margin" ng-bind-html="'{{ guest.firstName }}'|highlight:guestFirstName:false">
                                            </span>,
                                            <span ng-bind-html="' {{ guest.lastName }}'|highlight:guestLastName:false">
                                            </span>
                                        </h2>
                                        <span class="confirmation">{{ guest.address.postalCode}}</span>
                                        <span class="icons icon-location">
                                            <span class="no-right-margin" ng-bind-html="'{{guest.address.city}}'|highlight:guestCity:false"></span>
                                            <span class="no-right-margin comma" ng-hide="guest.address.city == null">, </span>
                                            <span class="no-right-margin">{{ guest.address.state }}</span>
                                        </span>
                                        <span class="icons icon-phone">{{ guest.phone }}</span>
                                    </div>
                                    <div class="stays">
                                        <div class="count">
                                            <span class="label">Stays</span>{{ guest.stayCount }}
                                        </div>
                                        <div class="last-stay">
                                            <span class="label">Last</span>
                                            {{ guest.lastStay.date | date: 'MMMM d, yyyy'}}
                                            <strong>{{ guest.lastStay.room }}</strong>
                                            <em>{{ guest.lastStay.roomType }}</em>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                
                    <div class="search-cards no-content">
                        <!-- Guest Card No Results -->
                        <div class="info" ng-show="guestSearchIntiated && guests.length === 0">
                            <span class="icon-no-content icon-guest"></span>
                            <strong class="h1">No Matches</strong>
                            <span class="h2">Check that you didn't mispell the <strong>Name</strong>, <strong>City</strong> or <strong>Loyalty No.</strong>.</span>
                        </div>
                        <!-- Guest Card Empty -->
                        <div class="info" ng-hide='guestSearchIntiated'>
                            <span class="icon-no-content icon-guest"></span>
                            <strong class="h1">Find Guest</strong>
                            <span class="h2">Search by <strong>Name</strong>, <strong>Group</strong>, <strong>Room No.</strong> or <strong>Confirmation No.</strong></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Company Card Content-->
            <div id="company-card-content" class="card-search card-content" ng-class="UICardContentCls('company-card')">
            <button id="new-guest" type="button" class="button green has-arrow skip" ng-click="createNewCompany()">New Card</button>
                <div id="search-company-content" class="search-cards scrollable">
                    <!-- Company Card Results listing -->
                    <div class="wrapper" ng-show="companySearchIntiated && companies.length > 0" style="height:100%; overflow: hidden;" ng-iscroll="companyResultScroll">
                        <ul id="search-company-results" class="search-results">
                            <li ng-repeat="company in companies">
                                <a ng-click="selectCompany(company, $event)" class="card-result">
                                    <figure class="guest-image">
                                        <img src="{{ company.logo }}" alt="" />
                                    </figure>
                                    <div class="data">
                                        <div class="info">
                                            <h2 ng-bind-html="'{{ company.firstName }} {{ company.lastName }}'|highlight:companyName:false"></h2>
                                            <div class="rate"><span class="label">Rate</span> {{ company.rate }}</div>
                                        </div>
                                        <span class="confirmation">{{ company.address.postalCode }}</span>
                                        <span class="icons icon-location">
                                            <span class="no-right-margin" ng-bind-html="'{{ company.address.city }}'|highlight:companyCity:false"></span>
                                            <span class="no-right-margin comma" ng-hide="company.address.city == null">, </span>
                                            <span class="no-right-margin">{{ company.address.state }}</span>
                                        </span>
                                        <span class="icons icon-phone">{{ company.phone }}</span>
                                        <span class="icons icon-email-grey">{{ company.email }}</span>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    
                    <div id="search-company-no-results" class="search-cards no-content">
                        <!-- Company Card No Results -->
                        <div class="info" ng-show="companySearchIntiated && companies.length === 0">
                            <span class="icon-no-content icon-cards"></span>
                            <strong class="h1">No Matches</strong>
                            <span class="h2">Check that you didn't mispell the <strong>Company Name</strong>, <strong>City</strong> or <strong>Corporate ID</strong>.</span>
                        </div>
                        <!-- Company Card Empty -->
                        <div class="info" ng-hide='companySearchIntiated'>
                            <span class="icon-no-content icon-cards"></span>
                            <strong class="h1">Find Company</strong>
                            <span class="h2">Search by <strong>Name</strong>, <strong>City</strong> or <strong>Loyalty No.</strong></span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Travel Agent Card Content-->
            <div id="travel-agent-card-content" class="card-search card-content" ng-class="UICardContentCls('travel-agent-card')">
            <button id="new-guest" type="button" class="button green has-arrow skip" ng-click="createNewTravelAgent()">New Card</button>
                <div id="search-travel-agent-content" class="search-cards scrollable">
                    <!-- Travel Agent Card Results listing -->
                    <div class="wrapper" ng-show="travelAgentSearchIntiated && travelAgents.length > 0" style="height:100%; overflow: hidden;" ng-iscroll="travelAgentResultScroll">
                        <ul id="search-travel-agent-results" class="search-results">
                            <li ng-repeat="travelAgent in travelAgents">
                                <a ng-click="selectTravelAgent(travelAgent, $event)" class="card-result">
                                    <figure class="guest-image">
                                        <img src="{{ travelAgent.logo }}" alt="" />
                                    </figure>
                                    <div class="data">
                                        <div class="info">
                                            <h2 ng-bind-html="'{{ travelAgent.firstName }} {{ travelAgent.lastName }}'|highlight:travelAgentName:false"></h2>
                                            <div class="rate"><span class="label">Rate</span> {{ travelAgent.rate }}</div>
                                        </div>
                                        <span class="confirmation">{{ travelAgent.address.postalCode }}</span>
                                        <span class="icons icon-location">
                                            <span class="no-right-margin" ng-bind-html="'{{ travelAgent.address.city }}'|highlight:travelAgentCity:false"></span>
                                            <span class="no-right-margin comma" ng-hide="travelAgent.address.city == null">, </span>
                                            <span class="no-right-margin">{{ travelAgent.address.state }}</span>
                                        </span>
                                        <span class="icons icon-phone">{{ travelAgent.phone }}</span>
                                        <span class="icons icon-email-grey">{{ travelAgent.email }}</span>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div id="search-travel-agent-no-results" class="search-cards no-content">
                        <!-- Travel Agent Card No Results -->
                        <div class="info" ng-show="travelAgentSearchIntiated && travelAgents.length === 0">
                            <span class="icon-no-content icon-cards"></span>
                            <strong class="h1">No Matches</strong>
                            <span class="h2">Check that you didn't mispell the <strong>Trave Agent Name</strong>, <strong>City</strong> or <strong>IATA #</strong></span>
                        </div>
                        <!-- Travel Agent Card Empty -->
                        <div class="info" ng-hide="travelAgentSearchIntiated">
                            <span class="icon-no-content icon-cards"></span>
                            <strong class="h1">Find Travel Agent</strong>
                            <span class="h2">Search by <strong>Travel Agent Name</strong>, <strong>City</strong>, or <strong>IATA #</strong></span>
                        </div>
                    </div>
                </div>
            </div>  
        </div>
    </div>
</div>