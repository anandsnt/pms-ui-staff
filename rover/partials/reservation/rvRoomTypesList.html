<section id="rooms-and-rates" class="content reservations-inner" >

    <ul class="reservation-header" id="rooms-and-rates-header">
        <li ng-repeat = "room in rooms" class="load-room" ng-class="{'active': $index == activeRoom , 'hidden' : rooms.length < 2}"> ROOM {{$index + 1}}</li>
    </ul>
    <div id="rooms-and-rates-content" class="reservations-content-wrapper">
        <div class="reservation-filters">
            <div id="change-room-type" class="select">
                <select name="room-1-type" id="room-1-type">
                    <option value="all-rooms" selected>All Room Types</option>
                    <option value="deluxe-room">Deluxe Room</option>
                    <option value="deluxe-twin">Deluxe Twin</option>
                    <option value="junior-suite">Junior Suite</option>
                    <option value="standard-room">Standard Room</option>
                </select>
            </div>
            <ul id="filter-rooms-and-rates">
                <li id="show-recommended" ng-class="{active: activeCriteria =='RECOMMENDED'}" ng-click="activeCriteria='RECOMMENDED'">Recommended</li>
                <li id="show-type" ng-class="{active: activeCriteria == 'ROOM_TYPE'}" ng-click="activeCriteria='ROOM_TYPE'">Room Type</li>
                <li id="show-rate" ng-class="{active: activeCriteria == 'RATE'}" ng-click="activeCriteria= 'RATE'">Rate</li>
            </ul>
        </div>

        <div id="room-and-rate-types" class="reservation-content rooms-and-rates-content scrollable">
            <ul ng-if="activeCriteria == 'RECOMMENDED'" class="rooms-and-rates wrapper">

                <li >
                    THIS VIEW IS CURRENTLY NOT AVAILABLE
                </li>   
            </ul>

            <ul class="rooms-and-rates wrapper" style="height: 300px;
            overflow-y: scroll;" ng-if="activeCriteria == 'ROOM_TYPE'">
            <li ng-repeat= "room in rooms[activeRoom].room_type">
                <a class="has-arrow toggle" ng-class="{active: selectedRoomType == $index}" ng-click="setSelectedType($index)">
                    <div class="data">
                        <h2>{{room.category_name}}</h2>
                    </div>
                    <div class="book-rate" ng-class="{hidden: selectedRoomType == $index}">
                        <h4>Best Available Rate</h4>
                        <div class="price">$149<span>Avg. Rate per night</span></div>
                        <button class="button green">Book</button>
                    </div>
                </a>
                <ul class="rates" ng-class="{hidden: selectedRoomType != $index}">
                    <li ng-repeat="rate in room.rates">
                        <a class="has-arrow toggle" ng-init="isActive=false" ng-click="isActive = !isActive">
                            <h3>{{rate.rate_name}}</h3>
                            <div class="price">
                                $149
                                <span>Avg. Rate per night</span>
                            </div>
                            <button class="button green">Book</button>
                        </a>
                        <div class="rate-details" ng-class="{hidden: !isActive}">
                            <ul class="info">
                                <li ng-repeat = "summary in rate.summary">Winter Promotional Rate - Room Only. Taxes included. Different daily rates listed.</li>
                            </ul>
                            <table class="room-cost">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Rate</th>
                                        <th>Tax({{tax}}%)</th>
                                        <th>Total</th>
                                        <th class="edit"></th>
                                    </tr>
                                </thead>
                                <tfoot>
                                    <tr>
                                        <td colspan="3" class="total-label">Total Room Cost</td>
                                        <td class="total-value">$447</td>
                                        <td class="edit" ng-hide="true  ">
                                            <a href="modals/apply-discount/" class="open-modal button with-icon only-icon purple edit">
                                                <span class="icons icon-pencil"></span>
                                            </a>
                                        </td>
                                    </tr>
                                </tfoot>
                                <tbody>
                                    <tr ng-repeat = "breakdown in rate.rate_breakdown track by $index">
                                        <td>Wednesday, 15-01-2014</td>
                                        <td>$100.00</td>
                                        <td>$49.00</td>
                                        <td>$149.00</td> 
                                        <td class="edit"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                    </li>
                </li>
            </ul>
            <ul ng-if="activeCriteria == 'RATE'">
                <li >
                    THIS VIEW IS CURRENTLY NOT AVAILABLE
                </li>
            </ul>
        </div>
    </div>
</section>