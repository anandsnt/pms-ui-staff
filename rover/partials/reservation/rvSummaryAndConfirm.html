<!-- Content -->
<div ng-include="'/assets/partials/common/header.html'"></div>
<section id="details-and-payment" class="content reservations-inner">
    <div id="details-and-payment-content" class="reservations-content-wrapper">
        <div id="reservation-summary" class="reservation-summary scrollable" ng-iscroll='reservationSummary'>
            <div class="wrapper"> 
                <h2 translate>RESERVATION_SUMMARY</h2>
                <ul class="data">
                    <li><span class="guest-status room" translate>ROOMS</span>
                        <span>{{reservationData.roomCount}}</span>
                        <span ng-if="reservationData.roomCount === 1" translate>ROOM</span>
                        <span ng-if="reservationData.roomCount !== 1" translate>ROOMS</span>
                    </li>
                    <li>
                        <span class="guest-status nights" translate>NIGHTS</span>
                        <span>{{reservationData.numNights}}</span>
                        <span ng-if="reservationData.numNights === 1" translate> NIGHT</span>
                        <span ng-if="reservationData.numNights !== 1" translate> NIGHTS</span>
                    </li>
                </ul>
                <div class="stay-dates">
                    <div class="check-in-dates">
                        <span class="guest-status small-icon check-in">check-in</span>
                        {{getSimplifiedDayName(reservationData.arrivalDate)}}, {{reservationData.arrivalDate | date:mmddyyyyFormat}}
                        <div class="check-data icons icon-time time-in">
                            <div class="select hour">
                                <select name="check-in" class="placeholder" ng-model="reservationData.checkinTime.hh">
                                    <option value="" selected>HH</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                            </div>
                            <div class="select minutes">
                                <select name="check-in" class="placeholder"ng-model="reservationData.checkinTime.mm">
                                    <option value="00">00</option>
                                    <option value="15">15</option>
                                    <option value="30">30</option>
                                    <option value="45">45</option>
                                </select>
                            </div>
                            <div class="select ampm">
                                <select name="check-in" class="placeholder" ng-model="reservationData.checkinTime.ampm">
                                    <option value="AM">AM</option>
                                    <option value="PM">PM</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="check-out-dates">
                        <span class="guest-status small-icon check-out">check-out</span>
                        {{getSimplifiedDayName(reservationData.departureDate)}}, {{reservationData.departureDate | date:mmddyyyyFormat}}
                        <div class="check-data icons icon-time time-out">
                            <div class="select hour">
                                <select name="check-out" class="placeholder" ng-model="reservationData.checkoutTime.hh">
                                    <option value="" selected>HH</option>
                                    <option value="01">01</option>
                                    <option value="02">02</option>
                                    <option value="03">03</option>
                                    <option value="04">04</option>
                                    <option value="05">05</option>
                                    <option value="06">06</option>
                                    <option value="07">07</option>
                                    <option value="08">08</option>
                                    <option value="09">09</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                            </div>
                            <div class="select minutes">
                                <select name="check-out" class="placeholder" ng-model="reservationData.checkoutTime.mm">
                                    <option value="00">00</option>
                                    <option value="15">15</option>
                                    <option value="30">30</option>
                                    <option value="45">45</option>
                                </select>
                            </div>
                            <div class="select ampm">
                                <select name="check-out" class="placeholder" ng-model="reservationData.checkoutTime.ampm">
                                    <option value="AM">AM</option>
                                    <option value="PM">PM</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- This here is dynamic content, depending on actual room booked -->
                <div class="rooms" ng-repeat="room in reservationData.rooms">
                    <div class="title">
                        <span translate>ROOM</span>
                        {{$index + 1}}
                        <div class="count">
                            <span><span class="label" translate>ADULTS</span>{{room.numAdults}}</span>
                            <span><span class="label" translate>CHILDREN</span>{{room.numChildren}}</span>
                            <span><span class="label" translate>INFANTS</span>{{room.numInfants}}</span>
                        </div>
                    </div>
                    <div class="room-type">
                        <h4>{{room.roomTypeName}}<span></span></h4>
                    </div>
                    <ul class="rate-and-enhancements">
                        <li>
                            <em>{{room.rateName}}</em>
                            <span class="price">
                                {{currencySymbol}}{{room.rateAvg}}
                                <span translate>AVG_NIGHT</span>
                                <span class="total">{{currencySymbol}}{{room.rateTotal}}</span>
                            </span>
                        </li>
                        <li ng-repeat='addon in room.addons'>
                            <em>{{addon.title}}</em>
                            <span class="price">
                                {{currencySymbol}}{{ addon.price }}
                                <span translate>EACH</span>
                                <span class="total">{{currencySymbol}}{{ addon.quantity * addon.price}}</span>
                            </span>
                        </li>
                    </ul>
                </div>
                <ul class="total-stay-cost">
                    <li><span class="label" translate>TAX</span>{{currencySymbol}}{{reservationData.totalTaxAmount}}</li>
                    <li><span class="label" translate>TOTAL_STAY_COST</span><strong>{{currencySymbol}}{{reservationData.totalStayCost}}</strong></li>
                </ul>
            </div> 
        </div>
        <form class="form payment-info scrollable" ng-iscroll='paymentInfo'>
            <div class="wrapper">
                <div ng-include="'/assets/partials/common/notification_message.html'"></div>
                <div class="entry margin">
                    <label for="firstname" translate>FIRST_NAME</label>
                    <input name="firstname" type="text" ng-model="reservationData.guest.firstName">
                </div>
                <div class="entry">
                    <label for="lastname" translate>LAST_NAME</label>
                    <input name="lastname" type="text" ng-model="reservationData.guest.lastName">
                </div>
                <div class="entry full-width">
                    <label for="email" translate>EMAIL_ADDRESS</label>
                    <input name="email" type="email" ng-model="reservationData.guest.email">
                    <label class="checkbox inline">
                        <span class="icon-form icon-checkbox" ng-class="{'checked' : data.isConfirmationEmailSameAsGuestEmail}"></span>
                        <input name="send-confirmation" value="send-confirmation" type="checkbox" ng-model="data.isConfirmationEmailSameAsGuestEmail" ng-change="confirmEmailCheckboxClicked()"/>
                        <span translate>SEND_CONFIRM_EMAIL_TO_ADDRESS</span>
                    </label>
                </div>
                <div class="entry full-width" ng-class="{'hidden' : data.isConfirmationEmailSameAsGuestEmail}">
                    <label for="email-secondary" translate>RECEIVE_CONFIRM_EMAIL_TO_ADDRESS</label>
                    <input name="email-secondary" type="email" ng-model="reservationData.guest.sendConfirmMailTo">
                </div>
                <div class="entry full-width">
                    <label for="payment-type" translate>PAYMENT_TYPE</label>
                    <div class="select">
                        <select class="placeholder" ng-model="reservationData.paymentType.type"
                            ng-options="paymentMethod as paymentMethod.description for paymentMethod in data.paymentMethods" ng-change="refreshPaymentScroller()">
                            <option value="" selected translate>SELECT_PAYMENT_TYPE</option>
                        </select>
                    </div>
                </div>
                <div data-type="credit-card-fields" class="entry card-number-large margin" ng-show= "reservationData.paymentType.type.name == 'CC'">
                    <label for="card-number-set1" translate>CREDIT_CARD</label>
                    <input name="card-number-set1" type="text" ng-model="reservationData.paymentType.ccDetails.number"/>
                </div>
                <div data-type="credit-card-fields" class="entry card-number-small" ng-show= "reservationData.paymentType.type.name == 'CC'">
                    <label for="expiry-month"><span translate>EXPIRATION_DATE</span> (<span>MM YY</span>)</label>
                    <input name="expiry-month" placeholder="" maxlength="2" size="2" type="text" ng-model="reservationData.paymentType.ccDetails.expMonth"/>
                    <input name="expiry-year" placeholder=""  maxlength="2" size="2" type="text" ng-model="reservationData.paymentType.ccDetails.expYear"/>
                </div>
                <div data-type="credit-card-fields" class="entry full-width" ng-show= "reservationData.paymentType.type.name == 'CC'">
                    <label for="name-on-card" translate>NAME_ON_CARD</label>
                    <input name="name-on-card" id="name-on-card" value="" type="text" ng-model="reservationData.paymentType.ccDetails.nameOnCard"/>
                </div>
                <div class="actions">
                    <button class="button green" type="button" translate ng-click ="submitReservation()">SUBMIT_RESERVATION</button>
                    <button class="button blank" type="button" ng-click="cancelButtonClicked()" translate>CANCEL</button>
                </div>
            </div> 
        </form>
    </div>
</section>