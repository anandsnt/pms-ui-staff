<div class="invoice-logo">
    <h1>Invoice</h1>
    <img ng-src= "{{userInfo.logo}}" alt="" />
</div>
<table class="guest-info">
    <tbody>
        <tr ng-if="!!groupConfigData">
            <th>Group Name</th>
            <th>Group Code</th>
            <th>Arrival Date</th>
            <th>Departure Date</th>
        </tr>
        <tr ng-if="!!groupConfigData">
            <td>{{groupConfigData.summary.group_name}}</td>
            <td>{{groupConfigData.summary.group_code}}</td>
            <td>{{groupConfigData.summary.block_from}}</td>
            <td>{{groupConfigData.summary.block_to}}</td>
        </tr>
        <tr ng-if="!groupConfigData">
            <th>Account Name</th>
        </tr>
        <tr ng-if="!groupConfigData">
            <td>{{accountConfigData.summary.posting_account_name}}</td>
        </tr>
        <tr>
            <th>Company</th>
            <th>Travel Agent</th>
            <th>Invoice No.</th>
        </tr>
        <tr>
            <td ng-if="!!groupConfigData">{{groupConfigData.summary.company.name}}</td>
            <td ng-if="!!groupConfigData">{{groupConfigData.summary.travel_agent.name}}</td>
            <td ng-if="!groupConfigData">{{accountConfigData.summary.company.name}}</td>
            <td ng-if="!groupConfigData">{{accountConfigData.summary.travel_agent.name}}</td>
            <td>{{billData.bill_number}}</td>
        </tr>
    </tbody>
</table>
<div class="invoice-header" ng-hide="true">
    <!-- Don't ouput if header is not defined -->
    <!-- Header text hidden for now as not applicable -->
</div>
<div class="invoice-body">
    <p class="date"><strong>Invoice date</strong>{{invoiceDate | date:dateFormat}}</p>
    <table class="invoice-details">
        <caption>
            {{currentHotelData.name}}
            <span ng-if="transactionsDetails.show_hotel_address">{{transactionsDetails.hotel_details.hotel_address}}</span>
        </caption>
        <thead>
            <tr>
                <th>Date of Charge</th>
                <th>Charge Code</th>
                <th>Charge description</th>
                <th class="align-right">Charge amount</th>
                <th class="align-right">Credit amount</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <td colspan="4"><strong>Total Charge</strong></td>
                <td><strong>{{currencySymbol}}{{billData.total_amount | number:2}}</strong></td>
            </tr>
            <tr>
                <td colspan="4"><strong>Total Credits</strong></td>
                <td><strong>{{currencySymbol}}{{billData.total_payments | number:2}}</strong></td>
            </tr>
            <tr>
                <td colspan="4"><strong>Balance</strong></td>
                <td><strong>{{currencySymbol}}{{billData.total_fees.balance_amount | number:2}}</strong></td>
            </tr>
            <tr>
                <td colspan="4">Net Amount</td>
                <td>{{currencySymbol}}{{billData.net_amount | number:2}}</td>
            </tr>
            <tr ng-repeat="tax in billData.tax_info">
                <td colspan="4">{{tax.location}}</td>
                <td>{{currencySymbol}}{{tax.amount | number : 2}}</td>
            </tr>            
            <tr>
                <td colspan="4">Total Incl Tax</td>
                <td>{{currencySymbol}}{{billData.total_incl_tax | number:2}}</td>
            </tr>
        </tfoot>
        <tbody>
            <tr ng-repeat="charge in billData.total_fees.fees_details">
                <td>{{charge.date | date:dateFormat}}</td>
                <td>{{charge.description[0].charge_code}}</td>
                <td class="description">
                    <span>{{charge.description[0].fees_desc}}</span>
                    <span class="reference">{{charge.reference_text}}</span>
                </td>
                <td class="align-right" ng-show="!!charge.description[0].fees_amount">{{currencySymbol}}{{charge.description[0].fees_amount | number: 2}}</td>
                <td class="align-right" ng-show="!!charge.credits">{{currencySymbol}}{{charge.credits | number: 2}}</td>
            </tr>
        </tbody>
    </table>
</div>
<div class="invoice-footer" ng-show="!!transactionsDetails.hotel_details.custom_text_footer">
    <!-- Don't ouput if footer is not defined -->
    <!-- Footer text hidden for now as not applicable -->
    {{transactionsDetails.hotel_details.custom_text_footer}}
</div>
