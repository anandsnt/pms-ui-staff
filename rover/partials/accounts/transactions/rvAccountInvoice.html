<div class="invoice-logo">
    <h1>Invoice</h1>
    <img ng-src= "{{userInfo.logo}}" alt="" />
</div>
<table class="guest-info">
    <tbody>
        <tr ng-if="!!groupConfigData">
            <th>Group Name</th>
            <th>Group Code</th>
            <th>Arrival Date</th>
            <th>Departure Date</th>
        </tr>
        <tr ng-if="!!groupConfigData">
            <td>{{groupConfigData.summary.group_name}}</td>
            <td>{{groupConfigData.summary.group_code}}</td>
            <td>{{groupConfigData.summary.block_from | date:dateFormat}}</td>
            <td>{{groupConfigData.summary.block_to | date:dateFormat}}</td>
        </tr>
        <tr ng-if="!groupConfigData">
            <th>Account Name</th>
        </tr>
        <tr ng-if="!groupConfigData">
            <td>{{accountConfigData.summary.posting_account_name}}</td>
        </tr>
        <tr>
            <th>Company</th>
            <th>Travel Agent</th>
            <th>Invoice No.</th>
        </tr>
        <tr>
            <td ng-if="!!groupConfigData">{{groupConfigData.summary.company.name}}</td>
            <td ng-if="!!groupConfigData">{{groupConfigData.summary.travel_agent.name}}</td>
            <td ng-if="!groupConfigData">{{accountConfigData.summary.company.name}}</td>
            <td ng-if="!groupConfigData">{{accountConfigData.summary.travel_agent.name}}</td>
            <td>{{printData.invoice_number}}</td>
        </tr>
    </tbody>
</table>
<div class="invoice-header" ng-hide="true">
    <!-- Don't ouput if header is not defined -->
    <!-- Header text hidden for now as not applicable -->
</div>
<div class="invoice-body">
    <p class="date"><strong>Invoice date</strong>{{printData.invoice_date | date:dateFormat}}</p>
    <table class="invoice-details">
        <caption>
            {{printData.hotel_name}}
            <span ng-if="printData.show_hotel_address">{{printData.hotel_address}}</span>
        </caption>
        <thead>
            <tr>
                <th>Date of Charge</th>
                <th>Charge Code</th>
                <th>Charge description</th>
                <th class="align-right">Charge amount</th>
                <th class="align-right">Credit amount</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <td colspan="4"><strong>Total Charge</strong></td>
                <td><strong>{{currencySymbol}}{{printData.bill_transactions_info.total_charge | number:2}}</strong></td>
            </tr>
            <tr>
                <td colspan="4"><strong>Total Credits</strong></td>
                <td><strong>{{currencySymbol}}{{printData.bill_transactions_info.total_credits | number:2}}</strong></td>
            </tr>
            <tr>
                <td colspan="4"><strong>Balance</strong></td>
                <td><strong>{{currencySymbol}}{{printData.bill_transactions_info.balance | number:2}}</strong></td>
            </tr>
            <tr>
                <td colspan="4">Net Amount</td>
                <td>{{currencySymbol}}{{printData.bill_transactions_info.net_amount | number:2}}</td>
            </tr>
            <tr ng-if="!printData.has_enabled_extended_tax_breakdown" ng-repeat="tax in printData.bill_transactions_info.tax_info">
                <td colspan="4">{{tax.location}}</td>
                <td>{{currencySymbol}}{{tax.amount | number : 2}}</td>
            </tr>
            <tr>
                <td colspan="4">Total Incl Tax</td>
                <td>{{currencySymbol}}{{printData.bill_transactions_info.total_incl_tax | number:2}}</td>
            </tr>
        </tfoot>
        <tbody>
            <tr ng-repeat="charge in printData.bill_transactions_info.fees_details">
                <td>{{charge.date | date:dateFormat}}</td>
                <td>{{charge.description.charge_code}}</td>
                <td class="description">
                    <span>{{charge.description.fees_desc}}</span>
                    <span class="reference">{{charge.reference_text}}</span>
                </td>
                <td class="align-right"><span ng-show="!!charge.description.fees_amount">{{currencySymbol}}{{charge.description.fees_amount | number: 2}}</span></td>
                <td class="align-right"><span ng-show="!!charge.credits">{{currencySymbol}}{{charge.credits | number: 2}}</span></td>
            </tr>
        </tbody>
    </table>
</div>

<table class="invoice-details extended-tax-table" ng-if="printData.has_enabled_extended_tax_breakdown">
    <thead>
        <tr>
            <th class="text-align-left" translate>TAX_DESCRIPTION</th>
            <th translate>GROSS</th>
            <th translate>NET</th>
            <th translate>TAX</th>
        </tr>
    </thead>

    <tbody>
        <tr ng-repeat="item in printData.extended_tax_breakdown.details">
            <td class="text-align-left">{{ item.description }}</td>
            <td>{{currencySymbol}}{{ item.gross_amount | number: precisonTwo }}</td>
            <td>{{currencySymbol}}{{ item.net_amount | number: precisonTwo }}</td>
            <td>{{currencySymbol}}{{ item.tax_amount | number: precisonTwo }}</td>
        </tr>

    </tbody>

    <tfoot>
        <tr>
            <td class="text-align-left" translate>TOTAL</td>
            <td>{{currencySymbol}}{{ printData.extended_tax_breakdown.total_gross_amount | number: precisonTwo }}</strong></td>
            <td>{{currencySymbol}}{{ printData.extended_tax_breakdown.total_net_amount | number: precisonTwo }}</td>
            <td>{{currencySymbol}}{{ printData.extended_tax_breakdown.total_tax_amount | number: precisonTwo }}</td>
        </tr>
    </tfoot>           
</table>

<div class="invoice-footer" ng-show="!!printData.custom_text_footer">
    <!-- Don't ouput if footer is not defined -->
    <!-- Footer text hidden for now as not applicable -->
    {{printData.custom_text_footer}}
</div>
