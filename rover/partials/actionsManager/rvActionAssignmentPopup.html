<div id="modal" class="modal-show" ng-class="{'modal-show': !modalClosing}" role="dialog" ng-cloak>
    <form method="post" action="" id="action-new" class="modal-content form actions-form">
        <button class="modal-close" id="modal-close" type="button" ng-click="closeDialog()">
            <span class="icons icon-close invert"></span>
        </button>
 
        <span class="h2 message" ng-show="!selectedAction.assigned_to.name">Assign</span>
        <span class="h2 message"ng-show="!!selectedAction.assigned_to.name">Re-Assign</span>
        <div class="entry full-width">
            <label for="department">Assign to Department</label>
            <div class="select">
                <select ng-model="selectedAction.department" id="department"
                        ng-class="{'placeholder': !selectedAction.department}">
                    <option value="" ng-if="!selectedAction.department">Select Department</option>
                    <option value="{{department.value}}" ng-selected="selectedAction.department == department.value"
                            ng-repeat="department in departments">
                        {{department.name}}
                    </option>
                </select>
            </div>
        </div>

        <div class="actions">
            <button type="button" ng-show="!selectedAction.assigned_to.name" class="button grey" ng-class="{'brand-colors': selectedAction.department}" ng-click="updateAction()"
                    ng-disabled="!selectedAction.department">Assign
            </button>
            <button type="button" ng-show="!!selectedAction.assigned_to.name" class="button grey" ng-class="{'brand-colors': selectedAction.department}" ng-click="updateAction()"
                    ng-disabled="!selectedAction.department">Re-Assign
            </button>
            <button type="button" class="button blank" ng-click="closeDialog()">Cancel</button>
        </div>
    </form>
</div>