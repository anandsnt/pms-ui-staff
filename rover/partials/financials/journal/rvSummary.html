<!-- Print header -->
<ul class="journal-header-print summary">
    <li>
        <span>Summary</span>
        {{'BAL_AS_OF_EOD' | translate}}
        <span>{{ data.summaryDate | date : 'MMMM d, y'}}</span>
    </li>
</ul>

<!-- Content -->
<div ng-controller="RVJournalSummaryController" id="journal-content" ng-iscroll='summary_content' class="journal-content summary scrollable">
    <div class="wrapper">
        <div class="journal-summary first">
            <h3 ng-if="(data.summaryData.deposit_debits !== 0 || data.summaryData.deposit_credits !== 0)" class="has-arrow toggle" ng-class="{'active': data.summaryData.deposit_balance.active }" ng-click="toggleJournalSummaryItem('DEPOSIT_BALANCE')" translate>DEPOSIT_BAL</h3>
            <h3 ng-if="(data.summaryData.deposit_debits === 0 && data.summaryData.deposit_credits === 0)" translate>DEPOSIT_BAL</h3>
            <ul>
                <li>{{'OPENING' | translate}}<span>{{currencySymbol}}{{data.summaryData.deposit_opening_balance | number: precisonTwo }}</span></li>
                <li>{{'DEBIT' | translate}}<span>{{currencySymbol}}{{data.summaryData.deposit_debits | number: precisonTwo }}</span></li>
                <li>{{'CREDIT' | translate}}<span>{{currencySymbol}}{{data.summaryData.deposit_credits | number: precisonTwo }}</span></li>
                <li>{{'CLOSING' | translate}}<span>{{currencySymbol}}{{data.summaryData.deposit_closing_balance | number: precisonTwo }}</span></li>
            </ul>
        </div>

        <div class="journal-grid print-details" ng-show="data.summaryData.deposit_balance.active">
            <table class="grid-items">
                <thead>
                    <tr>
                        <th scope="col" translate>ROOM_LABEL</th>
                        <th scope="col" translate>NAME</th>
                        <th scope="col" translate>RESERVATION_NUMBER</th>
                        <th scope="col" translate>TYPE</th>
                        <th scope="col" translate>DETAILS</th>
                        <th scope="col" translate>DATE_AND_TIME</th>
                        <th scope="col" translate>CHARGE_CODE</th>
                        <th scope="col" translate>CHARGE_DESCRIPTION</th>
                        <th scope="col" translate>DEBIT</th>
                        <th scope="col" translate>CREDIT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in data.summaryData.deposit_balance.transactions">
                        <td>{{item.room}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.reservation_number}}</td>
                        <td>{{item.type}}</td>
                        <td ng-bind-html="item.details"></td>
                        <td>{{item.time}}</td>
                        <td>{{item.charge_code}}</td>
                        <td>{{item.charge_desc}}</td>
                        <td>{{item.debit | number: precisonTwo}}</td>
                        <td>{{item.credit | number: precisonTwo}}</td>
                    </tr>
                    <tr class="pagination" ng-show="data.summaryData.deposit_balance.total_count > data.filterData.perPage && data.summaryData.deposit_balance.transactions.length > 0">
                        <td colspan="8">
                            <div class="search-pagination">
                                <button type="button" class="button dark-grey next" ng-click="loadNextSet('DEPOSIT_BALANCE')" ng-disabled="isNextButtonDisabled('DEPOSIT_BALANCE')" translate>NEXT</button>
                                <button type="button" class="button dark-grey prev" ng-click="loadPrevSet('DEPOSIT_BALANCE')" ng-disabled="isPrevButtonDisabled('DEPOSIT_BALANCE')" translate>PREVIOUS</button>
                                <p>{{ 'SHOWING' | translate }} <strong>{{ data.summaryData.deposit_balance.start }}-{{ data.summaryData.deposit_balance.end }}</strong> {{ 'OF' | translate }} <strong>{{ data.summaryData.deposit_balance.total_count }}</strong> {{ 'ITEMS' | translate }}</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="journal-summary">
            <h3 ng-if="(data.summaryData.guest_debits !== 0 || data.summaryData.guest_debits !== 0)" class="has-arrow toggle" ng-class="{'active': data.summaryData.guest_balance.active }" ng-click="toggleJournalSummaryItem('GUEST_BALANCE')" translate>GUEST_BAL</h3>
            <h3 ng-if="(data.summaryData.guest_debits === 0 && data.summaryData.guest_debits === 0)" translate>GUEST_BAL</h3>
            <ul>
                <li><span>{{currencySymbol}}{{data.summaryData.guest_opening_balance | number: precisonTwo }}</span></li>
                <li><span>{{currencySymbol}}{{data.summaryData.guest_debits | number: precisonTwo }}</span></li>
                <li><span>{{currencySymbol}}{{data.summaryData.guest_credits | number: precisonTwo }}</span></li>
                <li><span>{{currencySymbol}}{{data.summaryData.guest_closing_balance | number: precisonTwo }}</span></li>
            </ul>
        </div>

        <div class="journal-grid print-details" ng-show="data.summaryData.guest_balance.active">
            <table class="grid-items">
                <thead>
                    <tr>
                        <th scope="col" translate>ROOM_LABEL</th>
                        <th scope="col" translate>NAME</th>
                        <th scope="col" translate>RESERVATION_NUMBER</th>
                        <th scope="col" translate>TYPE</th>
                        <th scope="col" translate>DETAILS</th>
                        <th scope="col" translate>DATE_AND_TIME</th>
                        <th scope="col" translate>CHARGE_CODE</th>
                        <th scope="col" translate>CHARGE_DESCRIPTION</th>
                        <th scope="col" translate>DEBIT</th>
                        <th scope="col" translate>CREDIT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in data.summaryData.guest_balance.transactions">
                        <td>{{item.room}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.reservation_number}}</td>
                        <td>{{item.type}}</td>
                        <td ng-bind-html="item.details"></td>
                        <td>{{item.time}}</td>
                        <td>{{item.charge_code}}</td>
                        <td>{{item.charge_desc}}</td>
                        <td>{{item.debit | number: precisonTwo}}</td>
                        <td>{{item.credit | number: precisonTwo}}</td>
                    </tr>
                    <tr class="pagination" ng-show="data.summaryData.guest_balance.total_count > data.filterData.perPage && data.summaryData.guest_balance.transactions.length > 0">
                        <td colspan="8">
                            <div class="search-pagination">
                                <button type="button" class="button dark-grey next" ng-click="loadNextSet('GUEST_BALANCE')" ng-disabled="isNextButtonDisabled('GUEST_BALANCE')" translate>NEXT</button>
                                <button type="button" class="button dark-grey prev" ng-click="loadPrevSet('GUEST_BALANCE')" ng-disabled="isPrevButtonDisabled('GUEST_BALANCE')" translate>PREVIOUS</button>
                                <p>{{ 'SHOWING' | translate }} <strong>{{ data.summaryData.guest_balance.start }}-{{ data.summaryData.guest_balance.end }}</strong> {{ 'OF' | translate }} <strong>{{ data.summaryData.guest_balance.total_count }}</strong> {{ 'ITEMS' | translate }}</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="journal-summary">
            <h3 ng-if="(data.summaryData.ar_debits !== 0 || data.summaryData.ar_credits !== 0)" class="has-arrow toggle" ng-class="{'active': data.summaryData.ar_balance.active }" ng-click="toggleJournalSummaryItem('AR_BALANCE')" translate>AR_BALANCE</h3>
            <h3 ng-if="(data.summaryData.ar_debits === 0 && data.summaryData.ar_credits === 0)" translate>AR_BALANCE</h3>
            <ul>
                <li><span>{{currencySymbol}}{{data.summaryData.ar_opening_balance | number: precisonTwo }}</span></li>
                <li><span>{{currencySymbol}}{{data.summaryData.ar_debits | number: precisonTwo }}</span></li>
                <li><span>{{currencySymbol}}{{data.summaryData.ar_credits | number: precisonTwo }}</span></li>
                <li><span>{{currencySymbol}}{{data.summaryData.ar_closing_balance | number: precisonTwo }}</span></li>
            </ul>
        </div>

        <div class="journal-grid print-details" ng-show="data.summaryData.ar_balance.active">
            <table class="grid-items">
                <thead>
                    <tr>
                        <th scope="col" translate>ROOM_LABEL</th>
                        <th scope="col" translate>NAME</th>
                        <th scope="col" translate>RESERVATION_NUMBER</th>
                        <th scope="col" translate>TYPE</th>
                        <th scope="col" translate>DETAILS</th>
                        <th scope="col" translate>DATE_AND_TIME</th>
                        <th scope="col" translate>CHARGE_CODE</th>
                        <th scope="col" translate>CHARGE_DESCRIPTION</th>
                        <th scope="col" translate>DEBIT</th>
                        <th scope="col" translate>CREDIT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in data.summaryData.ar_balance.transactions">
                        <td>{{item.room}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.reservation_number}}</td>
                        <td>{{item.type}}</td>
                        <td ng-bind-html="item.details"></td>
                        <td>{{item.time}}</td>
                        <td>{{item.charge_code}}</td>
                        <td>{{item.charge_desc}}</td>
                        <td>{{item.debit | number: precisonTwo}}</td>
                        <td>{{item.credit | number: precisonTwo}}</td>
                    </tr>
                    <tr class="pagination" ng-show="data.summaryData.ar_balance.total_count > data.filterData.perPage && data.summaryData.ar_balance.transactions.length > 0">
                        <td colspan="8">
                            <div class="search-pagination">
                                <button type="button" class="button dark-grey next" ng-click="loadNextSet('AR_BALANCE')" ng-disabled="isNextButtonDisabled('AR_BALANCE')" translate>NEXT</button>
                                <button type="button" class="button dark-grey prev" ng-click="loadPrevSet('AR_BALANCE')" ng-disabled="isPrevButtonDisabled('AR_BALANCE')" translate>PREVIOUS</button>
                                <p>{{ 'SHOWING' | translate }} <strong>{{ data.summaryData.ar_balance.start }}-{{ data.summaryData.ar_balance.end }}</strong> {{ 'OF' | translate }} <strong>{{ data.summaryData.ar_balance.total_count }}</strong> {{ 'ITEMS' | translate }}</p>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="journal-summary totals">
            <h3 translate>TOTALS</h3>
            <ul>
                <li>
                    <span>
                        {{currencySymbol}}
                        {{data.summaryData.deposit_opening_balance+data.summaryData.guest_opening_balance+data.summaryData.ar_opening_balance | number: precisonTwo }}
                    </span>
                </li>
                <li>
                    <span>
                        {{currencySymbol}}
                        {{data.summaryData.deposit_debits+data.summaryData.guest_debits+data.summaryData.ar_debits | number: precisonTwo }}
                    </span>
                </li>
                <li>
                    <span>
                        {{currencySymbol}}
                        {{data.summaryData.deposit_credits+data.summaryData.guest_credits+data.summaryData.ar_credits | number: precisonTwo }}
                    </span>
                </li>
                <li>
                    <span>
                        {{currencySymbol}}
                        {{data.summaryData.deposit_closing_balance+data.summaryData.guest_closing_balance+data.summaryData.ar_closing_balance | number: precisonTwo }}
                    </span>
                </li>
            </ul>
        </div>
    </div>
</div>

<!-- Print footer -->
<ul class="journal-footer-print summary">
    <li>
        Date <span>{{ data.summaryDate | date : 'MMMM d, y'}}</span>
    </li>
    <li>
        Business date <span>{{ userInfo.business_date | date:dateFormat }}</span><br />
        User <span>{{ userInfo.first_name }} {{ userInfo.last_name }}</span>
    </li>
</ul>