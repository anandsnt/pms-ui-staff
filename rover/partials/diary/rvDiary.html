<section id="diary-content" class="content diary-content" role="main">
    <div ng-include="'/assets/partials/common/notification_message.html'"></div>    <!-- Diary header -->
    <form method="post" action="" id="diary-header" name="diary-header" class="diary-header" ng-class="{'editing': gridProps.edit.active === true }">
        <div class="entry edit" ng-show="gridProps.edit.active">
            <div class="guest">
                <h1>{{gridProps.edit.originalItem.reservation_primary_guest_full_name}}</h1>
            </div>
            <div class="actions">
                <button id="edit-staycard" class="button white" ng-click="openStayCard()">StayCard</button>
                <button id="edit-save" class="button green" ng-click="editSave()">Save</button>
                <button id="edit-cancel" class="button gray" ng-click="editCancel()">Cancel</button>
            </div>
        </div>
        <div class="entry date">
            <label for="arrival-date">Date</label>
            <div class="entry-data">
                <input name="arrival-date" ui-date="dateOptions" id="arrival-date" type="text" class="datepicker" ng-model="gridProps.filter.arrival_date" readonly />
                <strong id="arrival-date-day" class="day">{{gridProps.filter.arrival_date.getDate()}}</strong>
                <span id="arrival-date-month" class="month">{{gridProps.filter.arrival_date.toComponents().date.monthName}}</span>
                <span id="arrival-date-year" class="year">{{gridProps.filter.arrival_date.getFullYear()}}</span>
            </div>
        </div>
        <div class="entry time">
            <label for="arrival-time">Arrival Time</label>
            <div class="select">
                <select id="arrival-time" 
                        name="arrival-time" 
                        ng-model="gridProps.filter.arrival_time" 
                        ng-options="arrival_time as arrival_time for arrival_time in gridProps.filter.arrival_times" ng-change="clickedOnArrivalTime()">
                    <option value="" disabled selected="selected">Select</option>
                    <!--<option value={{arrival_time}}>{{arrival_time}}</option> -->
                </select>
            </div>
        </div>
        <div class="entry room">
            <label for="room-type">Room Type</label>
            <div class="select">
                <select id="room-type" 
                        name="room-type" 
                        ng-model="gridProps.filter.room_type" 
                        ng-options="room_type as room_type.name for room_type in gridProps.filter.room_types" ng-change="clickedOnRoomType()">
                    <option value="" disabled selected="selected">Select</option>
                </select>
            </div>
        </div>
        <div class="entry rate">
            <label for="rate-type">Rate Type</label>
            <div class="faux-select" ng-click="gridProps.filter.toggleRates()">
                {{gridProps.filter.rate_type}}
            </div>
            <div id="diary-rates" class="faux-select-options hidden">
                <div class="header">
                    <div>
                        <label class="radio inline">
                            <span class="icon-form" ng-class="{active: gridProps.filter.rate_type === 'Standard'}"></span>
                            <input name="rate-type" 
                                   id="standard-rate" 
                                   value="Standard" 
                                   ng-model="gridProps.filter.rate_type" 
                                   type="radio" />
                            Standard
                        </label>
                        <label class="radio inline">
                            <span class="icon-form" ng-class="{active: gridProps.filter.rate_type === 'Corporate'}"></span>
                            <input name="rate-type" 
                                   id="corporate-rate" 
                                   value="Corporate" 
                                   ng-model="gridProps.filter.rate_type" 
                                   type="radio" />
                            Corporate 
                            <span>Select Account</span>
                            <ul>
                                <li ng-repeat="details in gridProps.filter.rate_type_details track by $index">
                                    {{details.account_name}}
                                    <span id="confirm-rate" class="icons icon-ok-20" ng-click="confirmRateSelection($index)">Confirm</span>
                                    <span id="remove-rate" class="icons icon-remove-20" ng-click="discardRateSelection($index)">Remove</span>
                                </li>
                            </ul>      
                        </label>   
                    </div>
                    <!-- Corporate Rate is selected & defined -->
                    <!--<div ng-hide="gridProps.filter.rate_type === 'standard'">
                        <label class="radio inline">
                            <input name="rate-type" id="standard-rate" value="standard" type="radio" />
                            Standard
                        </label>
                        <label class="radio inline">
                            <input name="rate-type" id="corporate-rate" value="corporate" type="radio" checked />
                            Corporate 
                            <span>American Airlines</span>
                            <span id="confirm-rate" class="icons icon-ok-20">Confirm rate</span>
                            <span id="remove-rate" class="icons icon-remove-20">Remove rate</span>
                        </label>   
                    </div>-->
                </div>
                <!-- Corporate Rate Search - show only when Corporate Rate is selected -->
                <div class="entry search" ng-show="gridProps.filter.rate_type === 'Corporate'">
                    <a href="#" id="diary-clear-query" class="clear-query"><span class="icons icon-clear-search">Clear query</span></a>
                    <span type="submit" name="submit" class="icons icon-search">Search</span>
                    <input name="diary-corporate-query" id="diary-corporate-query" class="query" placeholder="Type Company or Travel Agent Name" type="search" autocomplete="off" ng-model="companySearchText" ng-keyup="companySearchTextEntered()" />
                </div>
                <div class="entry results">
                    <ul class="search-list" ng-hide="gridProps.filter.rate_type_details.length === 0">
                        <li ng-repeat="name_card in gridProps.filter.rate_type_details track by $index" ng-click="setAccountID($index)">

                            <div class="icon company-card" ng-if="name_card.account_type === 'COMPANY' && name_card.company_logo === ''"></div>
                            <div class="icon travel-agent" ng-if="name_card.account_type === 'TRAVELAGENT' && name_card.company_logo == ''"></div>
                            <img ng-src="{{name_card.company_logo}}" alt="" ng-if="name_card.company_logo !== ''" />
                            <h4 ng-bind-html="name_card.account_name|highlight:companySearchText:false"></h4>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="entry switch" ng-hide="!isHourlyRateOn">
            <label for="diary-hours-days">Hours / Days</label>
            <div class="switch-button" ng-class="{on: gridProps.filter.reservation_format === 'h'}">
                <input name="diary-hours-days" id="diary-hours-days" value="" type="checkbox" checked  /> <!--ng-click="gridProps.filter.toggleHoursDays()" -->
                <label class="data-off">
                    <span class="value">H</span>
                    <span class="switch-icon">D</span>
                </label>
                <label class="data-on">
                    <span class="switch-icon">H</span>
                    <span class="value">D</span>
                </label>
            </div>
        </div>
        <div class="entry switch display">
            <label for="diary-range">Show <span>(Hours)</span></label>
            <div class="switch-button" ng-class="{on: gridProps.viewport.hours === 12}">
                <input name="diary-view-range" id="diary-view-range" value="" type="checkbox" checked ng-click="gridProps.filter.toggleRange()" />
                <label class="data-off">
                    <span class="value">12</span>
                    <span class="switch-icon">24</span>
                </label>
                <label class="data-on">
                    <span class="switch-icon">12</span>
                    <span class="value">24</span>
                </label>
            </div>
        </div>
       
        <!--<div class="actions">
            <button type="button" class="button green" ng-click="onUpdate()">Update</button>
        </div>-->
    </form>
    
    <!-- Diary Content -->
    <div id="component-wrapper" class="component-wrapper" ng-react-component="DiaryContent"></div>
</section>
