<div class="availability-grid scrollable " ng-controller="rvRoomAvailabilityGridStatusController" ng-iscroll='room_availability_scroller' ng-iscroll-delay="100" ng-show="hideMeBeforeFetching">
	<div class="wrapper" style="width: {{getWidthForTable()}}px">
		<!-- Day & Date Columns -->
		<table class="dates-grid">
			<colgroup>
				<col>
				<col class="grid-col" ng-repeat="eachDate in data.dates" ng-class="{'weekend': eachDate.isWeekend}">		
			</colgroup>
			<thead>
				<tr>
					<th class="heading"></th>
					<th  ng-repeat="eachDate in data.dates track by $index">
						<div class="inner"  ng-class="{'weekend': eachDate.isWeekend}">
							<span ng-bind="eachDate.date|date:dayInWeek"></span>
							{{eachDate.date|date:shortMonthAndDate}}
						</div>
					</th>
				</tr>
			</thead>
		</table> 

		<!-- Occupancy -->
		<table class="dates-grid blue">
			<colgroup>
				<col>
				<col class="grid-col" ng-repeat="eachDate in data.dates" ng-class="{'weekend': eachDate.isWeekend}">		
			</colgroup>
			<tbody>
				<!-- Total % -->
				<tr class="main">
					<th class="heading rows-toggle" scope="row" ng-click="toggle('occupancy')">Occupancy %</th> <!-- TODO: toggle visibility of inventory, OOO and rooms to sell when clciked. When opening, don't show room types. When closing, hide room types as well -->
					<td ng-repeat="occupancy in data.occupancies track by $index">
						<div class="inner">{{occupancy | number : 0 }}%</div>
					</td>
				</tr>
				<!-- Inventory -->
				<tr ng-class="{'hidden': !toggleStatusOf.occupancy }">
					<th class="rows-toggle" scope="row">Rooms Inventory</th> <!-- TODO: toggle visibility of room types inventory -->
					<td ng-repeat="bookableRoom in data.bookableRooms track by $index">
						<div class="inner" ng-bind="bookableRoom"></div>
					</td>
				</tr>
				<!-- Inventory - Room types
				<tr class="italic hidden">
					<th scope="row"></th>
					<td>
						<div class="inner">-</div>
					</td>
				</tr> -->
				<!-- OOO -->
				<tr ng-class="{'hidden': !toggleStatusOf.occupancy }">
					<th scope="row">OOO Rooms</th>
					<td ng-repeat="outOfOrderRoom in data.additionalData.outOfOrder track by $index">
						<div class="inner" ng-bind="outOfOrderRoom"></div>
					</td>
				</tr>
				<!-- Rooms to Sell -->
				<tr ng-class="{'hidden': !toggleStatusOf.occupancy }">
					<th scope="row">Rooms To Sell</th>
					<td ng-repeat="availableRoom in data.availableRooms track by $index">
						<div class="inner" ng-bind="availableRoom"></div>
					</td>
				</tr>
			</tbody>
		</table> 

		<!-- Available Rooms -->
		<table class="dates-grid green">
			<colgroup>
				<col>
				<col class="grid-col" ng-repeat="eachDate in data.dates" ng-class="{'weekend': eachDate.isWeekend}">		
			</colgroup>
			<tbody>
				<tr class="main">
					<th class="heading rows-toggle" ng-click="toggle('availableRooms')">Available Rooms</th>
					<td ng-repeat="availableRoom in data.availableRooms track by $index">
						<div class="inner" ng-bind="availableRoom"></div>
					</td>
				</tr>
				<!-- Room types -->
				<tr class="italic" ng-class="{'hidden': !toggleStatusOf.availableRooms}" ng-repeat="individualAvailableRoomList in data.individualAvailableRooms track by $index">
					<th scope="row" ng-bind="individualAvailableRoomList.name"></th>
					<td ng-repeat="individualAvailableRoom in individualAvailableRoomList.availableRoomNumberList track by $index">
						<div class="inner" ng-bind="individualAvailableRoom"></div>
					</td>
				</tr>				
			</tbody>
		</table>

		<!-- Sold Rooms -->
		<table class="dates-grid orange">
			<colgroup>
				<col>
				<col class="grid-col" ng-repeat="eachDate in data.dates" ng-class="{'weekend': eachDate.isWeekend}">		
			</colgroup>
			<tbody>
				<tr class="main" ng-if="!isHourlyRateOn">
					<th class="heading rows-toggle" ng-click="toggle('roomsSold')">Rooms Sold</th>
					<td ng-repeat="bookedRoom in data.bookedRooms track by $index">
						<div class="inner" ng-bind="bookedRoom"></div>
					</td>
				</tr>
				<!-- Adults / Children -->
				<tr ng-class="{'hidden': !toggleStatusOf.roomsSold }"> <!-- TODO: Add data -->
					<th scope="row">Adults / Children</th>
					<td>
						<div class="inner">-</div>
					</td>
				</tr>
				<tr class="italic" ng-if="!isHourlyRateOn" ng-class="{'hidden': !toggleStatusOf.roomsSold }" ng-repeat="individualBookedRoomList in data.individualBookedRooms track by $index">
					<th scope="row" ng-bind="individualBookedRoomList.name" ></th>
					<td ng-repeat="individualBookedRoom in individualBookedRoomList.bookedNumberList track by $index">
						<div class="inner" ng-bind="individualBookedRoom"></div>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- Non Group Rooms -->
		<table class="dates-grid">
			<colgroup>
				<col>
				<col class="grid-col" ng-repeat="eachDate in data.dates" ng-class="{'weekend': eachDate.isWeekend}">		
			</colgroup>
			<tbody>
				<tr class="main">
					<th class="heading" scope="row">Non Group Rooms</th>
					<td ng-repeat="nonGroupRoom in data.nonGroupRooms track by $index">
						<div class="inner" ng-bind="nonGroupRoom"></div>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- Group / Allotment Rooms -->
		<table class="dates-grid purple">
			<colgroup>
				<col>
				<col class="grid-col" ng-repeat="eachDate in data.dates" ng-class="{'weekend': eachDate.isWeekend}">		
			</colgroup>
			<tbody>
				<tr class="main">
					<th class="heading rows-toggle" scope="row" ng-click="toggleShowGroupAllotmentTotals()">Group / Allotment</th>
					<td ng-repeat="groupAndAllotment in data.groupAndAllotments track by $index">
						<div class="inner" ng-bind="groupAndAllotment"></div>
					</td>
				</tr>
				<tr ng-repeat="rowData in data.gridDataForGroupAvailability.holdstatuses track by $index" ng-class="{'hidden': !showShowGroupAllotmentTotals}">
					<th scope="row">Group Blocks {{ getGroupAllotmentName(data.gridDataForGroupAvailability, rowData[0].id) }}</th>
					<td ng-repeat="cellData in rowData track by $index">
						<div class="inner">{{ cellData.total_number_of_rooms_blocked }}</div>
					</td>
				</tr>
				<tr ng-repeat="rowData in data.gridDataForAllotmentAvailability.holdstatuses track by $index" ng-class="{'hidden': !showShowGroupAllotmentTotals}">
					<th scope="row">Allotment {{ getGroupAllotmentName(data.gridDataForAllotmentAvailability, rowData[0].id) }}</th>
					<td ng-repeat="cellData in rowData track by $index">
						<div class="inner">{{ cellData.total_number_of_rooms_blocked }}</div>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>


<!-- Old code - DELETE AFTER IMPLEMENTATION:
	<tbody>
		<tr>
			<th class="heading">Occupancy %</th>
			<td ng-repeat="occupancy in data.occupancies track by $index">
				<div class="inner">{{occupancy | number : 2 }}%</div>
			</td>
		</tr>
		<tr>
			<th class="heading">Total Bookable Rooms</th>
			<td  ng-repeat="bookableRoom in data.bookableRooms track by $index">
				<div class="inner" ng-bind="bookableRoom"></div>
			</td>
		</tr>					
		<tr class="room-details main">
			<th class="heading rows-toggle" ng-click="toggleShowRoomTypeWiseAvailableRooms()">Available Rooms</th>
			<td  ng-repeat="availableRoom in data.availableRooms track by $index">
				<div class="inner" ng-bind="availableRoom"></div>
			</td>
		</tr>							
		<tr class="room-details" ng-class="{'hidden': !showRoomTypeWiseAvailableRooms}"  ng-repeat="individualAvailableRoomList in data.individualAvailableRooms track by $index">
			<th class="" ng-bind="individualAvailableRoomList.name" ></th>
			<td  ng-repeat="individualAvailableRoom in individualAvailableRoomList.availableRoomNumberList track by $index">
				<div class="inner" ng-bind="individualAvailableRoom"></div>
			</td>
		</tr>
		<tr class="room-details main" ng-if="!isHourlyRateOn">
			<th class="heading rows-toggle" ng-click="toggleShowRoomTypeWiseBookedRooms()">Booked Rooms</th>
			<td  ng-repeat="bookedRoom in data.bookedRooms track by $index">
				<div class="inner green" ng-bind="bookedRoom"></div>
			</td>
		</tr>							
		<tr class="room-details" ng-if="!isHourlyRateOn" ng-class="{'hidden': !showRoomTypeWiseBookedRooms }"  ng-repeat="individualBookedRoomList in data.individualBookedRooms track by $index">
			<th class="" ng-bind="individualBookedRoomList.name" ></th>
			<td  ng-repeat="individualBookedRoom in individualBookedRoomList.bookedNumberList track by $index">
				<div class="inner green" ng-bind="individualBookedRoom"></div>
			</td>
		</tr>				
		<tr class="room-details main" ng-if="!isHourlyRateOn">
			<th class="heading">Group Rooms (Total)</th>
			<td  ng-repeat="roomCount in data.groupTotalRooms track by $index">
				<div class="inner" ng-bind="roomCount"></div>
			</td>
		</tr>
		<tr class="room-details main" ng-if="!isHourlyRateOn">
			<th class="heading">Group Rooms (Picked Up)</th>
			<td  ng-repeat="roomCount in data.groupTotalPickedUp track by $index">
				<div class="inner green" ng-bind="roomCount"></div>
			</td>
		</tr>								
		<tr>
			<th class="">Out of Order rooms</th>
			<td  ng-repeat="outOfOrderRoom in data.outOfOrderRooms track by $index">
				<div class="inner" ng-bind="outOfOrderRoom"></div>
			</td>
		</tr>
		<tr>
			<th class="">Total Reserved Rooms</th>
			<td  ng-repeat="reservedRoom in data.reservedRooms track by $index">
				<div class="inner" ng-bind="reservedRoom"></div>
			</td>
		</tr>	
		<tr ng-hide="true">
			<th class="">[Overbooking]</th>
			<td  ng-repeat="overBookableRoom in data.overBookableRooms track by $index">
				<div class="inner" >[{{overBookableRoom}}]</div>
			</td>
		</tr>
		<tr ng-hide="true">
			<th class="">[Available rooms with overbooking]</th>
			<td  ng-repeat="availableRoomsWithBookableRoom in data.availableRoomsWithBookableRooms track by $index">
				<div class="inner"> [{{availableRoomsWithBookableRoom}}]</div>
			</td>
		</tr>													
	</tbody>
-->