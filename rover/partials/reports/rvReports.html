<span class="nested-view view-current" ng-class="{ 'return-back': !showReportDetails }">

    <div ng-include="'/assets/partials/common/header.html'"></div>

    <!-- Search -->
    <form class="search-form" ng-hide="showReportDetails">
        <div class="entry search">
            <button type="button" class="clear-query" ng-class="{'visible': query.length}" ng-click="clearQuery()"> <!-- Add class "visible" to show -->
                <span class="icons icon-clear-search">Clear query</span>
            </button>
            <button type="button" name="submit" class="icons icon-search">Search</button>
            <input id="reports-query" class="query" placeholder="Search by Report Name" type="search" autocomplete="off" ng-model="query" ng-keyup="filterByQuery()">
        </div>
    </form>

    <section id="reports" class="content reports-wrapper" role="main" ng-hide="showReportDetails">
        
        <!-- Menu -->
        <div id="reports-menu" ng-include="'/assets/partials/reports/shared/rvReportMainMenu.html'"></div>

        <!-- Content -->
        <div id="reports-dashboard" class="scrollable" ng-class="getViewColClass()" ng-iscroll="FULL_REPORT_SCROLL"> <!-- Classes cols-2,cols-3 and cols-4 are added when showing 2,3 or 4 columns. Add horizontal scroller here -->
            <div class="wrapper">
                <div class="cols-wrapper">
                    <span ng-if="isReportView(reportViews[0])" ng-controller="RVReportListCrl" ng-include="'/assets/partials/reports/shared/rvViewAllReports.html'"></span>
                    <span ng-if="isReportView(reportViews[1])" ng-controller="RVScheduleReportsCtrl" ng-include="'/assets/partials/reports/scheduleReport/rvScheduleReport.html'"></span>
                </div>
            </div>
        </div>
        
        <!-- If there are no reports, replace L31-L70 with this:
        <div class="no-content">
            <div class="info">
                <span class="icon-no-content icon-reports"></span>
                <strong class="h1">Reports unavailable</strong>
                <span class="h2">You have no report options configured</span>
            </div>
        </div>-->
        
    </section>

    <section id="report-details" class="content reports-wrapper" role="main" ng-show="showReportDetails">
        <span ng-controller="RVReportDetailsCtrl">
            <div id="report-update" class="sidebar-left ui-resizable" ng-class="{'open': showSidebar}" ng-click="toggleSidebar($event)" ng-include="'/assets/partials/reports/filters/rvReportDetailsFilters.html'"></div>

            <div class="report-header" ng-show="showReportHeader">
                <div ng-show="hasReportTotals && !hasNoResults" ng-include="'/assets/partials/reports/shared/summaryCounts.html'"></div>

                <div class="actions">
                    <div class="select" ng-if="HIDE_THIS_FEATURE">
                        <select name="" id="">
                            <option value="pdf">Save/E-mail as PDF</option>
                            <option value="word">Save/E-mail as Word</option>
                            <option value="excel">Save/E-mail as Excel</option>
                        </select>
                    </div>
                    <button class="button with-icon only-icon blue" button="button" ng-click="emailReport()" ng-if="HIDE_THIS_FEATURE"><span class="icons icon-email"></span>
                    </button>
                    <button class="button with-icon only-icon blue" button="button" ng-click="fetchFullReport()"><span class="icons icon-print"></span>
                    </button>
                    <button ng-click="exportCSV()" class="button with-icon only-icon purple" button="button" ng-show="shouldShowExportButton(chosenReport) && !hideExportOption"><span class="icons icon-save"></span>
                    </button>
                    
                    <button class="button with-icon only-icon purple" button="button" ng-click="saveFullReport()" ng-if="HIDE_THIS_FEATURE"><span class="icons icon-save"></span>
                    </button>
                </div>
            </div>

            <div class="report-header" ng-show="errorMessage.length" ng-include="'/assets/partials/common/notification_message.html'"></div>

            <span ng-hide="errorMessage.length" ng-include="detailsTemplateUrl"></span>
        </span>
    </section>
</span>