<!-- First column - Scheduled reports -->
<div class="report-col main-col scrfailedollable buttons-1" ng-iscroll="REPORT_SCHEDULES_SCROLL"> <!-- Add vertical scroller here -->
    <ul class="wrapper">
        <li class="report-item" ng-repeat="item in schedulesList" ng-class="{'active': item.active}" ng-click="selectSchedule(item, $index)" ng-hide="item.filteredOut"> <!-- Add class "active" when selected + load filters in 2nd column -->
        	<span ng-class="item.reportIconCls"></span>
        	<div class="data">
        	    <h2 ng-bind-html="escapeNull(item.report.description)|highlight:query:false"></h2>
        	    <em>{{ item.report.description }}</em>
        	</div>
        </li>
    </ul>
    <div class="main-column-actions" ng-show="NOT_NOW">
        <button type="button" class="button blue with-icon">
            <i class="icons icon-pencil"></i>
            Schedule a Report
        </button>
        <!-- When L14 is pressed, replace it with these (+ load all reports in ul on L3(as defined in all-reports.hmtl) and refresh the scroller)
        <button type="button" class="back-button">
            Back to Scheduled Reports
        </button>
        <strong>Select a Report</strong>
        -->
    </div>
</div>

<!-- Second column - paremeters -->
<div class="report-col">
    <div class="scrollable" ng-iscroll="SECOND_COLUMN_SCROLL"> <!-- Add vertical scroller here + add class "buttons-3" if it's an existing schedule -->
        <div class="wrapper">
            <h3>Schedule Parameters<span>{{ selectedScheduleDetails.report.description }}</span></h3>
            <div class="entry">
                <label for="time-period">Time Period</label>
                <div class="select">
                    <select ng-model="scheduleParams.time_period_id" ng-options="timePeriod.id as timePeriod.description for timePeriod in scheduleTimePeriods" iscroll-stop-propagation>
                        <option value="">Time period</option>
                    </select>
                </div>
            </div>

            <multi-option-selection ng-show="filters.hasGeneralOptions && filters.hasGeneralOptions.data.length"
                label="Option(s)"
                data="filters.hasGeneralOptions.data"
                on-update="refreshSecondColumnScroll"
                options="filters.hasGeneralOptions.options"></multi-option-selection>

            <div class="entry" ng-show="selectedScheduleDetails.sort_fields.length">
                <label>Sort By</label>
                <div class="select">
                    <select ng-model="scheduleParams.sort_field" ng-options="sortBy.value as sortBy.description for sortBy in selectedScheduleDetails.sort_fields" iscroll-stop-propagation>
                        <option value="">Sort By</option>
                    </select>
                </div>
            </div>     
        </div>
    </div>
    <div class="column-actions">
        <button type="button" class="button white blue-text next-view has-arrow" ng-show="NOT_NOW">
            Schedule Details
        </button>
        <button type="button" class="button red" ng-show="NOT_NOW">
            Delete Schedule
        </button>   
        <button type="button" class="button green" ng-click="saveSchedule()">
            Save Schedule
        </button>
        <!-- If new schedule, replace L45-L53 with this:
        <button type="button" class="button blue next">Next</button> -->
    </div>
</div>

<!-- Third column - details -->
<div class="report-col">
    <div class="scrollable" ng-iscroll="THIRD_COLUMN_SCROLL"> <!-- Add vertical scroller here + add class "buttons-2" if it's an existing schedule -->
        <div class="wrapper">
            <h3>Schedule Details<span>{{ selectedScheduleDetails.report.description }}</span></h3>
            <div class="entry" ng-show="NOT_NOW">
                <label for="schedule-date-range">Data Date Range</label>
                <div class="select">
                    <select id="schedule-date-range">
                        <option value="{value}">{Label}</option>
                        ... repeat
                    </select>
                </div>
            </div>
            <div class="entry">
                <label for="schedule-repeats">Repeats</label>
                <div class="select">
					<select ng-model="scheduleParams.frequency_id" ng-options="freq.id as freq.description for freq in scheduleFrequency" iscroll-stop-propagation>
						<option value="">Repeat type</option>
					</select>
                </div>
            </div>
            <div class="entry">
                <label for="schedule-repeats-every">Repeats Every</label>
                <div class="entry-data entry-first">
                    <input id="schedule-repeats-every" type="number" placeholder="No." ng-model="scheduleParams.repeats_every">
                </div>
                <div class="entry-data entry-second">
                    <div class="select">
                        <select ng-model="scheduleParams.frequency_id" ng-options="freq.id as freq.value for freq in scheduleFreqType" iscroll-stop-propagation>
							<option value="">Repeat per</option>
						</select>
                    </div>
                </div>
            </div>
            <div class="entry">
                <label for="schedule-start">
                   Starts On
                </label>
                <div class="has-datepicker">
                    <button class="clear-query"><span class="icons icon-clear-search">Clear query</span></button>
                    <input type="text" class="datepicker" ui-date="startsOnOptions" ng-model="scheduleParams.starts_on" placeholder="MM-DD-YYYY" readonly>
                </div>
            </div>
            <div class="entry">
                <label for="schedule-repeats">Starts At</label>
                <div class="select">
					<div class="select">
				        <select ng-model="scheduleParams.time" ng-options="time.value as time.name for time in timeSlots" iscroll-stop-propagation>
				            <option value="">Time</option>
				        </select>
				    </div>
                </div>
            </div>

            <div class="entry">
                <label>Ends On</label>
                <div class="entry-data entry-first">
                    <label for="schedule-ends-on-number" class="radio inline">
                    	<span class="icon-form icon-radio" ng-class="{ 'checked': scheduleParams.scheduleEndsOn === 'NUMBER' }"></span>
                        <input type="radio" name="ends-on" checked ng-model="scheduleParams.scheduleEndsOn" value="NUMBER">
                        After
                    </label>
                </div>
                <div class="entry-data entry-second with-label">
                    <input id="schedule-ends-on-number" type="number" placeholder="No." ng-model="scheduleParams.ends_on_after">
                    <span class="label" ng-bind="getRepeatPer()"></span>
                </div>
                <!-- next -->
                <div class="entry-data entry-first">
                    <label for="schedule-ends-on-date" class="radio inline">
                    	<span class="icon-form icon-radio" ng-class="{ 'checked': scheduleParams.scheduleEndsOn === 'DATE' }"></span>
                        <input id="schedule-ends-on-date" type="radio" name="ends-on" ng-model="scheduleParams.scheduleEndsOn" value="DATE">
                        On
                    </label>
                </div>
                <div class="entry-data entry-second">
                    <div class="has-datepicker">
                        <button class="clear-query"><span class="icons icon-clear-search">Clear query</span></button>
                        <input type="text" class="datepicker" ui-date="endsOnOptions" ng-model="scheduleParams.ends_on_date" placeholder="MM-DD-YYYY" readonly>
                    </div>
                </div>
                <!-- next -->
                <div class="entry-data full-width">
                    <label for="schedule-ends-on-never" class="radio inline">
                    	<span class="icon-form icon-radio" ng-class="{ 'checked': scheduleParams.scheduleEndsOn === 'NEVER' }"></span>
                        <input type="radio" id="schedule-ends-on-never" name="ends-on" ng-model="scheduleParams.scheduleEndsOn" value="NEVER">
                        Never
                    </label>
                </div>
            </div>
        </div>
    </div>
    <div class="column-actions">
        <button type="button" class="button white blue-text next-view has-arrow" ng-show="NOT_NOW">
            Distribution List
        </button>
        <button type="button" class="button white green-text" ng-click="saveSchedule()">Save Details</button>
        <!-- If new schedule, replace L140-L143 with this:
        <button type="button" class="button blue next">Next</button> -->
    </div>
</div>

<!-- Fourth column - distribution list -->
<div class="report-col">
    <div class="scrollable" ng-iscroll="FOURTH_COLUMN_SCROLL"> <!-- Add vertical scroller here -->
        <div class="wrapper">
            <h3>Distribution List<span>{{ selectedScheduleDetails.report.description }}</span></h3>
            <div class="entry search">
                <label for="distribution-list-add-user">Add Recipient</label>
                <button class="clear-query">
                    <span class="icons icon-clear-search">Clear query</span>
                </button>
                <input class="icons icon-search" auto-complete auto-options="userAutoCompleteSimple" type="search" placeholder="Search by User Name" value="" autocomplete="off">
            </div>
            <!-- Display search results like this -->
            <ul class="col-list">
                <li ng-repeat="email in emailList track by $index">
                    {{ email }}
                    <button type="button" class="button only-icon icons icon-remove-10" ng-click="removeEmail($index)">
                        Remove from list
                    </button>
                </li>
            </ul>
        </div>
    </div>
    <div class="column-actions">
        <button type="button" class="button white green-text" ng-click="saveSchedule()">Save List</button>
        <!-- If new schedule, replace L174 with this:
        <button type="button" class="button green">Save Schedule</button> -->
    </div>
</div>