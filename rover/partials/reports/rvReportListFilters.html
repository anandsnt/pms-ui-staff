<div class="date-range" ng-if="item.hasCancelDateFilter">
    <label>{{ item.hasCancelDateFilter.description }}</label>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptions" ng-model="item.fromCancelDate" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptionsNoLimit" ng-model="item.fromCancelDate" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromCancelDate', 'untilCancelDate')">Clear query</span>
        </button>
    </div>
    <span class="span-to"> To </span>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptions" ng-model="item.untilCancelDate" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptionsNoLimit" ng-model="item.untilCancelDate" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromCancelDate', 'untilCancelDate')">Clear query</span>
        </button>
    </div>
</div>

<div class="date-range" ng-if="item.hasDepositDateFilter">
    <label>{{ item.hasDepositDateFilter.description }}</label>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptions" ng-model="item.fromDepositDate" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptionsNoLimit" ng-model="item.fromDepositDate" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromDepositDate', 'untilDepositDate')">Clear query</span>
        </button>
    </div>
    <span class="span-to"> To </span>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptions" ng-model="item.untilDepositDate" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptionsNoLimit" ng-model="item.untilDepositDate" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromDepositDate', 'untilDepositDate')">Clear query</span>
        </button>
    </div>
</div>

<div class="date-range" ng-if="item.hasDateFilter">
    <label>{{ item.hasDateFilter.description }}</label>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptions" ng-model="item.fromDate" ng-change="dateChanged(item, 'fromDate')" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptionsNoLimit" ng-model="item.fromDate" ng-change="dateChanged(item, 'fromDate')" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromDate', 'untilDate')">Clear query</span>
        </button>
    </div>
    <span class="span-to"> To </span>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptions" ng-model="item.untilDate" ng-change="dateChanged(item, 'untilDate')" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptionsNoLimit" ng-model="item.untilDate" ng-change="dateChanged(item, 'untilDate')" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromDate', 'untilDate')">Clear query</span>
        </button>
    </div>
</div>

<div class="date-range" ng-if="item.hasCreateDateFilter">
    <label>{{ item.hasCreateDateFilter.description }}</label>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptions" ng-model="item.fromCreateDate" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptionsNoLimit" ng-model="item.fromCreateDate" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromCreateDate', 'untilCreateDate')">Clear query</span>
        </button>
    </div>
    <span class="span-to"> To </span>
    <div class="has-datepicker">
        <input ng-if="item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptions" ng-model="item.untilCreateDate" readonly>
        <input ng-if="!item.hasDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptionsNoLimit" ng-model="item.untilCreateDate" readonly>
        <button ng-if="item.canRemoveDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromCreateDate', 'untilCreateDate')">Clear query</span>
        </button>
    </div>
</div>

<div class="date-range" ng-if="item.hasArrivalDateFilter">
    <label>{{ item.hasArrivalDateFilter.description }}</label>
    <div class="has-datepicker">
        <input ng-if="item.hasArrivalDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptions" ng-model="item.fromArrivalDate" readonly>
        <input ng-if="!item.hasArrivalDateLimit" type="text" class="range-datepicker" ui-date="fromDateOptionsNoLimit" ng-model="item.fromArrivalDate" readonly>
        <button ng-if="item.canRemoveArrivalDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromArrivalDate', 'untilArrivalDate')">Clear query</span>
        </button>
    </div>
    <span class="span-to"> To </span>
    <div class="has-datepicker">
        <input ng-if="item.hasArrivalDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptions" ng-model="item.untilArrivalDate" readonly>
        <input ng-if="!item.hasArrivalDateLimit" type="text" class="range-datepicker" ui-date="untilDateOptionsNoLimit" ng-model="item.untilArrivalDate" readonly>
        <button ng-if="item.canRemoveArrivalDate" ng-class="{'visible': item.showRemove}" class="clear-query">
            <span class="icons icon-clear-search" ng-click="clearDateFromFilter(item, 'fromArrivalDate', 'untilArrivalDate')">Clear query</span>
        </button>
    </div>
</div>

<div class="date-range single-date" ng-if="item.hasSingleDateFilter">
    <label>Date</label>
    <div class="has-datepicker">
        <input type="text" class="datepicker" ui-date="untilDateOptionsNoLimit" ng-model="item.singleValueDate">
    </div>
</div>

<div class="time-range" ng-if="item.hasTimeFilter">
    <label>{{ item.hasTimeFilter.description }}</label>
    <div class="select">
        <select name="time-from" ng-model="item.fromTime" ng-options="time.value as time.name for time in item.timeFilterOptions" iscroll-stop-propagation>
            <option value="">From Time</option>
        </select>
    </div>
    <span>to</span>
    <div class="select">
        <select name="time-to" ng-model="item.untilTime" ng-options="time.value as time.name for time in item.timeFilterOptions" iscroll-stop-propagation>
            <option value="">Until Time</option>
        </select>
    </div>
</div>

<div class="filter" ng-if="item.hasCicoFilter">
    <label>{{ item.hasCicoFilter.description }}</label>
    <div class="select">
        <select name="" id="" ng-model="item.chosenCico" ng-options="cico.value as cico.label for cico in item.cicoOptions" iscroll-stop-propagation>
            <option value="">Transaction Type</option>
        </select>
    </div>
</div>

<div class="filter" ng-if="item.hasUserFilter">
    <label>User</label>
    <input class="icons icon-search" auto-complete auto-options="listUserAutoCompleteOptions" data-card-type="" type="text" placeholder="Search by Email Id" value="" autocomplete="off" ng-model="item.uiChosenUsers" report-source="reportList" report-index="{{ $index }}" report-model="chosenUsers" ul-class="find-cards" ng-focus="returnItem(item)">
    <select multiple class="hidden" ng-model="item.chosenUsers" ng-options="user.id as user.full_name for user in activeUserList"></select>
</div>

<div class="options" ng-if="showFauxSelect(item)">
    <label for="report-options">Options</label>
    <div class="faux-select placeholder" ng-click="fauxSelectClicked($event, item)">{{ item.fauxTitle }}</div>
    <!-- When single checkbox selected
    <div class="faux-select">{Option}</div>
    -->
    <!-- When multiple checkboxes selected
    <div class="faux-select">{count} selected ...</div>
    -->
    <div class="faux-select-options" ng-class="{ 'hidden': !item.fauxSelectOpen }" ng-click="fauxOptionClicked($event, item)">
        <!-- Remove class "hidden" when ".faux-select" clicked -->
        <label class="checkbox inline" ng-if="item.hasIncludeNotes">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeNotes}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeNotes" name="room-filters"> {{ item.hasIncludeNotes.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeCancelled">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeCancelled}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeCancelled" name="room-filters"> {{ item.hasIncludeCancelled.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeVip">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeVip}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeVip" name="room-filters"> {{ item.hasIncludeVip.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeNoShow">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeNoShow}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeNoShow" name="room-filters"> {{ item.hasIncludeNoShow.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasShowGuests">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenShowGuests}"></span>
            <input type="checkbox" ng-model="item.chosenShowGuests" name="room-filters"> {{ item.hasShowGuests.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeRoverUsers">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeRoverUsers}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeRoverUsers" name="room-filters"> {{ item.hasIncludeRoverUsers.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeZestUsers">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeZestUsers}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeZestUsers" name="room-filters"> {{ item.hasIncludeZestUsers.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeZestWebUsers">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeZestWebUsers}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeZestWebUsers" name="room-filters"> {{ item.hasIncludeZestWebUsers.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasVariance">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenVariance}"></span>
            <input type="checkbox" ng-model="item.chosenVariance" name="room-filters"> {{ item.hasVariance.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasLastYear">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenLastYear}"></span>
            <input type="checkbox" ng-model="item.chosenLastYear" name="room-filters"> {{ item.hasLastYear.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeDepositPaid">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeDepositPaid}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeDepositPaid" name="room-filters">
            {{ item.hasIncludeDepositPaid.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeDepositDue">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeDepositDue}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeDepositDue" name="room-filters">
            {{ item.hasIncludeDepositDue.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeDepositPastDue">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeDepositPastDue}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeDepositPastDue" name="room-filters">
            {{ item.hasIncludeDepositPastDue.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasDueInArrivals">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenDueInArrivals}"></span>
            <input type="checkbox" ng-model="item.chosenDueInArrivals" name="room-filters">
            {{ item.hasDueInArrivals.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasDueOutDepartures">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenDueOutDepartures}"></span>
            <input type="checkbox" ng-model="item.chosenDueOutDepartures" name="room-filters">
            {{ item.hasDueOutDepartures.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeNew">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeNew}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeNew" name="room-filters">
            {{ item.hasIncludeNew.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasIncludeBoth">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.chosenIncludeBoth}"></span>
            <input type="checkbox" ng-model="item.chosenIncludeBoth" name="room-filters">
            {{ item.hasIncludeBoth.description }}
        </label>
    </div>
</div>

<div class="filter" ng-if="item.hasIncludeComapnyTaGroup">
    <label>Company/TA/Group</label>
    <input class="icons icon-search" auto-complete auto-options="listCtgAutoCompleteOptions" data-card-type="" type="text" placeholder="Search by Company/TA/Group" value="" autocomplete="off" ng-model="item.uiChosenIncludeComapnyTaGroup" report-source="reportList" report-index="{{ $index }}" ul-class="find-cards" ng-focus="returnItem(item)" ng-change="removeCompTaGrpId(item)">
    <input type="text" class="hidden" ng-model="item.chosenIncludeComapnyTaGroup">
</div>

<div class="options" ng-if="item.hasGuaranteeType && item.guaranteeTypes.length">
    <label>Guarantee Type</label>
    <div class="faux-select placeholder" ng-click="guranteeTypeClicked($event, item)">{{ item.guaranteeTitle }}</div>
    <div class="faux-select-options" ng-class="{ 'hidden': !item.selectGuaranteeOpen }" ng-click="fauxOptionClicked($event, item)">
        <label class="checkbox inline" ng-repeat="each in item.guaranteeTypes">
            <span class="icon-form icon-checkbox" ng-class="{'checked': each.selected}"></span>
            <input type="checkbox" ng-model="each.selected" ng-change="fauxGuaranteeOptionClicked(item)">
            {{ each.name }}
        </label>
    </div>
</div>

<div class="options" ng-if="item.hasByChargeGroup && item.chargeGroups.length">
    <label>Charge Group(s)</label>
    <div class="faux-select placeholder" ng-click="chargeGroupClicked($event, item)">{{ item.chargeGroupTitle }}</div>
    <div class="faux-select-options" ng-class="{ 'hidden': !item.selectChargeGroupOpen }" ng-click="fauxChargeGroupOptionClicked($event, item)">
        <label class="checkbox inline">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.allChargeGroupSelected}"></span>
            <input type="checkbox" ng-model="item.allChargeGroupSelected" ng-change="fauxChargeGroupOptionClicked(undefined, item, true)" name="room-filters"> Select All
        </label>
        <label class="checkbox inline" ng-repeat="each in item.chargeGroups track by $index">
            <span class="icon-form icon-checkbox" ng-class="{'checked': each.selected}"></span>
            <input type="checkbox" ng-model="each.selected" ng-change="fauxChargeGroupOptionClicked(undefined, item)">
            {{ each.description }}
        </label>
    </div>
</div>

<div class="options" ng-if="item.hasByChargeCode && item.chargeCodes.length">
    <label>Charge Code(s)</label>
    <div class="faux-select placeholder" ng-click="chargeCodeClicked($event, item)">{{ item.chargeCodeTitle }}</div>
    <div class="faux-select-options" ng-class="{ 'hidden': !item.selectChargeCodeOpen }" ng-click="fauxChargeCodeOptionClicked($event, item)">
        <label class="checkbox inline">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.allChargeCodeSelected}"></span>
            <input type="checkbox" ng-model="item.allChargeCodeSelected" ng-change="fauxChargeCodeOptionClicked(undefined, item, true)" name="room-filters"> Select All
        </label>
        <label class="checkbox inline" ng-repeat="each in item.chargeCodes track by $index">
            <span class="icon-form icon-checkbox" ng-class="{'checked': each.selected}"></span>
            <input type="checkbox" ng-model="each.selected" ng-change="fauxChargeCodeOptionClicked(undefined, item)">
            {{ each.description }}
        </label>
    </div>
</div>

<!-- Specifice markup for display options for the Source and Market reports -->
<div class="options" ng-if="item.hasSourceMarketFilter">
    <label for="report-options">Display</label>
    <div class="faux-select placeholder" ng-click="selectDisplayClicked($event, item)">{{ item.displayTitle }}</div>
    <!-- Remove class "hidden" when ".faux-select" clicked -->
    <div class="faux-select-options" ng-class="{ 'hidden': !item.selectDisplayOpen }" ng-click="fauxOptionClicked($event, item)">
        <label class="checkbox inline" ng-if="item.hasSource">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.showSource}"></span>
            <input type="checkbox" ng-model="item.showSource"> {{ item.hasSource.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasMarket">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.showMarket}"></span>
            <input type="checkbox" ng-model="item.showMarket"> {{ item.hasMarket.description }}
        </label>
        <label class="checkbox inline" ng-if="item.hasOrigin">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : item.showOrigin}"></span>
            <input type="checkbox" ng-model="item.showOrigin"> {{ item.hasOrigin.description }}
        </label>
    </div>
</div>

<div class="sort" ng-if="item.sortByOptions">
    <label>Sort By</label>
    <div class="select">
        <select ng-model="item.chosenSortBy" ng-options="sortBy.value as sortBy.description for sortBy in item.sortByOptions | filter:showValidSortBy" ng-change="sortByChanged(item)" iscroll-stop-propagation>
            <option value="">Sort By</option>
        </select>
    </div>
</div>

<div class="sort" ng-if="item.groupByOptions">
    <label>Group By</label>
    <div class="select">
        <select ng-model="item.chosenGroupBy" ng-options="groupBy.value as groupBy.description for groupBy in item.groupByOptions" ng-change="groupByChanged(item)" iscroll-stop-propagation>
        </select>
    </div>
</div>

<div class="options long-list" ng-if="item.hasMarketsList">
    <label for="report-options">Market(s)</label>
    <div class="faux-select placeholder" ng-click="toggleFauxSelect($event, item.hasMarketsList)">{{ item.hasMarketsList.title }}</div>
    <div class="faux-select-options" ng-class="{ 'hidden': !item.hasMarketsList.show }">
        <label class="checkbox inline" ng-show="item.hasMarketsList.data.length > 1">
            <span class="icon-form icon-checkbox" ng-class="{ 'checked' : item.hasMarketsList.selectAll }"></span>
            <input type="checkbox" ng-model="item.hasMarketsList.selectAll" ng-change="fauxSelectChange(item.hasMarketsList, true)" name="room-filters"> Select All
        </label>
        <label class="checkbox inline" ng-repeat="market in item.hasMarketsList.data">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : market.selected}"></span>
            <input type="checkbox" ng-model="market.selected" ng-change="fauxSelectChange(item.hasMarketsList)" name="room-filters"> {{ market.name }}
        </label>
    </div>
</div>

<div class="options long-list" ng-if="item.hasSourceList">
    <label for="report-options">Source(s)</label>
    <div class="faux-select placeholder" ng-click="toggleFauxSelect($event, item.hasSourceList)">{{ item.hasSourceList.title }}</div>
    <div class="faux-select-options" ng-class="{ 'hidden': !item.hasSourceList.show }">
        <label class="checkbox inline" ng-show="item.hasSourceList.data.length > 1">
            <span class="icon-form icon-checkbox" ng-class="{ 'checked' : item.hasSourceList.selectAll }"></span>
            <input type="checkbox" ng-model="item.hasSourceList.selectAll" ng-change="fauxSelectChange(item.hasSourceList, true)" name="room-filters"> Select All
        </label>
        <label class="checkbox inline" ng-repeat="source in item.hasSourceList.data">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : source.selected}"></span>
            <input type="checkbox" ng-model="source.selected" ng-change="fauxSelectChange(item.hasSourceList)" name="room-filters"> {{ source.name }}
        </label>
    </div>
</div>

<div class="options long-list" ng-if="item.hasOriginsList">
    <label for="report-options">Origin(s)</label>
    <div class="faux-select placeholder" ng-click="toggleFauxSelect($event, item.hasOriginsList)">{{ item.hasOriginsList.title }}</div>
    <div class="faux-select-options" ng-class="{ 'hidden': !item.hasOriginsList.show }">
        <label class="checkbox inline" ng-show="item.hasOriginsList.data.length > 1">
            <span class="icon-form icon-checkbox" ng-class="{ 'checked' : item.hasOriginsList.selectAll }"></span>
            <input type="checkbox" ng-model="item.hasOriginsList.selectAll" ng-change="fauxSelectChange(item.hasOriginsList, true)" name="room-filters"> Select All
        </label>
        <label class="checkbox inline" ng-repeat="origin in item.hasOriginsList.data">
            <span class="icon-form icon-checkbox" ng-class="{'checked' : origin.selected}"></span>
            <input type="checkbox" ng-model="origin.selected" ng-change="fauxSelectChange(item.hasOriginsList)" name="room-filters"> {{ origin.name }}
        </label>
    </div>
</div>

<a class="button green" ng-click="setnGenReport()">Show</a>
