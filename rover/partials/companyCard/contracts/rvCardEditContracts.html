<div ng-controller="rvCardEditContractsCtrl" class="contracts-details" ng-show="!contractData.noContracts && contractData.mode === 'EDIT'">
    
    <div include-replace ng-include="'/assets/partials/companyCard/contracts/rvCardContractsLinking.html'"></div>

    <!-- If we don't show the bottom form, add .without-footer -->
    <!-- If we don't show the search for some reason, add .without-header -->
    <div class="contracts-details-form scrollable" ng-iscroll="editContractScroller">
        <div class="wrapper float">
            <div class="holder left">
                <strong class="h3">Contract Details</strong>
                <div class="entry only-switch margin">
                    <label for="contract-status">Status</label>
                    <!-- Add .on, when active. Remove otherwise -->
                    <div class="switch-button full-width" ng-class="{'on': contractData.editData.is_active && !contractData.disableFields}">
                        <input id="contract-status" ng-model="contractData.editData.is_active" ng-click="toggleActiveStatus()" type="checkbox">
                        <label class="data-off">
                            <span class="value">Active</span>
                            <span class="switch-icon">Inactive</span>
                        </label>
                        <label class="data-on">
                            <span class="switch-icon">Active</span>
                            <span class="value">Inactive</span>
                        </label>
                    </div>
                </div>
                <div class="entry margin">
                    <label for="contract-name">Name</label>
                    <input ng-readonly="contractData.disableFields" name="contract-name" id="contract-name"  ng-model="contractData.editData.contract_name" placeholder="Contract Name" type="text" />
                </div>
                <div class="entry">
                    <label for="contract-code">Access Code</label>
                    <input ng-readonly="!contractData.userHasPermission" name="contract-code" id="contract-code"  ng-model="contractData.editData.access_code" placeholder="Access Code" type="text" />
                </div>
                <div class="entry margin has-datepicker">
                    <label for="contract-start">Start Date</label>
                    <input ng-disabled="contractData.disableFields" name="contract-start" id="contract-start" class="datepicker" ng-model="contractData.editData.begin_date" ng-click="contractStart()" placeholder="Select Start Date" maxlength="8" readonly type="text" />
                </div>
                <div class="entry has-datepicker">
                    <label for="contract-end">End Date</label>
                    <input ng-disabled="contractData.disableFields" name="contract-end" id="contract-end" class="datepicker" ng-model="contractData.editData.end_date" ng-click="contractEnd()" placeholder="Select End Date" maxlength="8" readonly type="text" />
                </div>

                <div include-replace ng-include="'/assets/partials/companyCard/contracts/rvCardSearchContract.html'"></div>

                <div class="entry margin">
                    <label for="contracted-nights">Contracted nights</label>
                    <input ng-disabled="contractData.disableFields" name="contracted-nights" id="contracted-nights" class=" contracted-nights" placeholder="Nights per month" ng-model="contractData.editData.total_contracted_nights" ng-click="editContractedNights()" maxlength="8" readonly type="text" />
                </div>
            </div>
            <!-- <div class="holder right">
                <strong class="h3">Statistics</strong>
                <ul id="contract-stats" class="contract-stats" ng-if="contractData.editData.statistics">
                    <li>Booked Nights <span>{{contractData.editData.statistics.booked_nights}}</span></li>
                    <li>Total Nights <span>{{contractData.editData.statistics.total_nights}}</span></li>
                    <li>Total Stays <span>{{contractData.editData.statistics.total_stays}}</span></li>
                    <li>Total Revenue <span class="green">{{currencySymbol}}{{contractData.editData.statistics.total_revenue}}</span></li>
                    <li>Average Rate <span>{{currencySymbol}}{{contractData.editData.statistics.average_rate}}</span></li>
                </ul>                
            </div> -->
        </div>
    </div>
    <div class="contract-details-footer">
        <button ng-show="!contractData.disableFields" type="button" class="button green" ng-click="updateContract()">Update Contract</button>
    </div>
</div>