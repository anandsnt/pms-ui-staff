<div ng-controller="rvCardEditContractsCtrl" class="contracts-details">
    <!-- If we don't show the bottom form, add .without-footer -->
    <!-- If we don't show the search for some reason, add .without-header -->
    <div class="contracts-details-form scrollable" ng-class="{'without-footer': contractData.isPastContract}" ng-iscroll="editContractScroller">
        <div class="wrapper float">
            <div class="holder left">
                <div class="entry full-width">
                    <label class="disable-element" for="linked-contract-name">Name</label>
                    <input ng-readonly="contractData.disableFields" name="contract-name" id="linked-contract-name" ng-model="contractData.editData.contract_name" placeholder="Contract Name" type="text" />
                </div>
                <div class="entry margin">
                    <label class="disable-element" for="linked-contract-code">Access Code</label>
                    <input ng-readonly="editAccessCode()" name="contract-code" id="linked-contract-code"  ng-model="contractData.editData.access_code" placeholder="Access Code" type="text" />
                </div>
                <div class="entry only-switch">
                    <label class="disable-element" for="travel-agent-contract-status">Status</label>
                    <!-- Add .on, when active. Remove otherwise -->
                    <!-- Add .disabled when the switch is disabled -->
                    <div class="switch-button full-width" ng-class="{'on': contractData.editData.is_active, 'disable-element': contractData.disableFields}">
                        <input id="contract-status" ng-model="contractData.editData.is_active" ng-click="toggleActiveStatus()" type="checkbox">
                        <label class="data-off">
                            <span class="value">Active</span>
                            <span class="switch-icon">Inactive</span>
                        </label>
                        <label class="data-on">
                            <span class="switch-icon">Active</span>
                            <span class="value">Inactive</span>
                        </label>
                    </div>
                </div>
                <div class="entry margin has-datepicker">
                    <label class="disable-element" for="contract-start">Start Date</label>
                    <input ng-disabled="contractData.disableFields" name="contract-start" id="contract-start" class="datepicker" ng-model="contractData.editData.begin_date" ng-value="contractData.editData.begin_date | date:dateFormat" ng-click="contractStart()" placeholder="Select Start Date" maxlength="8" readonly type="text" />
                </div>
                <div class="entry has-datepicker">
                    <label class="disable-element" for="contract-end">End Date</label>
                    <input ng-disabled="contractData.disableFields" name="contract-end" id="contract-end" class="datepicker" ng-model="contractData.editData.end_date" ng-value="contractData.editData.end_date | date:dateFormat" ng-click="contractEnd()" placeholder="Select End Date" maxlength="8" readonly type="text" />
                </div>
                <div class="entry margin">
                    <label class="disable-element" for="contracted-nights">Contracted nights</label>
                    <input ng-disabled="contractData.disableFields" name="contracted-nights" id="contracted-nights" class=" contracted-nights" placeholder="Nights per month" ng-model="contractData.editData.total_contracted_nights" ng-click="editContractedNights()" maxlength="8" readonly type="text" />
                </div>
            </div>
            <div class="holder right">
                <!-- show only if we can delete the contract -->
                <button ng-if="contractData.editData.is_master_contract && contractData.hasDeleteContractPermission && !contractData.isPastContract" type="button" class="button red" ng-click="deleteContract()">Delete Contract</button>
                <div include-replace ng-include="'/assets/partials/companyCard/contracts/rvCardSearchContractedRate.html'"></div>
            </div>
        </div>
    </div>
    <div class="contract-details-footer" ng-if="!(contractData.isPastContract || contractData.disableFields)">
        <button type="button" class="button blank" ng-click="restoreContract()">Cancel</button>
        <button type="button" class="button green" ng-click="updateContract()">Save Changes</button>
    </div>
</div>
