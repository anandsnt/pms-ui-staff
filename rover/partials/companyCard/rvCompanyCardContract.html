<div id="cc-contracts" name="cc-contracts" class="form card-tab contracts" style="height: 550px !important; overflow: scroll !important;" ng-show="currentSelectedTab == 'cc-contracts'">
    <div ng-include="'/assets/partials/common/notification_message.html'"></div>
    <div id="cc-contracts-header" class="tab-header">
        <div class="entry">
            <div class="select" ng-hide="isAddMode">
                <select name="company-contract" ng-model="contractSelected">
                    <option value="" class="placeholder">Select contract</option>
                    <optgroup label="Current">
                    	<option ng-click="clickedContractList(type.id)" value="{{type.id}}" ng-selected="type.id==contractSelected" ng-repeat="type in contractList.current_contracts" >{{type.contract_name}}</option>
                	</optgroup>
                	<optgroup label="Future">
                    	<option ng-click="clickedContractList(type.id)" value="{{type.id}}" ng-selected="type.id==contractSelected" ng-repeat="type in contractList.future_contracts" >{{type.contract_name}}</option>
                	</optgroup>
                	<optgroup label="History">
                    	<option ng-click="clickedContractList(type.id)" value="{{type.id}}" ng-selected="type.id==contractSelected" ng-repeat="type in contractList.history_contracts" >{{type.contract_name}}</option>
                	</optgroup>
                </select>
            </div>
            <div class="" ng-show="isAddMode" >
                <input ng-model="contractData.contract_name" placeholder="Contract Name" name="company-contract-new" class="" value="{{contractData.contract_name}}" maxlength="8" type="text" />
            </div>
        </div>
        <div class="actions" ng-hide="isAddMode">
            <button id="company-new-contract" type="button" class="button green" ng-click="isAddMode=true">New Contract</button>
        </div>
        <div class="actions" ng-show="isAddMode">
        	<button id="company-new-contract" type="button" class="button red" ng-click="isAddMode=false">Cancel</button>
            <button id="company-new-contract" type="button" class="button green" ng-click="AddNewContract(isAddMode=false)">Save Contract</button>
        </div>
    </div>
    <div id="cc-contracts-content" class="tab-details">
    	<div class="wrapper" ng-class="{'overlay':isHistorySelected==true}" ng-iscroll="contracts_scroll" ng-iscroll-delay="1000" >

            <div class="holder left">
                <strong class="h3">Details</strong>
                <div class="entry margin">
                    <label for="company-rate">Contracted Rate</label>
                    <div class="select">
		                <select name="company-contract" ng-model="contractData.contracted_rate_selected">
		                    <option value="" class="placeholder">Select contracted rate</option>
		                    <option value="{{rate.id}}" ng-selected="rate.id==contractData.contracted_rate_selected" ng-repeat="rate in contractData.rates" >{{rate.name}}</option>
		                </select>
		            </div>
                </div>
                <div class="entry price-adjust no-label">
                    <div class="select">
                        <select name="company-rate-adjust-1" >
                            <option ng-repeat="type in ['+','-']" ng-model="contractData.selected_type" value="type">{{type}}</option>
                        </select>
                    </div>
                    <input ng-model="contractData.rate_value" name="company-rate-adjust-2" id="company-rate-adjust-2" value="{{contractData.rate_value}}" type="text" />
                    <div class="select">
                        <select name="company-rate-adjust-3" >
                        	<option ng-repeat="symbol in ['%','$']" ng-model="contractData.selected_symbol" value="symbol">{{symbol}}</option>
                        </select>
                    </div>
                </div>
                <div class="entry margin has-datepicker">
                    <label for="company-contract-start">Contract Start</label>
                    <input ng-click="contractStart()" name="company-contract-start" id="company-contract-start" class="datepicker1" value="{{contractData.begin_date}}" maxlength="8" readonly type="text" />
                </div>
                <div class="entry has-datepicker">
                    <label for="company-contract-end">Contract End</label>
                    <input ng-click="contractEnd()" name="company-contract-end" id="company-contract-end" class="datepicker1" value="{{contractData.end_date}}" maxlength="8" readonly type="text" />
                </div>
                <div class="entry margin only-switch">
                    <label for="company-contract-fixed-rate">Fixed Rate</label>
                    <div ng-model="contractData.is_fixed_rate" class="switch-button full-width" ng-class="{'on': contractData.is_fixed_rate}">
                        <input ng-click="contractData.is_fixed_rate = !contractData.is_fixed_rate" name="company-contract-fixed-rate" id="company-contract-fixed-rate" value="1" checked type="checkbox" />
                        <label class="data-off">
                            <span class="value">Yes</span>
                            <span class="switch-icon">No</span>
                        </label>
                        <label class="data-on">
                            <span class="switch-icon">Yes</span>
                            <span class="value">No</span>
                        </label>
                    </div>
                </div>
                <div class="entry only-switch">
                    <label for="company-contract-show-on-bill">Show on Guest Bill</label>
                    <div ng-model="contractData.is_rate_shown_on_guest_bill" class="switch-button full-width" ng-class="{'on': contractData.is_rate_shown_on_guest_bill}">
                        <input ng-click="contractData.is_rate_shown_on_guest_bill = !contractData.is_rate_shown_on_guest_bill" name="company-contract-show-on-bill" id="company-contract-fixed-rate" value="1" checked type="checkbox" />
                        <label class="data-off">
                            <span class="value">Yes</span>
                            <span class="switch-icon">No</span>
                        </label>
                        <label class="data-on">
                            <span class="switch-icon">Yes</span>
                            <span class="value">No</span>
                        </label>
                    </div>
                </div>
                <div class="entry">
                    <label for="company-contracted-nights">Contracted nights</label>
                    <input ng-click="clickedContractedNights()" name="company-contracted-nights" id="company-contracted-nights" class="open-modal1 contracted-nights" placeholder="Nights per month" value="{{contractData.total_contracted_nights}}" maxlength="8" readonly type="text" />
                </div>
            </div>
            <div class="holder right" ng-hide="isAddMode">
                <strong class="h3">Statistics</strong>
                <ul id="company-contract-stats" class="contract-stats">
                    <li>Booked Nights <span>{{contractData.statistics.booked_nights}}</span></li>
                    <li>Total Nights <span>{{contractData.statistics.total_nights}}</span></li>
                    <li>Total Stays <span>{{contractData.statistics.total_stays}}</span></li>
                    <li>Total Revenue <span class="green">{{contractData.statistics.total_revenue}}</span></li>
                    <li>Average Rate <span>{{contractData.statistics.average_rate}}</span></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="company-cards-occupancy" class="occupancy" ng-hide="isAddMode">
        <strong class="h3">Occupancy</strong>
        <div class="occgraph-outer" style='width: 100%'>
            <highchart id="occGraphContainer" config="highchartsNG"></highchart>
        </div>
    </div>
</div>
