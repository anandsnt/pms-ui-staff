<div id="modal" class="modal-show">
	<form id="print-key" name="print-key" class="modal-content form key-delivery" ng-class="data.colorCodeClass">
		<button id="modal-close" type="button" class="modal-close blue" ng-click="closeDialog()" ng-class="data.colorCodeClassForClose">
			<span class="icons icon-close">
		</button>
		<!-- Left contents -->
		<div id="room-status" class="print-key" ng-class="{'connecting': deviceConnecting, 'connected': showPrintKeyOptions || keyesPrinted, 'not-connected' : deviceNotConnected, 'completed' : keyesPrinted}">
			<span class="h2 message">{{data.reservationStatusText}}</span>
			<h1>
				{{guestCardData.contactInfo.first_name}} {{guestCardData.contactInfo.last_name}} 
				<span>{{reservationData.reservation_card.room_number}}</span>
			</h1>
			<span class="number">Reservation {{reservationData.reservation_card.confirmation_num}}</span>
		</div>
		<!--end-->

		<!-- Right contents -->
		<div id="key-status" class="print-key" ng-class="{'connecting': deviceConnecting, 'connected': showPrintKeyOptions || keyesPrinted , 'not-connected' : deviceNotConnected , 'completed' : keyesPrinted}">
			<span ng-show="deviceConnecting">
				<span class="h2 message">Print Room Key</span>
				<em class="status icon-key pending">Connecting to Key Card Reader ...</em>
			</span>

			<span ng-show="deviceNotConnected">
				<span class="h2 message">Print Room Key</span>
				<em class="status icon-key error">Error connecting to Key Card Reader!</em>
				<div class="action">
					<button type="button" id="try-again" class="button blue" ng-click="showDeviceConnectingMessge()">Try Again</button>
					<button type="button" id="cancel" class="button blank" ng-click="closeDialog()">Cancel</button> 
				</div>
			</span>

			<span ng-show="showPrintKeyOptions">
				<span class="h2 message">Print Room Key</span>
					<em class="status icon-key success">{{status}}</em>
					<div id="print-keys">
						<div class="entry radio-check cols-4 float">
							<label for="keys">How many keys?</label>
							<label ng-repeat="i in [1,2,3,4]"  ng-class="{'checked':numberOfKeysSelected>=($index+1)}" class="only-number">
								<input name="keys" id="key{{$index+1}}" value="{{$index+1}}" type="checkbox" ng-checked="numberOfKeysSelected>=($index+1)" ng-click="keySelected($index+1)" ng-disabled="writingInProgress"/> {{$index+1}}
							</label>
					
						</div>		
						<div class="actions float">
							<button type="button" id="create-key" class="button " ng-class="{'grey':numberOfKeysSelected==0 , 'green': numberOfKeysSelected>=1}" ng-disabled="numberOfKeysSelected==0" ng-click="clickedPrintKey()">Print key</button>
							<button type="button" id="cancel" class="button blank">Cancel</button>
						</div>
					</div>
			</span>

			<span ng-show="keyesPrinted">
				<span class="h2 message">Print Room Key</span>
					<em class="info">Keys printed!</em>
					<div class="action">
						<!-- <a href="reservation-card/check-in/" class="back-button modal-close button brand-colors" data-transition="nested-view reload-content">View Stay Card</a>
						<a data-href="history" href="search/" class="modal-close button blue" data-transition="main-page" data-page="search">Search</a> -->
						<button type="button" class="button blank modal-close">Close</button>
					</div>
			</span>
		</div>
		<!-- end -->
	</form>
</div>