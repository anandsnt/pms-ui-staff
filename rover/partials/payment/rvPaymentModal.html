<div role="dialog" id="modal" class="modal-show"><form ng-click="setPosition()" class="modal-content form new-content payment-popup" name="new-payment" id="new-payment" action="http://stayntouch.perceptiveinteractive.com/with-cards/app/modals/new-payment-method/" method="post">
	<button class="dark-title modal-close" type="button" id="modal-close" ng-click="closeDialog()">
		<span class="icons icon-close"></span>
	</button>
	<strong class="new-form-title" translate>NEW_PAYMENT_METHOD</strong>
	<div ng-include="'/assets/partials/common/notification_message.html'"></div>
	<div  class="scrollable scroll-payment-list" id="addPayment" ng-iscroll='addPayment' ng-iscroll-delay='300' >
		<div class="entry full-width">
		    <label for="payment-type" translate>PAYMENT_TYPE</label>
		    <div class="select">
	
		    	<select ng-disabled="shouldShowDisabled" ng-model="saveData.selected_payment_type" class="placeholder" ng-change="renderPaymentValues()">
					<option value="" translate> SELECT_PAYMENT_TYPE </option>
	
					<option ng-repeat="paymenttype in data" value="{{$index}}" ng-selected="{{$index == saveData.selected_payment_type}}">{{paymenttype.description}}</option>
				</select>
		    	
		
			</div>
		</div>

	</div>
	<div class="entry full-width scroll-payment-list" ng-show="true">
		<div>
			<a class="active-item existing_payments float item-payment" ng-repeat="paymentlist in guestPaymentList" >
						<figure class="card-logo">
							<img src="/assets/{{paymentlist.card_code}}.png" alt="">
						</figure> 
						<span class="number"> <span translate>ENDING_WITH </span>
							<span class="value number"> {{paymentlist.mli_token}} </span> 
						</span> 
						<span class="date"> <span translate>DATE </span>
							<span class="value date"> {{paymentlist.card_expiry}}  </span> 
						</span> 
						<span class="name"> <span translate>NAME </span>
							<span class="value name"> {{paymentlist.card_name}} </span> 
						</span> 
						<br clear="all">
			 </a>
		 </div>
	</div>	
	<div class="entry full-width">
	    <label for="credit-card" translate>SELECT_CREDIT_CARD_LABEL</label>
	    <div class="select">
	    	<select ng-disabled="shouldShowDisabled" ng-model="saveData.credit_card" class="placeholder">
				<option value="" translate> SELECT_CREDIT_CARD_LABEL </option>
				<option ng-repeat="paymenttypevalue in paymentTypeValues" value="{{paymenttypevalue.cardcode}}" ng-selected="{{paymenttypevalue.cardcode == saveData.credit_card}}">{{paymenttypevalue.cardname}}</option>
			</select>
	    	
			

		</div>
		<div class="holder float">
			<div class="entry">
			    <label for="card-number-set1" translate>CARD_NUMBER</label>
			    <input type="text" ng-readonly="shouldShowDisabled" maxlength="16" value="{{saveData.card_number}}" placeholder="Enter Card number" ng-model="saveData.card_number">
			</div>
			<div class="entry" ng-hide="passData.is_swiped">
			    <label for="ccv"><span translate="" class="ng-scope">CCV</span></label>
			    <input type="text" ng-model="saveData.cvv" placeholder="CCV"  size="6" class="ng-pristine ng-valid">
			  
			</div>
			<div class="entry">
			    <label for="expiry-month" ><span translate>EXPIRATION_DATE </span>(<span>MM/YY</span>)</label>
			    <input type="text" ng-readonly="shouldShowDisabled" size="2" maxlength="2" value="" placeholder="MM" ng-model="saveData.card_expiry_month">
			    <input type="text" ng-readonly="shouldShowDisabled" size="2" maxlength="2" value="" placeholder="YY" ng-model="saveData.card_expiry_year">
			</div>
		</div>
		<div class="entry full-width">
		    <label for="name-on-card" translate>NAME_ON_CARD</label>
		    <input type="text" ng-readonly="shouldShowDisabled" ng-model="saveData.name_on_card" value="{{saveData.name_on_card}}" placeholder="Enter name on card" id="name-on-card" name="name-on-card">
		</div>	
		<div class="entry full-width add-to-guest" ng-show="!isFromGuestCard">
	        <label class="checkbox add-to-guest" ng-class="{'checked': saveData.add_to_guest_card}" >
	        	<span class="icon-form icon-checkbox" ng-class="{'checked': saveData.add_to_guest_card}"></span>
				<input type="checkbox" ng-model="saveData.add_to_guest_card" >
				<span class="guest_card_promotions" translate>ADD_TO_GUEST_CARD</span> 
			</label>
		</div>

		<div class="entry">
		    <label for="expiry-month" ><span translate>EXPIRATION_DATE </span>(<span>MM/YY</span>)</label>
		    <input type="text" ng-readonly="shouldShowDisabled" size="2" maxlength="2" value="" placeholder="MM" ng-model="saveData.card_expiry_month">
		    <input type="text" ng-readonly="shouldShowDisabled" size="2" maxlength="2" value="" placeholder="YY" ng-model="saveData.card_expiry_year">
		</div>
	</div>
	<div class="entry full-width">
	    <label for="name-on-card" translate>NAME_ON_CARD</label>
	    <input type="text" ng-readonly="shouldShowDisabled" ng-model="saveData.name_on_card" value="{{saveData.name_on_card}}" placeholder="Enter name on card" id="name-on-card" name="name-on-card">
	</div>	
	<div class="entry full-width" ng-show="showPaymentAmount">
	    <label for="name-on-card" translate>AMOUNT</label>
	    <input type="text" ng-model="saveData.amount" value="{{saveData.amount}}" placeholder="Enter amount" >
	</div>	
	<div class="entry full-width add-to-guest" ng-show="!isFromGuestCard">
        <label class="checkbox add-to-guest" ng-class="{'checked': saveData.add_to_guest_card}" >
        	<span class="icon-form icon-checkbox" ng-class="{'checked': saveData.add_to_guest_card}"></span>
			<input type="checkbox" ng-model="saveData.add_to_guest_card" >
			<span class="guest_card_promotions" translate>ADD_TO_GUEST_CARD</span> 
		</label>
	</div>
	<div class="actions float">
		<button class="button blank modal-close" id="cancel" type="button" ng-click="closeDialog()" translate>CANCEL</button>
		<button class="button green modal-close" id="save" type="button" ng-click="savePaymentDetails()" translate>ADD</button>  
	</div>
</form></div>