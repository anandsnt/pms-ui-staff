<div class="restrictions-table" ng-controller="rvRateManagerHierarchyRestrictionsListCtrl" >

    <ul class="restrictions-table-header">
        <li>Restriction</li>
        <li ng-hide="ngDialogData.hierarchyLevel === 'House'">Set on</li>
        <li>Remove</li>
    </ul>

    <div class="scrollable restrictions-table-list" ng-iscroll="hierarchyPopupListScroll">
        <div class="wrapper">
            <ul>
                <li ng-if="restrictionObj.listData.closed">
                    <div class="restriction-item" ng-click="clickedOnListItem('closed')">
                        <div class="data">
                            <span class="restriction-icon bg-red icon-cross">
                            </span>
                            <span class="restriction-title">CLOSED</span>
                        </div>
                        <div ng-if="restrictionObj.listData.closed.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restrictionObj.listData.closed.set_on_values.length === 0">
                            <span class="set-on-text" >{{restrictionObj.listData.closed.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restrictionObj.listData.closed.set_on_values.length > 1">+{{restrictionObj.listData.closed.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restrictionObj.listData.closed.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('closed', false)"></span>
                    </button>
                </li>

                <li ng-if="restrictionObj.listData.closed_arrival">
                    <div class="restriction-item" ng-click="clickedOnListItem('closed_arrival')">
                        <div class="data">
                            <span class="restriction-icon bg-red icon-block">
                            </span>
                            <span class="restriction-title">CLOSED TO ARRIVAL</span>
                        </div>
                        <div ng-if="restrictionObj.listData.closed_arrival.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restrictionObj.listData.closed_arrival.set_on_values.length === 0">
                            <span class="set-on-text" >{{restrictionObj.listData.closed_arrival.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restrictionObj.listData.closed_arrival.set_on_values.length > 1">+{{restrictionObj.listData.closed_arrival.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restrictionObj.listData.closed_arrival.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('closed_arrival', false)"></span>
                    </button>
                </li>

                <li ng-if="restrictionObj.listData.closed_departure">
                    <div class="restriction-item" ng-click="clickedOnListItem('closed_departure')">
                        <div class="data">
                            <span class="restriction-icon bg-red">
                            </span>
                            <span class="restriction-title">CLOSED TO DEPARTURE</span>
                        </div>
                        <div ng-if="restrictionObj.listData.closed_departure.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restrictionObj.listData.closed_departure.set_on_values.length === 0">
                            <span class="set-on-text" >{{restrictionObj.listData.closed_departure.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restrictionObj.listData.closed_departure.set_on_values.length > 1">+{{restrictionObj.listData.closed_departure.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restrictionObj.listData.closed_departure.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('closed_departure', false)"></span>
                    </button>
                </li>

                <li ng-class="{'grouped': restrictionObj.listData.min_length_of_stay.length > 1, 'first': $first, 'last': $last}" ng-if="restrictionObj.listData.min_length_of_stay" ng-repeat="restriction in restrictionObj.listData.min_length_of_stay">
                    <div class="restriction-item" ng-click="clickedOnListItem('min_length_of_stay', $index)">
                        <div class="data">
                            <span class="restriction-icon bg-blue">
                                {{restriction.value}}
                            </span>  
                            <span class="restriction-title">MIN LENGTH OF STAY</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restriction.set_on_values.length === 0">
                            <span class="set-on-text" >{{restriction.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('min_length_of_stay', null)"></span>
                    </button>
                </li>

                <li ng-class="{'grouped': restrictionObj.listData.max_length_of_stay.length > 1, 'first': $first, 'last': $last}" ng-if="restrictionObj.listData.max_length_of_stay" ng-repeat="restriction in restrictionObj.listData.max_length_of_stay">
                    <div class="restriction-item" ng-click="clickedOnListItem('max_length_of_stay', $index)">
                        <div class="data">
                            <span class="restriction-icon bg-blue-dark">
                                {{restriction.value}}
                            </span>  
                            <span class="restriction-title">MAX LENGTH OF STAY</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restriction.set_on_values.length === 0">
                            <span class="set-on-text" >{{restriction.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('max_length_of_stay', null)"></span>
                    </button>
                </li>

                <li ng-class="{'grouped': restrictionObj.listData.min_stay_through.length > 1, 'first': $first, 'last': $last}" ng-if="restrictionObj.listData.min_stay_through" ng-repeat="restriction in restrictionObj.listData.min_stay_through">
                    <div class="restriction-item" ng-click="clickedOnListItem('min_stay_through', $index)">
                        <div class="data">
                            <span class="restriction-icon bg-violet">
                                {{restriction.value}}
                            </span>  
                            <span class="restriction-title">MIN STAY THROUGH</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restriction.set_on_values.length === 0">
                            <span class="set-on-text" >{{restriction.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('min_stay_through', null)"></span>
                    </button>
                </li>

                <li ng-class="{'grouped': restrictionObj.listData.min_advanced_booking.length > 1, 'first': $first, 'last': $last}" ng-if="restrictionObj.listData.min_advanced_booking" ng-repeat="restriction in restrictionObj.listData.min_advanced_booking">
                    <div class="restriction-item" ng-click="clickedOnListItem('min_advanced_booking', $index)">
                        <div class="data">
                            <span class="restriction-icon bg-green">
                                {{restriction.value}}
                            </span>  
                            <span class="restriction-title">MIN ADVANCE BOOKING</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restriction.set_on_values.length === 0">
                            <span class="set-on-text" >{{restriction.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('min_advanced_booking', null)"></span>
                    </button>
                </li>

                <li ng-class="{'grouped': restrictionObj.listData.max_advanced_booking.length > 1, 'first': $first, 'last': $last}" ng-if="restrictionObj.listData.max_advanced_booking" ng-repeat="restriction in restrictionObj.listData.max_advanced_booking">
                    <div class="restriction-item" ng-click="clickedOnListItem('max_advanced_booking', $index)">
                        <div class="data">
                            <span class="restriction-icon bg-orange">
                                {{restriction.value}}
                            </span>  
                            <span class="restriction-title">MAX ADVANCE BOOKING</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length !== restrictionObj.setOnCount" class="set-on" ng-hide="ngDialogData.hierarchyLevel === 'House' || restriction.set_on_values.length === 0">
                            <span class="set-on-text" >{{restriction.set_on_values[0].name}}</span>
                            <span class="set-on-more" ng-show="restriction.set_on_values.length > 1">+{{restriction.set_on_values.length - 1}} more</span>
                        </div>
                        <div ng-if="restriction.set_on_values.length === restrictionObj.setOnCount" class="set-on">
                            <div class="notice">{{restrictionObj.noticeLabel}}</div>
                        </div>
                    </div>
                    <button type="button" class="button white remove-restriction">
                        <span class="icons icon-remove-40" ng-click="clickedOnRemove('max_advanced_booking', null)"></span>
                    </button>
                </li>
            </ul>
        </div>
    </div>

</div>
