<div id="modal" ng-class="{'modal-show': !modalClosing}" role="dialog" ng-cloak>
	<div class="rate-manager-modal modal-content" ng-click="clearErrorMessage()">
	    <div class="modal-container">
	        <div class="modal-header">
	            <div class="modal-header-left">
	            	<h2>{{header}}</h2>
	            	<em>{{headerBottomLeftLabel}}</em>
	            	<em class="rate-name">{{headerBottomRightLabel}}</em>
	            </div>
	            <div class="modal-header-right">
	                <!-- Remove class .hidden when there is a notice-->
	                <div class="notice" ng-class="{'hidden': headerNoticeOnRight.trim() === ''}">
	                    {{headerNoticeOnRight}}
	                </div>
            	</div>
	        </div>
	        <div ng-include="'/assets/partials/common/notification_message.html'"></div>
	        <div class="modal-body">
	        	<div class="content-left">
                    <div class="restriction-list" >
					    <div class="restriction_text" >
					        <h3>
					            RESTRICTIONS
					        </h3>
					    </div>
					    <div class="scrollable" ng-iscroll="scroller-restriction-list">
					        <ul class="wrapper">
					        	<li class="restriction-type" 
					        		ng-repeat="restriction in restrictionList"  
					        		ng-click="changeRestrictionStatus(restriction)" 
					        		ng-class="{'selected': restriction.selected}">
					        		
					        		<div class="restriction-left">
						        		<span ng-class="restriction.className">
						        			{{restriction.value}}
						        		</span>
						        		<span class="restriction-name">{{restriction.description}}</span>

						        		<!-- Display this if the restriction is editable -->
						        		<span class="icons icon-double-arrow rotate-right" ng-if="restriction.hasInputField">
						        			
						        		</span>
						        	</div>

						        	<div class="restriction-right">

					                    <!-- Show this when the restriction is mixed -->
					                    <div class="mixed-button" ng-if="restriction.status === 'VARIED'">
					                        Varied
					                    </div>
					                    <!-- Show this when the restriction is NOT mixed -->
					                    <!-- Add class .on when restriction is ON, remove otherwise-->
					                    <!-- Add class .disabled if the restriction is editable and has no value, remove otherwise -->
					                    <div class="switch-button" ng-class="{'on': restriction.status === 'ON'}"
					                    	ng-if="restriction.status !== 'VARIED'">
					                        <span class="switch-icon"></span>
					                        <!-- Add attribute checked="checked" when the restriction is ON, remove otherwise -->
					                        <!-- Add attribute disabled="disabled" when restriction is editable and has no value, remove otherwise -->
					                        <input type="checkbox" ng-checked="restriction.status === 'ON'"/>
					                    </div>
					                         
					                </div>
					        	</li>
					    	</ul>
					    </div>					    
             		</div>
            	</div>
            	<div class="content-middle"> <!--ng-show="contentMiddleMode !== ''" -->
            		<div ng-show="contentMiddleMode === 'ROOM_TYPE_PRICE_LISTING'">
						<div class="restriction_text" >
						    <h3>
						        PRICES
						    </h3>
						    <!-- Display if we are viewing Rates -->
						    <em>Prices for all room types</em>
						</div>
						<div class="prices-container scrollable" ng-iscroll="room-type-price-listing">
						    <div class="wrapper">
						    
						        <div class="price-info" ng-repeat="roomType in roomTypeAndPrices">
						            <span class='name'>{{roomType.name}}</span>
						            <span class="price">{{roomType.single}}</span>
						        </div>
						        
						    </div>
						</div>            			
            		</div>

            		<div ng-show="contentMiddleMode === 'RESTRICTION_EDITING'">
	            		<div class="restriction_text">
						    <h3>{{restrictionForShowingTheDetails.description}}</h3>
						    <em>Adjust restriction for all room types</em>
						    <div class="mixed_restrictions notice" ng-show="restrictionForShowingTheDetails.status==='VARIED'">
						        This overrides all 
						        <strong class='restriction-description'>
						        	{{restrictionForShowingTheDetails.description}}
						        </strong>
						        restrictions for the selected room type(s) and date range.
						    </div>
						    <div class="inputlabel" for="restictionCount" ng-show="restrictionForShowingTheDetails.hasInputField">
						        <label for="restictionCount"> {{restrictionForShowingTheDetails.description}} </label>
						        <input id="restictionCount" ng-model="restrictionForShowingTheDetails.value"/>
						    </div>

						    <div class="cancellationbuttonwrap">
						        <button class="button green" type="button" ng-click="clickedOnRestrictionSetButton($event)">Set</button>
						        <button class="button red" type="button" ng-click="clickedOnRestrictionRemoveButton()">Remove</button>
						        <button class="button blank cancel" type="button" ng-click="">Cancel</button>
						    </div>
						</div>
            		</div>
            	</div>
            	<div class="content-right">
	                <h3>Apply to Dates</h3>
		            
		            <!-- Add class .checked when checked-->
		            <label class="checkbox" ng-class="{'checked': applyRestrictionsToDates}">
		                <!-- add class .checked when checked -->
		                <span class="icon-form icon-checkbox" ng-class="{'checked': applyRestrictionsToDates}"></span>
		                <!-- add attribute 'checked="checked"' when checked-->
		                <input name="apply-restriction-to-dates" id="apply-restriction-to-dates" 
		                	ng-model="applyRestrictionsToDates" type="checkbox"/>
		                Apply Restrictions
		            </label>

	                <h4>For every</h4>
	                <div class="list_week_days">
	                    <!-- Add class .checked when checked-->
	                    <label class="checkbox" ng-class="{'checked': weekDay.selected}"
	                    	ng-repeat="weekDay in weekDayRepeatSelection">
	                        <!-- Add class .checked when checked-->
	                        <span class="icon-form icon-checkbox" ng-class="{'checked': weekDay.selected}"></span>
	                        <!-- add attribute 'checked="checked"' when checked-->
	                        <input  ng-model="weekDay.selected" value="restrictions" type="checkbox"/>
	                         {{weekDay.weekDay}}
	                    </label>
	                    
	                    <!-- 'ButtonText':
	                        - 'Select All' - when some day is not selected
	                        - 'Select None' - when all days are selected
	                    -->
	                    <button ng-click="clickedOnWeekDaySelectAllButton()" 
	                    	ng-show="!showSelectNoneForWeekDaySelection()">
	                        Select All
	                    </button>
	                    <button ng-show="showSelectNoneForWeekDaySelection()"
	                    	ng-click="clickedOnWeekDaySelectNoneButton()">
	                        Select None
	                    </button>	                    
	                </div>

	                <h4>Until</h4>
	                <div class="has-datepicker">
	                    <input placeholder="Select Date Range" type="text" class="range-datepicker green" readonly rv-clear-text-box listen-this="untilDate" ui-date="datePickerOptions" value="{{untilDate|date:dateFormat}}" />
	                </div>

	            </div>
	        </div>

			<div class="footer">
	            <div class="actions">
	                <button class="button blank" type="button" ng-click="closeDialog()">
	                    Cancel
	                </button>
	                <!-- remove class .hide if there is any override and rate is not a child or any other rule is applied. Please do review rules for overrides
	                    -->
	                <button class="button purple" ng-hide="true" type="button">
	                    Clear Rate Overrides
	                </button>
	            
	                <button class="button green" ng-click="clickedOnSetButton($event)" type="button">
	                    Set
	                </button>
	            </div>
        	</div>
	    </div>
	</div>
</div>