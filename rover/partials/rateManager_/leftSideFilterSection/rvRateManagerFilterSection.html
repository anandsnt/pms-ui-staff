<div id="rateManagerLeftPanel" ng-controller="rvRateManagerLeftSideFilterCtrl" class="filter-options"
     ng-click="hideCompanyCardSearchResults()" 
     ng-class="{'slide_right': rateManagerDataModel.filterOptions.isVisible,
                'slide_left': !rateManagerDataModel.filterOptions.isVisible}" >

    <a class="leftMenuHandle" ng-click="toggleFilterOption()"></a>
    <div class="filter-padding">
        <div class="fixed-container">
            <h3>FILTER OPTIONS</h3>


            <div class="scrolling-container" ng-iscroll="filter_details" ng-iscroll-delay="50">

                <div class="holder left">

                    <div class="entry has-datepicker">
                        <label for="rmDateRange">DATE RANGE</label>
                        <input id="rmDateRange" placeholder="Select Date Range" readonly="" maxlength="8" value="{{selectedDateRange}}" class="hasDatepicker">
                        <button ng-click="showCalendar()" type="button" class="ui-datepicker-trigger">...</button>
                    </div>


                    <div class="entry">
                        <label for="rmZoom">ZOOM LEVEL</label>
                        <div class="select">
                            <select iscroll-stop-propagation="" id="rmZoom" name="zoom-level"
                                    ng-model="rateManagerDataModel.filterOptions.zoomLevel.selectedValue">
                                <option ng-repeat="zoomLevel in rateManagerDataModel.filterOptions.zoomLevel.values"
                                        ng-selected="zoomLevel.value==rateManagerDataModel.filterOptions.zoomLevel.selectedValue"
                                        value="{{zoomLevel.value}}">
                                    {{zoomLevel.text}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <div class="entry">
                        <label for="rmSort">ORDER BY</label>
                        <div class="select">
                            <select iscroll-stop-propagation="" id="rmSort" name="sort-order"
                                    ng-model="rateManagerDataModel.filterOptions.orderBy.selectedValue">
                                <option ng-selected="orderBy.id === rateManagerDataModel.filterOptions.orderBy.selectedValue"
                                        ng-repeat="orderBy in rateManagerDataModel.filterOptions.orderBy.values"
                                        class="placeholder" value="{{orderBy.id}}">
                                        {{orderByValueMappings[orderBy.value]}}
                                </option>
                                
                            </select>
                        </div>
                    </div>

                    <div class="entry">
                        <label for="rmGroup">GROUP BY</label>
                        <div class="select">
                            <select iscroll-stop-propagation ng-model="rateManagerDataModel.filterOptions.groupBy.selectedValue" id="rmGroup" name="group-order">
                                <option value="" ng-selected="rateManagerDataModel.filterOptions.groupBy.selectedValue === ''">Select Group Order</option>
                                <option ng-repeat="groupBy in rateManagerDataModel.filterOptions.groupBy.values"
                                    value="{{groupBy.value}}" ng-selected="groupBy.value === rateManagerDataModel.filterOptions.groupBy.selectedValue">
                                    {{groupBy.text}}
                                </option>
                            </select>
                        </div>
                    </div>

                    <hr>

                    <!-- ADD Class .active on clicked item, remove otherwise -->
                    <ul class="tabs-nav">
                        <li><a href="#radioShowContainer" ng-click="switchTabAndCorrespondingActions('SHOW_ALL')" ng-class="{'active': rateManagerDataModel.filterOptions.viewTypeSelection.chosenTab ==='SHOW_ALL'}">Show All</a></li>
                        
                        <li><a href="#select-rate" ng-click="switchTabAndCorrespondingActions('SELECT_RATE')" ng-class="{'active': rateManagerDataModel.filterOptions.viewTypeSelection.chosenTab ==='SELECT_RATE'}" >Select Rate</a></li>
                    </ul>

                    <!-- Active tab has class .active -->
                    <div id="radioShowContainer" class="tab show-rate-or-room"
                         ng-class="{'active': rateManagerDataModel.filterOptions.viewTypeSelection.chosenTab ==='SHOW_ALL'}">
                        <!-- add Class .checked to label and icon, add attribute checked='checked' on input
                            when checked, otherwise remove all that
                         -->
                        <label class="checkbox radio inline" ng-class="{'checked': rateManagerDataModel.filterOptions.viewTypeSelection.showAllRates}">
                            <span class="icon-form icon-radio"
                                  ng-class="{'checked': rateManagerDataModel.filterOptions.viewTypeSelection.showAllRates}"></span>
                            <input name="show" value="rates" type="radio" ng-change="changedAllRatesSelection()"
                                   ng-model="rateManagerDataModel.filterOptions.viewTypeSelection.showAllRates">
                            ALL RATES
                        </label>

                        <label class="checkbox radio inline " 
                            ng-class="{'checked': rateManagerDataModel.filterOptions.viewTypeSelection.showAllRoomTypes}">
                            <span class="icon-form icon-radio " 
                                ng-class="{'checked': rateManagerDataModel.filterOptions.viewTypeSelection.showAllRoomTypes}"></span>
                            <input name="show" ng-change="changedAllRoomTypes()" value="rooms" type="radio" ng-model="rateManagerDataModel.filterOptions.viewTypeSelection.showAllRoomTypes">
                            ALL ROOM TYPES
                        </label>
                    </div>

                    <!-- Add class .active if clicked on tab 'Select Rate' -->
                    <div id="select-rate" class="tab" 
                        ng-class="{'active': rateManagerDataModel.filterOptions.viewTypeSelection.chosenTab ==='SELECT_RATE'}">
                        
                        <div class="entry">
                            <div class="select">
                                <select ng-change="rateTypeSelected()" ng-model="selectedRateTypeID" iscroll-stop-propagation id="rmRateType" name="rate-type">
                                    <option class="placeholder" value="">Select Rate Type</option>
                                    <option ng-repeat="rateType in rateManagerDataModel.filterOptions.viewTypeSelection.rateTypes" value="{{rateType.id}}">
                                        {{rateType.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="rates-box" ng-repeat="rateType in rateManagerDataModel.filterOptions.viewTypeSelection.selectedRateTypes">
                            <span class="rate-data">{{rateType.name}}</span>
                            <span ng-click="deleteSelectedRateType(rateType.id)" class="icons delete_small"> &nbsp;</span>
                        </div>

                        <span class="deleteall" ng-show="rateManagerDataModel.filterOptions.viewTypeSelection.selectedRateTypes.length > 2">
                            <a ng-click="deleteAllSelectedRateTypes()">
                                CLEAR ALL RATE TYPES
                            </a>
                        </span>

                        <div class="entry">
                            <div id="rmCurrentFilterData" class="select">
                                <select iscroll-stop-propagation ng-model="selectedRateID" id="rmRate" ng-change="rateSelected()">
                                    <option class="placeholder" value="">Select Rate</option>
                                    <option ng-show="shouldShowRate(rate)" ng-repeat="rate in rateManagerDataModel.filterOptions.viewTypeSelection.rates"
                                        value="{{rate.id}}" >
                                        {{rate.name}}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="rates-box" ng-repeat="rate in rateManagerDataModel.filterOptions.viewTypeSelection.selectedRates">
                            <span class="rate-data">{{rate.name}}</span>
                            <span ng-click="deleteSelectedRate(rate.id)" class="icons delete_small"> &nbsp;</span>
                        </div>

                        <span class="deleteall" ng-show="rateManagerDataModel.filterOptions.viewTypeSelection.selectedRates.length > 2">
                            <a ng-click="deleteAllSelectedRates()">
                                CLEAR ALL RATES
                            </a>
                        </span>
                    </div>

                    <hr>

                    <div id="accountsHolder" class="entry entry-company-card">
                        <label for="company-card" class="search-text">NAME CARD, IATA # OR CORPORATE ID</label>
                        <span type="submit" name="submit" class="icons icon-search1"></span>
                        <input type="text" id="company-card" placeholder="Enter search criteria" autocomplete="off"
                               ng-model="companySearchText" ng-keyup="companySearchTextEntered()"
                               class="ng-pristine ng-valid">
                    </div>
                </div>


            </div>
        </div>
    </div>
    <div class="company-card-results ng-hide" ng-hide="companyCardResults.length === 0 || companySearchText === ''"
         style="height: 42px; top: 0px">
        <div class="search-results" iscroll="nameOnCard" ng-iscroll-delay="100">
            <ul id="search-list">
                
            </ul>
        </div>
    </div>
    <div class="entry action-filter">
        <div class="actions float">
            <button class="button green" type="button" ng-click="onClickShowRates()"
                    ng-disabled="toggleShowRates()"
                    ng-class="{ grey: toggleShowRates() }" style="">Show Rates
            </button>
        </div>
    </div>
</div>